var sv=s=>{throw TypeError(s)};var Qf=(s,t,e)=>t.has(s)||sv("Cannot "+e);var ae=(s,t,e)=>(Qf(s,t,"read from private field"),e?e.call(s):t.get(s)),hn=(s,t,e)=>t.has(s)?sv("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(s):t.set(s,e),pi=(s,t,e,i)=>(Qf(s,t,"write to private field"),i?i.call(s,e):t.set(s,e),e),fn=(s,t,e)=>(Qf(s,t,"access private method"),e);var av=(s,t,e,i)=>({set _(a){pi(s,t,a,e)},get _(){return ae(s,t,i)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function e(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(a){if(a.ep)return;a.ep=!0;const o=e(a);fetch(a.href,o)}})();function fd(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Zf={exports:{}},Qo={};var rv;function zC(){if(rv)return Qo;rv=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,a,o){var l=null;if(o!==void 0&&(l=""+o),a.key!==void 0&&(l=""+a.key),"key"in a){o={};for(var u in a)u!=="key"&&(o[u]=a[u])}else o=a;return a=o.ref,{$$typeof:s,type:i,key:l,ref:a!==void 0?a:null,props:o}}return Qo.Fragment=t,Qo.jsx=e,Qo.jsxs=e,Qo}var ov;function FC(){return ov||(ov=1,Zf.exports=zC()),Zf.exports}var m=FC(),Jf={exports:{}},St={};var lv;function IC(){if(lv)return St;lv=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),b=Symbol.iterator;function v(O){return O===null||typeof O!="object"?null:(O=b&&O[b]||O["@@iterator"],typeof O=="function"?O:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,E={};function T(O,$,J){this.props=O,this.context=$,this.refs=E,this.updater=J||w}T.prototype.isReactComponent={},T.prototype.setState=function(O,$){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,$,"setState")},T.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function _(){}_.prototype=T.prototype;function C(O,$,J){this.props=O,this.context=$,this.refs=E,this.updater=J||w}var j=C.prototype=new _;j.constructor=C,A(j,T.prototype),j.isPureReactComponent=!0;var M=Array.isArray;function R(){}var D={H:null,A:null,T:null,S:null},P=Object.prototype.hasOwnProperty;function X(O,$,J){var nt=J.ref;return{$$typeof:s,type:O,key:$,ref:nt!==void 0?nt:null,props:J}}function V(O,$){return X(O.type,$,O.props)}function W(O){return typeof O=="object"&&O!==null&&O.$$typeof===s}function rt(O){var $={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(J){return $[J]})}var ft=/\/+/g;function et(O,$){return typeof O=="object"&&O!==null&&O.key!=null?rt(""+O.key):$.toString(36)}function at(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(R,R):(O.status="pending",O.then(function($){O.status==="pending"&&(O.status="fulfilled",O.value=$)},function($){O.status==="pending"&&(O.status="rejected",O.reason=$)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function z(O,$,J,nt,pt){var mt=typeof O;(mt==="undefined"||mt==="boolean")&&(O=null);var bt=!1;if(O===null)bt=!0;else switch(mt){case"bigint":case"string":case"number":bt=!0;break;case"object":switch(O.$$typeof){case s:case t:bt=!0;break;case p:return bt=O._init,z(bt(O._payload),$,J,nt,pt)}}if(bt)return pt=pt(O),bt=nt===""?"."+et(O,0):nt,M(pt)?(J="",bt!=null&&(J=bt.replace(ft,"$&/")+"/"),z(pt,$,J,"",function(ji){return ji})):pt!=null&&(W(pt)&&(pt=V(pt,J+(pt.key==null||O&&O.key===pt.key?"":(""+pt.key).replace(ft,"$&/")+"/")+bt)),$.push(pt)),1;bt=0;var ne=nt===""?".":nt+":";if(M(O))for(var Ht=0;Ht<O.length;Ht++)nt=O[Ht],mt=ne+et(nt,Ht),bt+=z(nt,$,J,mt,pt);else if(Ht=v(O),typeof Ht=="function")for(O=Ht.call(O),Ht=0;!(nt=O.next()).done;)nt=nt.value,mt=ne+et(nt,Ht++),bt+=z(nt,$,J,mt,pt);else if(mt==="object"){if(typeof O.then=="function")return z(at(O),$,J,nt,pt);throw $=String(O),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return bt}function q(O,$,J){if(O==null)return O;var nt=[],pt=0;return z(O,nt,"","",function(mt){return $.call(J,mt,pt++)}),nt}function I(O){if(O._status===-1){var $=O._result;$=$(),$.then(function(J){(O._status===0||O._status===-1)&&(O._status=1,O._result=J)},function(J){(O._status===0||O._status===-1)&&(O._status=2,O._result=J)}),O._status===-1&&(O._status=0,O._result=$)}if(O._status===1)return O._result.default;throw O._result}var it=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},dt={map:q,forEach:function(O,$,J){q(O,function(){$.apply(this,arguments)},J)},count:function(O){var $=0;return q(O,function(){$++}),$},toArray:function(O){return q(O,function($){return $})||[]},only:function(O){if(!W(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return St.Activity=g,St.Children=dt,St.Component=T,St.Fragment=e,St.Profiler=a,St.PureComponent=C,St.StrictMode=i,St.Suspense=d,St.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,St.__COMPILER_RUNTIME={__proto__:null,c:function(O){return D.H.useMemoCache(O)}},St.cache=function(O){return function(){return O.apply(null,arguments)}},St.cacheSignal=function(){return null},St.cloneElement=function(O,$,J){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var nt=A({},O.props),pt=O.key;if($!=null)for(mt in $.key!==void 0&&(pt=""+$.key),$)!P.call($,mt)||mt==="key"||mt==="__self"||mt==="__source"||mt==="ref"&&$.ref===void 0||(nt[mt]=$[mt]);var mt=arguments.length-2;if(mt===1)nt.children=J;else if(1<mt){for(var bt=Array(mt),ne=0;ne<mt;ne++)bt[ne]=arguments[ne+2];nt.children=bt}return X(O.type,pt,nt)},St.createContext=function(O){return O={$$typeof:l,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:o,_context:O},O},St.createElement=function(O,$,J){var nt,pt={},mt=null;if($!=null)for(nt in $.key!==void 0&&(mt=""+$.key),$)P.call($,nt)&&nt!=="key"&&nt!=="__self"&&nt!=="__source"&&(pt[nt]=$[nt]);var bt=arguments.length-2;if(bt===1)pt.children=J;else if(1<bt){for(var ne=Array(bt),Ht=0;Ht<bt;Ht++)ne[Ht]=arguments[Ht+2];pt.children=ne}if(O&&O.defaultProps)for(nt in bt=O.defaultProps,bt)pt[nt]===void 0&&(pt[nt]=bt[nt]);return X(O,mt,pt)},St.createRef=function(){return{current:null}},St.forwardRef=function(O){return{$$typeof:u,render:O}},St.isValidElement=W,St.lazy=function(O){return{$$typeof:p,_payload:{_status:-1,_result:O},_init:I}},St.memo=function(O,$){return{$$typeof:f,type:O,compare:$===void 0?null:$}},St.startTransition=function(O){var $=D.T,J={};D.T=J;try{var nt=O(),pt=D.S;pt!==null&&pt(J,nt),typeof nt=="object"&&nt!==null&&typeof nt.then=="function"&&nt.then(R,it)}catch(mt){it(mt)}finally{$!==null&&J.types!==null&&($.types=J.types),D.T=$}},St.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},St.use=function(O){return D.H.use(O)},St.useActionState=function(O,$,J){return D.H.useActionState(O,$,J)},St.useCallback=function(O,$){return D.H.useCallback(O,$)},St.useContext=function(O){return D.H.useContext(O)},St.useDebugValue=function(){},St.useDeferredValue=function(O,$){return D.H.useDeferredValue(O,$)},St.useEffect=function(O,$){return D.H.useEffect(O,$)},St.useEffectEvent=function(O){return D.H.useEffectEvent(O)},St.useId=function(){return D.H.useId()},St.useImperativeHandle=function(O,$,J){return D.H.useImperativeHandle(O,$,J)},St.useInsertionEffect=function(O,$){return D.H.useInsertionEffect(O,$)},St.useLayoutEffect=function(O,$){return D.H.useLayoutEffect(O,$)},St.useMemo=function(O,$){return D.H.useMemo(O,$)},St.useOptimistic=function(O,$){return D.H.useOptimistic(O,$)},St.useReducer=function(O,$,J){return D.H.useReducer(O,$,J)},St.useRef=function(O){return D.H.useRef(O)},St.useState=function(O){return D.H.useState(O)},St.useSyncExternalStore=function(O,$,J){return D.H.useSyncExternalStore(O,$,J)},St.useTransition=function(){return D.H.useTransition()},St.version="19.2.3",St}var cv;function Gm(){return cv||(cv=1,Jf.exports=IC()),Jf.exports}var k=Gm();const Zn=fd(k);var tp={exports:{}},Zo={},ep={exports:{}},ip={};var uv;function UC(){return uv||(uv=1,(function(s){function t(z,q){var I=z.length;z.push(q);t:for(;0<I;){var it=I-1>>>1,dt=z[it];if(0<a(dt,q))z[it]=q,z[I]=dt,I=it;else break t}}function e(z){return z.length===0?null:z[0]}function i(z){if(z.length===0)return null;var q=z[0],I=z.pop();if(I!==q){z[0]=I;t:for(var it=0,dt=z.length,O=dt>>>1;it<O;){var $=2*(it+1)-1,J=z[$],nt=$+1,pt=z[nt];if(0>a(J,I))nt<dt&&0>a(pt,J)?(z[it]=pt,z[nt]=I,it=nt):(z[it]=J,z[$]=I,it=$);else if(nt<dt&&0>a(pt,I))z[it]=pt,z[nt]=I,it=nt;else break t}}return q}function a(z,q){var I=z.sortIndex-q.sortIndex;return I!==0?I:z.id-q.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;s.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();s.unstable_now=function(){return l.now()-u}}var d=[],f=[],p=1,g=null,b=3,v=!1,w=!1,A=!1,E=!1,T=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function j(z){for(var q=e(f);q!==null;){if(q.callback===null)i(f);else if(q.startTime<=z)i(f),q.sortIndex=q.expirationTime,t(d,q);else break;q=e(f)}}function M(z){if(A=!1,j(z),!w)if(e(d)!==null)w=!0,R||(R=!0,rt());else{var q=e(f);q!==null&&at(M,q.startTime-z)}}var R=!1,D=-1,P=5,X=-1;function V(){return E?!0:!(s.unstable_now()-X<P)}function W(){if(E=!1,R){var z=s.unstable_now();X=z;var q=!0;try{t:{w=!1,A&&(A=!1,_(D),D=-1),v=!0;var I=b;try{e:{for(j(z),g=e(d);g!==null&&!(g.expirationTime>z&&V());){var it=g.callback;if(typeof it=="function"){g.callback=null,b=g.priorityLevel;var dt=it(g.expirationTime<=z);if(z=s.unstable_now(),typeof dt=="function"){g.callback=dt,j(z),q=!0;break e}g===e(d)&&i(d),j(z)}else i(d);g=e(d)}if(g!==null)q=!0;else{var O=e(f);O!==null&&at(M,O.startTime-z),q=!1}}break t}finally{g=null,b=I,v=!1}q=void 0}}finally{q?rt():R=!1}}}var rt;if(typeof C=="function")rt=function(){C(W)};else if(typeof MessageChannel<"u"){var ft=new MessageChannel,et=ft.port2;ft.port1.onmessage=W,rt=function(){et.postMessage(null)}}else rt=function(){T(W,0)};function at(z,q){D=T(function(){z(s.unstable_now())},q)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(z){z.callback=null},s.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<z?Math.floor(1e3/z):5},s.unstable_getCurrentPriorityLevel=function(){return b},s.unstable_next=function(z){switch(b){case 1:case 2:case 3:var q=3;break;default:q=b}var I=b;b=q;try{return z()}finally{b=I}},s.unstable_requestPaint=function(){E=!0},s.unstable_runWithPriority=function(z,q){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var I=b;b=z;try{return q()}finally{b=I}},s.unstable_scheduleCallback=function(z,q,I){var it=s.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?it+I:it):I=it,z){case 1:var dt=-1;break;case 2:dt=250;break;case 5:dt=1073741823;break;case 4:dt=1e4;break;default:dt=5e3}return dt=I+dt,z={id:p++,callback:q,priorityLevel:z,startTime:I,expirationTime:dt,sortIndex:-1},I>it?(z.sortIndex=I,t(f,z),e(d)===null&&z===e(f)&&(A?(_(D),D=-1):A=!0,at(M,I-it))):(z.sortIndex=dt,t(d,z),w||v||(w=!0,R||(R=!0,rt()))),z},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(z){var q=b;return function(){var I=b;b=q;try{return z.apply(this,arguments)}finally{b=I}}}})(ip)),ip}var dv;function HC(){return dv||(dv=1,ep.exports=UC()),ep.exports}var np={exports:{}},Qe={};var hv;function VC(){if(hv)return Qe;hv=1;var s=Gm();function t(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(d,f,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:g==null?null:""+g,children:d,containerInfo:f,implementation:p}}var l=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Qe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Qe.createPortal=function(d,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return o(d,f,null,p)},Qe.flushSync=function(d){var f=l.T,p=i.p;try{if(l.T=null,i.p=2,d)return d()}finally{l.T=f,i.p=p,i.d.f()}},Qe.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,i.d.C(d,f))},Qe.prefetchDNS=function(d){typeof d=="string"&&i.d.D(d)},Qe.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var p=f.as,g=u(p,f.crossOrigin),b=typeof f.integrity=="string"?f.integrity:void 0,v=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?i.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:g,integrity:b,fetchPriority:v}):p==="script"&&i.d.X(d,{crossOrigin:g,integrity:b,fetchPriority:v,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Qe.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=u(f.as,f.crossOrigin);i.d.M(d,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&i.d.M(d)},Qe.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,g=u(p,f.crossOrigin);i.d.L(d,p,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Qe.preloadModule=function(d,f){if(typeof d=="string")if(f){var p=u(f.as,f.crossOrigin);i.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else i.d.m(d)},Qe.requestFormReset=function(d){i.d.r(d)},Qe.unstable_batchedUpdates=function(d,f){return d(f)},Qe.useFormState=function(d,f,p){return l.H.useFormState(d,f,p)},Qe.useFormStatus=function(){return l.H.useHostTransitionStatus()},Qe.version="19.2.3",Qe}var fv;function qC(){if(fv)return np.exports;fv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),np.exports=VC(),np.exports}var pv;function GC(){if(pv)return Zo;pv=1;var s=HC(),t=Gm(),e=qC();function i(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)r+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function o(n){var r=n,c=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(c=r.return),n=r.return;while(n)}return r.tag===3?c:null}function l(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function u(n){if(n.tag===31){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function d(n){if(o(n)!==n)throw Error(i(188))}function f(n){var r=n.alternate;if(!r){if(r=o(n),r===null)throw Error(i(188));return r!==n?null:n}for(var c=n,h=r;;){var x=c.return;if(x===null)break;var y=x.alternate;if(y===null){if(h=x.return,h!==null){c=h;continue}break}if(x.child===y.child){for(y=x.child;y;){if(y===c)return d(x),n;if(y===h)return d(x),r;y=y.sibling}throw Error(i(188))}if(c.return!==h.return)c=x,h=y;else{for(var S=!1,N=x.child;N;){if(N===c){S=!0,c=x,h=y;break}if(N===h){S=!0,h=x,c=y;break}N=N.sibling}if(!S){for(N=y.child;N;){if(N===c){S=!0,c=y,h=x;break}if(N===h){S=!0,h=y,c=x;break}N=N.sibling}if(!S)throw Error(i(189))}}if(c.alternate!==h)throw Error(i(190))}if(c.tag!==3)throw Error(i(188));return c.stateNode.current===c?n:r}function p(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=p(n),r!==null)return r;n=n.sibling}return null}var g=Object.assign,b=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),_=Symbol.for("react.consumer"),C=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),X=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),W=Symbol.iterator;function rt(n){return n===null||typeof n!="object"?null:(n=W&&n[W]||n["@@iterator"],typeof n=="function"?n:null)}var ft=Symbol.for("react.client.reference");function et(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===ft?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case A:return"Fragment";case T:return"Profiler";case E:return"StrictMode";case M:return"Suspense";case R:return"SuspenseList";case X:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case w:return"Portal";case C:return n.displayName||"Context";case _:return(n._context.displayName||"Context")+".Consumer";case j:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case D:return r=n.displayName||null,r!==null?r:et(n.type)||"Memo";case P:r=n._payload,n=n._init;try{return et(n(r))}catch{}}return null}var at=Array.isArray,z=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I={pending:!1,data:null,method:null,action:null},it=[],dt=-1;function O(n){return{current:n}}function $(n){0>dt||(n.current=it[dt],it[dt]=null,dt--)}function J(n,r){dt++,it[dt]=n.current,n.current=r}var nt=O(null),pt=O(null),mt=O(null),bt=O(null);function ne(n,r){switch(J(mt,r),J(pt,n),J(nt,null),r.nodeType){case 9:case 11:n=(n=r.documentElement)&&(n=n.namespaceURI)?_b(n):0;break;default:if(n=r.tagName,r=r.namespaceURI)r=_b(r),n=Nb(r,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}$(nt),J(nt,n)}function Ht(){$(nt),$(pt),$(mt)}function ji(n){n.memoizedState!==null&&J(bt,n);var r=nt.current,c=Nb(r,n.type);r!==c&&(J(pt,n),J(nt,c))}function vi(n){pt.current===n&&($(nt),$(pt)),bt.current===n&&($(bt),Xo._currentValue=I)}var ri,as;function Mi(n){if(ri===void 0)try{throw Error()}catch(c){var r=c.stack.trim().match(/\n( *(at )?)/);ri=r&&r[1]||"",as=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ri+n+as}var ja=!1;function Ma(n,r){if(!n||ja)return"";ja=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(r){var tt=function(){throw Error()};if(Object.defineProperty(tt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(tt,[])}catch(K){var G=K}Reflect.construct(n,[],tt)}else{try{tt.call()}catch(K){G=K}n.call(tt.prototype)}}else{try{throw Error()}catch(K){G=K}(tt=n())&&typeof tt.catch=="function"&&tt.catch(function(){})}}catch(K){if(K&&G&&typeof K.stack=="string")return[K.stack,G.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var x=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");x&&x.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=h.DetermineComponentFrameRoot(),S=y[0],N=y[1];if(S&&N){var L=S.split(`
`),H=N.split(`
`);for(x=h=0;h<L.length&&!L[h].includes("DetermineComponentFrameRoot");)h++;for(;x<H.length&&!H[x].includes("DetermineComponentFrameRoot");)x++;if(h===L.length||x===H.length)for(h=L.length-1,x=H.length-1;1<=h&&0<=x&&L[h]!==H[x];)x--;for(;1<=h&&0<=x;h--,x--)if(L[h]!==H[x]){if(h!==1||x!==1)do if(h--,x--,0>x||L[h]!==H[x]){var Q=`
`+L[h].replace(" at new "," at ");return n.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",n.displayName)),Q}while(1<=h&&0<=x);break}}}finally{ja=!1,Error.prepareStackTrace=c}return(c=n?n.displayName||n.name:"")?Mi(c):""}function rs(n,r){switch(n.tag){case 26:case 27:case 5:return Mi(n.type);case 16:return Mi("Lazy");case 13:return n.child!==r&&r!==null?Mi("Suspense Fallback"):Mi("Suspense");case 19:return Mi("SuspenseList");case 0:case 15:return Ma(n.type,!1);case 11:return Ma(n.type.render,!1);case 1:return Ma(n.type,!0);case 31:return Mi("Activity");default:return""}}function Da(n){try{var r="",c=null;do r+=rs(n,c),c=n,n=n.return;while(n);return r}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var os=Object.prototype.hasOwnProperty,ls=s.unstable_scheduleCallback,to=s.unstable_cancelCallback,Ld=s.unstable_shouldYield,Pd=s.unstable_requestPaint,st=s.unstable_now,wt=s.unstable_getCurrentPriorityLevel,ue=s.unstable_ImmediatePriority,we=s.unstable_UserBlockingPriority,Oe=s.unstable_NormalPriority,qs=s.unstable_LowPriority,Tn=s.unstable_IdlePriority,eo=s.log,io=s.unstable_setDisableYieldValue,Cn=null,Le=null;function Di(n){if(typeof eo=="function"&&io(n),Le&&typeof Le.setStrictMode=="function")try{Le.setStrictMode(Cn,n)}catch{}}var Ie=Math.clz32?Math.clz32:Bd,no=Math.log,so=Math.LN2;function Bd(n){return n>>>=0,n===0?32:31-(no(n)/so|0)|0}var Jl=256,tc=262144,ec=4194304;function Gs(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function ic(n,r,c){var h=n.pendingLanes;if(h===0)return 0;var x=0,y=n.suspendedLanes,S=n.pingedLanes;n=n.warmLanes;var N=h&134217727;return N!==0?(h=N&~y,h!==0?x=Gs(h):(S&=N,S!==0?x=Gs(S):c||(c=N&~n,c!==0&&(x=Gs(c))))):(N=h&~y,N!==0?x=Gs(N):S!==0?x=Gs(S):c||(c=h&~n,c!==0&&(x=Gs(c)))),x===0?0:r!==0&&r!==x&&(r&y)===0&&(y=x&-x,c=r&-r,y>=c||y===32&&(c&4194048)!==0)?r:x}function ao(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function TE(n,r){switch(n){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function l0(){var n=ec;return ec<<=1,(ec&62914560)===0&&(ec=4194304),n}function zd(n){for(var r=[],c=0;31>c;c++)r.push(n);return r}function ro(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function CE(n,r,c,h,x,y){var S=n.pendingLanes;n.pendingLanes=c,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=c,n.entangledLanes&=c,n.errorRecoveryDisabledLanes&=c,n.shellSuspendCounter=0;var N=n.entanglements,L=n.expirationTimes,H=n.hiddenUpdates;for(c=S&~c;0<c;){var Q=31-Ie(c),tt=1<<Q;N[Q]=0,L[Q]=-1;var G=H[Q];if(G!==null)for(H[Q]=null,Q=0;Q<G.length;Q++){var K=G[Q];K!==null&&(K.lane&=-536870913)}c&=~tt}h!==0&&c0(n,h,0),y!==0&&x===0&&n.tag!==0&&(n.suspendedLanes|=y&~(S&~r))}function c0(n,r,c){n.pendingLanes|=r,n.suspendedLanes&=~r;var h=31-Ie(r);n.entangledLanes|=r,n.entanglements[h]=n.entanglements[h]|1073741824|c&261930}function u0(n,r){var c=n.entangledLanes|=r;for(n=n.entanglements;c;){var h=31-Ie(c),x=1<<h;x&r|n[h]&r&&(n[h]|=r),c&=~x}}function d0(n,r){var c=r&-r;return c=(c&42)!==0?1:Fd(c),(c&(n.suspendedLanes|r))!==0?0:c}function Fd(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Id(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function h0(){var n=q.p;return n!==0?n:(n=window.event,n===void 0?32:Qb(n.type))}function f0(n,r){var c=q.p;try{return q.p=n,r()}finally{q.p=c}}var cs=Math.random().toString(36).slice(2),Ue="__reactFiber$"+cs,oi="__reactProps$"+cs,Ra="__reactContainer$"+cs,Ud="__reactEvents$"+cs,_E="__reactListeners$"+cs,NE="__reactHandles$"+cs,p0="__reactResources$"+cs,oo="__reactMarker$"+cs;function Hd(n){delete n[Ue],delete n[oi],delete n[Ud],delete n[_E],delete n[NE]}function Oa(n){var r=n[Ue];if(r)return r;for(var c=n.parentNode;c;){if(r=c[Ra]||c[Ue]){if(c=r.alternate,r.child!==null||c!==null&&c.child!==null)for(n=Lb(n);n!==null;){if(c=n[Ue])return c;n=Lb(n)}return r}n=c,c=n.parentNode}return null}function La(n){if(n=n[Ue]||n[Ra]){var r=n.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return n}return null}function lo(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(i(33))}function Pa(n){var r=n[p0];return r||(r=n[p0]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Pe(n){n[oo]=!0}var m0=new Set,g0={};function $s(n,r){Ba(n,r),Ba(n+"Capture",r)}function Ba(n,r){for(g0[n]=r,n=0;n<r.length;n++)m0.add(r[n])}var kE=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),x0={},y0={};function jE(n){return os.call(y0,n)?!0:os.call(x0,n)?!1:kE.test(n)?y0[n]=!0:(x0[n]=!0,!1)}function nc(n,r,c){if(jE(r))if(c===null)n.removeAttribute(r);else{switch(typeof c){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var h=r.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+c)}}function sc(n,r,c){if(c===null)n.removeAttribute(r);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+c)}}function _n(n,r,c,h){if(h===null)n.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(c);return}n.setAttributeNS(r,c,""+h)}}function Ri(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function b0(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function ME(n,r,c){var h=Object.getOwnPropertyDescriptor(n.constructor.prototype,r);if(!n.hasOwnProperty(r)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var x=h.get,y=h.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return x.call(this)},set:function(S){c=""+S,y.call(this,S)}}),Object.defineProperty(n,r,{enumerable:h.enumerable}),{getValue:function(){return c},setValue:function(S){c=""+S},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function Vd(n){if(!n._valueTracker){var r=b0(n)?"checked":"value";n._valueTracker=ME(n,r,""+n[r])}}function v0(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var c=r.getValue(),h="";return n&&(h=b0(n)?n.checked?"true":"false":n.value),n=h,n!==c?(r.setValue(n),!0):!1}function ac(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var DE=/[\n"\\]/g;function Oi(n){return n.replace(DE,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function qd(n,r,c,h,x,y,S,N){n.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?n.type=S:n.removeAttribute("type"),r!=null?S==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+Ri(r)):n.value!==""+Ri(r)&&(n.value=""+Ri(r)):S!=="submit"&&S!=="reset"||n.removeAttribute("value"),r!=null?Gd(n,S,Ri(r)):c!=null?Gd(n,S,Ri(c)):h!=null&&n.removeAttribute("value"),x==null&&y!=null&&(n.defaultChecked=!!y),x!=null&&(n.checked=x&&typeof x!="function"&&typeof x!="symbol"),N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?n.name=""+Ri(N):n.removeAttribute("name")}function w0(n,r,c,h,x,y,S,N){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(n.type=y),r!=null||c!=null){if(!(y!=="submit"&&y!=="reset"||r!=null)){Vd(n);return}c=c!=null?""+Ri(c):"",r=r!=null?""+Ri(r):c,N||r===n.value||(n.value=r),n.defaultValue=r}h=h??x,h=typeof h!="function"&&typeof h!="symbol"&&!!h,n.checked=N?n.checked:!!h,n.defaultChecked=!!h,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(n.name=S),Vd(n)}function Gd(n,r,c){r==="number"&&ac(n.ownerDocument)===n||n.defaultValue===""+c||(n.defaultValue=""+c)}function za(n,r,c,h){if(n=n.options,r){r={};for(var x=0;x<c.length;x++)r["$"+c[x]]=!0;for(c=0;c<n.length;c++)x=r.hasOwnProperty("$"+n[c].value),n[c].selected!==x&&(n[c].selected=x),x&&h&&(n[c].defaultSelected=!0)}else{for(c=""+Ri(c),r=null,x=0;x<n.length;x++){if(n[x].value===c){n[x].selected=!0,h&&(n[x].defaultSelected=!0);return}r!==null||n[x].disabled||(r=n[x])}r!==null&&(r.selected=!0)}}function A0(n,r,c){if(r!=null&&(r=""+Ri(r),r!==n.value&&(n.value=r),c==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=c!=null?""+Ri(c):""}function S0(n,r,c,h){if(r==null){if(h!=null){if(c!=null)throw Error(i(92));if(at(h)){if(1<h.length)throw Error(i(93));h=h[0]}c=h}c==null&&(c=""),r=c}c=Ri(r),n.defaultValue=c,h=n.textContent,h===c&&h!==""&&h!==null&&(n.value=h),Vd(n)}function Fa(n,r){if(r){var c=n.firstChild;if(c&&c===n.lastChild&&c.nodeType===3){c.nodeValue=r;return}}n.textContent=r}var RE=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function E0(n,r,c){var h=r.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?h?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":h?n.setProperty(r,c):typeof c!="number"||c===0||RE.has(r)?r==="float"?n.cssFloat=c:n[r]=(""+c).trim():n[r]=c+"px"}function T0(n,r,c){if(r!=null&&typeof r!="object")throw Error(i(62));if(n=n.style,c!=null){for(var h in c)!c.hasOwnProperty(h)||r!=null&&r.hasOwnProperty(h)||(h.indexOf("--")===0?n.setProperty(h,""):h==="float"?n.cssFloat="":n[h]="");for(var x in r)h=r[x],r.hasOwnProperty(x)&&c[x]!==h&&E0(n,x,h)}else for(var y in r)r.hasOwnProperty(y)&&E0(n,y,r[y])}function $d(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var OE=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),LE=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function rc(n){return LE.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function Nn(){}var Xd=null;function Yd(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Ia=null,Ua=null;function C0(n){var r=La(n);if(r&&(n=r.stateNode)){var c=n[oi]||null;t:switch(n=r.stateNode,r.type){case"input":if(qd(n,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),r=c.name,c.type==="radio"&&r!=null){for(c=n;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+Oi(""+r)+'"][type="radio"]'),r=0;r<c.length;r++){var h=c[r];if(h!==n&&h.form===n.form){var x=h[oi]||null;if(!x)throw Error(i(90));qd(h,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name)}}for(r=0;r<c.length;r++)h=c[r],h.form===n.form&&v0(h)}break t;case"textarea":A0(n,c.value,c.defaultValue);break t;case"select":r=c.value,r!=null&&za(n,!!c.multiple,r,!1)}}}var Kd=!1;function _0(n,r,c){if(Kd)return n(r,c);Kd=!0;try{var h=n(r);return h}finally{if(Kd=!1,(Ia!==null||Ua!==null)&&(Xc(),Ia&&(r=Ia,n=Ua,Ua=Ia=null,C0(r),n)))for(r=0;r<n.length;r++)C0(n[r])}}function co(n,r){var c=n.stateNode;if(c===null)return null;var h=c[oi]||null;if(h===null)return null;c=h[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(n=n.type,h=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!h;break t;default:n=!1}if(n)return null;if(c&&typeof c!="function")throw Error(i(231,r,typeof c));return c}var kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wd=!1;if(kn)try{var uo={};Object.defineProperty(uo,"passive",{get:function(){Wd=!0}}),window.addEventListener("test",uo,uo),window.removeEventListener("test",uo,uo)}catch{Wd=!1}var us=null,Qd=null,oc=null;function N0(){if(oc)return oc;var n,r=Qd,c=r.length,h,x="value"in us?us.value:us.textContent,y=x.length;for(n=0;n<c&&r[n]===x[n];n++);var S=c-n;for(h=1;h<=S&&r[c-h]===x[y-h];h++);return oc=x.slice(n,1<h?1-h:void 0)}function lc(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function cc(){return!0}function k0(){return!1}function li(n){function r(c,h,x,y,S){this._reactName=c,this._targetInst=x,this.type=h,this.nativeEvent=y,this.target=S,this.currentTarget=null;for(var N in n)n.hasOwnProperty(N)&&(c=n[N],this[N]=c?c(y):y[N]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?cc:k0,this.isPropagationStopped=k0,this}return g(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=cc)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=cc)},persist:function(){},isPersistent:cc}),r}var Xs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},uc=li(Xs),ho=g({},Xs,{view:0,detail:0}),PE=li(ho),Zd,Jd,fo,dc=g({},ho,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:eh,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==fo&&(fo&&n.type==="mousemove"?(Zd=n.screenX-fo.screenX,Jd=n.screenY-fo.screenY):Jd=Zd=0,fo=n),Zd)},movementY:function(n){return"movementY"in n?n.movementY:Jd}}),j0=li(dc),BE=g({},dc,{dataTransfer:0}),zE=li(BE),FE=g({},ho,{relatedTarget:0}),th=li(FE),IE=g({},Xs,{animationName:0,elapsedTime:0,pseudoElement:0}),UE=li(IE),HE=g({},Xs,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),VE=li(HE),qE=g({},Xs,{data:0}),M0=li(qE),GE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$E={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},XE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function YE(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=XE[n])?!!r[n]:!1}function eh(){return YE}var KE=g({},ho,{key:function(n){if(n.key){var r=GE[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=lc(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?$E[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:eh,charCode:function(n){return n.type==="keypress"?lc(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?lc(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),WE=li(KE),QE=g({},dc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),D0=li(QE),ZE=g({},ho,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:eh}),JE=li(ZE),tT=g({},Xs,{propertyName:0,elapsedTime:0,pseudoElement:0}),eT=li(tT),iT=g({},dc,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),nT=li(iT),sT=g({},Xs,{newState:0,oldState:0}),aT=li(sT),rT=[9,13,27,32],ih=kn&&"CompositionEvent"in window,po=null;kn&&"documentMode"in document&&(po=document.documentMode);var oT=kn&&"TextEvent"in window&&!po,R0=kn&&(!ih||po&&8<po&&11>=po),O0=" ",L0=!1;function P0(n,r){switch(n){case"keyup":return rT.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function B0(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ha=!1;function lT(n,r){switch(n){case"compositionend":return B0(r);case"keypress":return r.which!==32?null:(L0=!0,O0);case"textInput":return n=r.data,n===O0&&L0?null:n;default:return null}}function cT(n,r){if(Ha)return n==="compositionend"||!ih&&P0(n,r)?(n=N0(),oc=Qd=us=null,Ha=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return R0&&r.locale!=="ko"?null:r.data;default:return null}}var uT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function z0(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!uT[n.type]:r==="textarea"}function F0(n,r,c,h){Ia?Ua?Ua.push(h):Ua=[h]:Ia=h,r=tu(r,"onChange"),0<r.length&&(c=new uc("onChange","change",null,c,h),n.push({event:c,listeners:r}))}var mo=null,go=null;function dT(n){wb(n,0)}function hc(n){var r=lo(n);if(v0(r))return n}function I0(n,r){if(n==="change")return r}var U0=!1;if(kn){var nh;if(kn){var sh="oninput"in document;if(!sh){var H0=document.createElement("div");H0.setAttribute("oninput","return;"),sh=typeof H0.oninput=="function"}nh=sh}else nh=!1;U0=nh&&(!document.documentMode||9<document.documentMode)}function V0(){mo&&(mo.detachEvent("onpropertychange",q0),go=mo=null)}function q0(n){if(n.propertyName==="value"&&hc(go)){var r=[];F0(r,go,n,Yd(n)),_0(dT,r)}}function hT(n,r,c){n==="focusin"?(V0(),mo=r,go=c,mo.attachEvent("onpropertychange",q0)):n==="focusout"&&V0()}function fT(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return hc(go)}function pT(n,r){if(n==="click")return hc(r)}function mT(n,r){if(n==="input"||n==="change")return hc(r)}function gT(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var wi=typeof Object.is=="function"?Object.is:gT;function xo(n,r){if(wi(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var c=Object.keys(n),h=Object.keys(r);if(c.length!==h.length)return!1;for(h=0;h<c.length;h++){var x=c[h];if(!os.call(r,x)||!wi(n[x],r[x]))return!1}return!0}function G0(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function $0(n,r){var c=G0(n);n=0;for(var h;c;){if(c.nodeType===3){if(h=n+c.textContent.length,n<=r&&h>=r)return{node:c,offset:r-n};n=h}t:{for(;c;){if(c.nextSibling){c=c.nextSibling;break t}c=c.parentNode}c=void 0}c=G0(c)}}function X0(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?X0(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function Y0(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=ac(n.document);r instanceof n.HTMLIFrameElement;){try{var c=typeof r.contentWindow.location.href=="string"}catch{c=!1}if(c)n=r.contentWindow;else break;r=ac(n.document)}return r}function ah(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}var xT=kn&&"documentMode"in document&&11>=document.documentMode,Va=null,rh=null,yo=null,oh=!1;function K0(n,r,c){var h=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;oh||Va==null||Va!==ac(h)||(h=Va,"selectionStart"in h&&ah(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),yo&&xo(yo,h)||(yo=h,h=tu(rh,"onSelect"),0<h.length&&(r=new uc("onSelect","select",null,r,c),n.push({event:r,listeners:h}),r.target=Va)))}function Ys(n,r){var c={};return c[n.toLowerCase()]=r.toLowerCase(),c["Webkit"+n]="webkit"+r,c["Moz"+n]="moz"+r,c}var qa={animationend:Ys("Animation","AnimationEnd"),animationiteration:Ys("Animation","AnimationIteration"),animationstart:Ys("Animation","AnimationStart"),transitionrun:Ys("Transition","TransitionRun"),transitionstart:Ys("Transition","TransitionStart"),transitioncancel:Ys("Transition","TransitionCancel"),transitionend:Ys("Transition","TransitionEnd")},lh={},W0={};kn&&(W0=document.createElement("div").style,"AnimationEvent"in window||(delete qa.animationend.animation,delete qa.animationiteration.animation,delete qa.animationstart.animation),"TransitionEvent"in window||delete qa.transitionend.transition);function Ks(n){if(lh[n])return lh[n];if(!qa[n])return n;var r=qa[n],c;for(c in r)if(r.hasOwnProperty(c)&&c in W0)return lh[n]=r[c];return n}var Q0=Ks("animationend"),Z0=Ks("animationiteration"),J0=Ks("animationstart"),yT=Ks("transitionrun"),bT=Ks("transitionstart"),vT=Ks("transitioncancel"),tx=Ks("transitionend"),ex=new Map,ch="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ch.push("scrollEnd");function Zi(n,r){ex.set(n,r),$s(r,[n])}var fc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},Li=[],Ga=0,uh=0;function pc(){for(var n=Ga,r=uh=Ga=0;r<n;){var c=Li[r];Li[r++]=null;var h=Li[r];Li[r++]=null;var x=Li[r];Li[r++]=null;var y=Li[r];if(Li[r++]=null,h!==null&&x!==null){var S=h.pending;S===null?x.next=x:(x.next=S.next,S.next=x),h.pending=x}y!==0&&ix(c,x,y)}}function mc(n,r,c,h){Li[Ga++]=n,Li[Ga++]=r,Li[Ga++]=c,Li[Ga++]=h,uh|=h,n.lanes|=h,n=n.alternate,n!==null&&(n.lanes|=h)}function dh(n,r,c,h){return mc(n,r,c,h),gc(n)}function Ws(n,r){return mc(n,null,null,r),gc(n)}function ix(n,r,c){n.lanes|=c;var h=n.alternate;h!==null&&(h.lanes|=c);for(var x=!1,y=n.return;y!==null;)y.childLanes|=c,h=y.alternate,h!==null&&(h.childLanes|=c),y.tag===22&&(n=y.stateNode,n===null||n._visibility&1||(x=!0)),n=y,y=y.return;return n.tag===3?(y=n.stateNode,x&&r!==null&&(x=31-Ie(c),n=y.hiddenUpdates,h=n[x],h===null?n[x]=[r]:h.push(r),r.lane=c|536870912),y):null}function gc(n){if(50<Io)throw Io=0,wf=null,Error(i(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var $a={};function wT(n,r,c,h){this.tag=n,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ai(n,r,c,h){return new wT(n,r,c,h)}function hh(n){return n=n.prototype,!(!n||!n.isReactComponent)}function jn(n,r){var c=n.alternate;return c===null?(c=Ai(n.tag,r,n.key,n.mode),c.elementType=n.elementType,c.type=n.type,c.stateNode=n.stateNode,c.alternate=n,n.alternate=c):(c.pendingProps=r,c.type=n.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=n.flags&65011712,c.childLanes=n.childLanes,c.lanes=n.lanes,c.child=n.child,c.memoizedProps=n.memoizedProps,c.memoizedState=n.memoizedState,c.updateQueue=n.updateQueue,r=n.dependencies,c.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},c.sibling=n.sibling,c.index=n.index,c.ref=n.ref,c.refCleanup=n.refCleanup,c}function nx(n,r){n.flags&=65011714;var c=n.alternate;return c===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=c.childLanes,n.lanes=c.lanes,n.child=c.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=c.memoizedProps,n.memoizedState=c.memoizedState,n.updateQueue=c.updateQueue,n.type=c.type,r=c.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function xc(n,r,c,h,x,y){var S=0;if(h=n,typeof n=="function")hh(n)&&(S=1);else if(typeof n=="string")S=CC(n,c,nt.current)?26:n==="html"||n==="head"||n==="body"?27:5;else t:switch(n){case X:return n=Ai(31,c,r,x),n.elementType=X,n.lanes=y,n;case A:return Qs(c.children,x,y,r);case E:S=8,x|=24;break;case T:return n=Ai(12,c,r,x|2),n.elementType=T,n.lanes=y,n;case M:return n=Ai(13,c,r,x),n.elementType=M,n.lanes=y,n;case R:return n=Ai(19,c,r,x),n.elementType=R,n.lanes=y,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case C:S=10;break t;case _:S=9;break t;case j:S=11;break t;case D:S=14;break t;case P:S=16,h=null;break t}S=29,c=Error(i(130,n===null?"null":typeof n,"")),h=null}return r=Ai(S,c,r,x),r.elementType=n,r.type=h,r.lanes=y,r}function Qs(n,r,c,h){return n=Ai(7,n,h,r),n.lanes=c,n}function fh(n,r,c){return n=Ai(6,n,null,r),n.lanes=c,n}function sx(n){var r=Ai(18,null,null,0);return r.stateNode=n,r}function ph(n,r,c){return r=Ai(4,n.children!==null?n.children:[],n.key,r),r.lanes=c,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}var ax=new WeakMap;function Pi(n,r){if(typeof n=="object"&&n!==null){var c=ax.get(n);return c!==void 0?c:(r={value:n,source:r,stack:Da(r)},ax.set(n,r),r)}return{value:n,source:r,stack:Da(r)}}var Xa=[],Ya=0,yc=null,bo=0,Bi=[],zi=0,ds=null,ln=1,cn="";function Mn(n,r){Xa[Ya++]=bo,Xa[Ya++]=yc,yc=n,bo=r}function rx(n,r,c){Bi[zi++]=ln,Bi[zi++]=cn,Bi[zi++]=ds,ds=n;var h=ln;n=cn;var x=32-Ie(h)-1;h&=~(1<<x),c+=1;var y=32-Ie(r)+x;if(30<y){var S=x-x%5;y=(h&(1<<S)-1).toString(32),h>>=S,x-=S,ln=1<<32-Ie(r)+x|c<<x|h,cn=y+n}else ln=1<<y|c<<x|h,cn=n}function mh(n){n.return!==null&&(Mn(n,1),rx(n,1,0))}function gh(n){for(;n===yc;)yc=Xa[--Ya],Xa[Ya]=null,bo=Xa[--Ya],Xa[Ya]=null;for(;n===ds;)ds=Bi[--zi],Bi[zi]=null,cn=Bi[--zi],Bi[zi]=null,ln=Bi[--zi],Bi[zi]=null}function ox(n,r){Bi[zi++]=ln,Bi[zi++]=cn,Bi[zi++]=ds,ln=r.id,cn=r.overflow,ds=n}var He=null,ee=null,Ot=!1,hs=null,Fi=!1,xh=Error(i(519));function fs(n){var r=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw vo(Pi(r,n)),xh}function lx(n){var r=n.stateNode,c=n.type,h=n.memoizedProps;switch(r[Ue]=n,r[oi]=h,c){case"dialog":Mt("cancel",r),Mt("close",r);break;case"iframe":case"object":case"embed":Mt("load",r);break;case"video":case"audio":for(c=0;c<Ho.length;c++)Mt(Ho[c],r);break;case"source":Mt("error",r);break;case"img":case"image":case"link":Mt("error",r),Mt("load",r);break;case"details":Mt("toggle",r);break;case"input":Mt("invalid",r),w0(r,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":Mt("invalid",r);break;case"textarea":Mt("invalid",r),S0(r,h.value,h.defaultValue,h.children)}c=h.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||r.textContent===""+c||h.suppressHydrationWarning===!0||Tb(r.textContent,c)?(h.popover!=null&&(Mt("beforetoggle",r),Mt("toggle",r)),h.onScroll!=null&&Mt("scroll",r),h.onScrollEnd!=null&&Mt("scrollend",r),h.onClick!=null&&(r.onclick=Nn),r=!0):r=!1,r||fs(n,!0)}function cx(n){for(He=n.return;He;)switch(He.tag){case 5:case 31:case 13:Fi=!1;return;case 27:case 3:Fi=!0;return;default:He=He.return}}function Ka(n){if(n!==He)return!1;if(!Ot)return cx(n),Ot=!0,!1;var r=n.tag,c;if((c=r!==3&&r!==27)&&((c=r===5)&&(c=n.type,c=!(c!=="form"&&c!=="button")||Pf(n.type,n.memoizedProps)),c=!c),c&&ee&&fs(n),cx(n),r===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));ee=Ob(n)}else if(r===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));ee=Ob(n)}else r===27?(r=ee,_s(n.type)?(n=Uf,Uf=null,ee=n):ee=r):ee=He?Ui(n.stateNode.nextSibling):null;return!0}function Zs(){ee=He=null,Ot=!1}function yh(){var n=hs;return n!==null&&(hi===null?hi=n:hi.push.apply(hi,n),hs=null),n}function vo(n){hs===null?hs=[n]:hs.push(n)}var bh=O(null),Js=null,Dn=null;function ps(n,r,c){J(bh,r._currentValue),r._currentValue=c}function Rn(n){n._currentValue=bh.current,$(bh)}function vh(n,r,c){for(;n!==null;){var h=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,h!==null&&(h.childLanes|=r)):h!==null&&(h.childLanes&r)!==r&&(h.childLanes|=r),n===c)break;n=n.return}}function wh(n,r,c,h){var x=n.child;for(x!==null&&(x.return=n);x!==null;){var y=x.dependencies;if(y!==null){var S=x.child;y=y.firstContext;t:for(;y!==null;){var N=y;y=x;for(var L=0;L<r.length;L++)if(N.context===r[L]){y.lanes|=c,N=y.alternate,N!==null&&(N.lanes|=c),vh(y.return,c,n),h||(S=null);break t}y=N.next}}else if(x.tag===18){if(S=x.return,S===null)throw Error(i(341));S.lanes|=c,y=S.alternate,y!==null&&(y.lanes|=c),vh(S,c,n),S=null}else S=x.child;if(S!==null)S.return=x;else for(S=x;S!==null;){if(S===n){S=null;break}if(x=S.sibling,x!==null){x.return=S.return,S=x;break}S=S.return}x=S}}function Wa(n,r,c,h){n=null;for(var x=r,y=!1;x!==null;){if(!y){if((x.flags&524288)!==0)y=!0;else if((x.flags&262144)!==0)break}if(x.tag===10){var S=x.alternate;if(S===null)throw Error(i(387));if(S=S.memoizedProps,S!==null){var N=x.type;wi(x.pendingProps.value,S.value)||(n!==null?n.push(N):n=[N])}}else if(x===bt.current){if(S=x.alternate,S===null)throw Error(i(387));S.memoizedState.memoizedState!==x.memoizedState.memoizedState&&(n!==null?n.push(Xo):n=[Xo])}x=x.return}n!==null&&wh(r,n,c,h),r.flags|=262144}function bc(n){for(n=n.firstContext;n!==null;){if(!wi(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function ta(n){Js=n,Dn=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Ve(n){return ux(Js,n)}function vc(n,r){return Js===null&&ta(n),ux(n,r)}function ux(n,r){var c=r._currentValue;if(r={context:r,memoizedValue:c,next:null},Dn===null){if(n===null)throw Error(i(308));Dn=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else Dn=Dn.next=r;return c}var AT=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(c,h){n.push(h)}};this.abort=function(){r.aborted=!0,n.forEach(function(c){return c()})}},ST=s.unstable_scheduleCallback,ET=s.unstable_NormalPriority,Te={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ah(){return{controller:new AT,data:new Map,refCount:0}}function wo(n){n.refCount--,n.refCount===0&&ST(ET,function(){n.controller.abort()})}var Ao=null,Sh=0,Qa=0,Za=null;function TT(n,r){if(Ao===null){var c=Ao=[];Sh=0,Qa=_f(),Za={status:"pending",value:void 0,then:function(h){c.push(h)}}}return Sh++,r.then(dx,dx),r}function dx(){if(--Sh===0&&Ao!==null){Za!==null&&(Za.status="fulfilled");var n=Ao;Ao=null,Qa=0,Za=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function CT(n,r){var c=[],h={status:"pending",value:null,reason:null,then:function(x){c.push(x)}};return n.then(function(){h.status="fulfilled",h.value=r;for(var x=0;x<c.length;x++)(0,c[x])(r)},function(x){for(h.status="rejected",h.reason=x,x=0;x<c.length;x++)(0,c[x])(void 0)}),h}var hx=z.S;z.S=function(n,r){Ky=st(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&TT(n,r),hx!==null&&hx(n,r)};var ea=O(null);function Eh(){var n=ea.current;return n!==null?n:Zt.pooledCache}function wc(n,r){r===null?J(ea,ea.current):J(ea,r.pool)}function fx(){var n=Eh();return n===null?null:{parent:Te._currentValue,pool:n}}var Ja=Error(i(460)),Th=Error(i(474)),Ac=Error(i(542)),Sc={then:function(){}};function px(n){return n=n.status,n==="fulfilled"||n==="rejected"}function mx(n,r,c){switch(c=n[c],c===void 0?n.push(r):c!==r&&(r.then(Nn,Nn),r=c),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,xx(n),n;default:if(typeof r.status=="string")r.then(Nn,Nn);else{if(n=Zt,n!==null&&100<n.shellSuspendCounter)throw Error(i(482));n=r,n.status="pending",n.then(function(h){if(r.status==="pending"){var x=r;x.status="fulfilled",x.value=h}},function(h){if(r.status==="pending"){var x=r;x.status="rejected",x.reason=h}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,xx(n),n}throw na=r,Ja}}function ia(n){try{var r=n._init;return r(n._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(na=c,Ja):c}}var na=null;function gx(){if(na===null)throw Error(i(459));var n=na;return na=null,n}function xx(n){if(n===Ja||n===Ac)throw Error(i(483))}var tr=null,So=0;function Ec(n){var r=So;return So+=1,tr===null&&(tr=[]),mx(tr,n,r)}function Eo(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function Tc(n,r){throw r.$$typeof===b?Error(i(525)):(n=Object.prototype.toString.call(r),Error(i(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function yx(n){function r(F,B){if(n){var U=F.deletions;U===null?(F.deletions=[B],F.flags|=16):U.push(B)}}function c(F,B){if(!n)return null;for(;B!==null;)r(F,B),B=B.sibling;return null}function h(F){for(var B=new Map;F!==null;)F.key!==null?B.set(F.key,F):B.set(F.index,F),F=F.sibling;return B}function x(F,B){return F=jn(F,B),F.index=0,F.sibling=null,F}function y(F,B,U){return F.index=U,n?(U=F.alternate,U!==null?(U=U.index,U<B?(F.flags|=67108866,B):U):(F.flags|=67108866,B)):(F.flags|=1048576,B)}function S(F){return n&&F.alternate===null&&(F.flags|=67108866),F}function N(F,B,U,Z){return B===null||B.tag!==6?(B=fh(U,F.mode,Z),B.return=F,B):(B=x(B,U),B.return=F,B)}function L(F,B,U,Z){var xt=U.type;return xt===A?Q(F,B,U.props.children,Z,U.key):B!==null&&(B.elementType===xt||typeof xt=="object"&&xt!==null&&xt.$$typeof===P&&ia(xt)===B.type)?(B=x(B,U.props),Eo(B,U),B.return=F,B):(B=xc(U.type,U.key,U.props,null,F.mode,Z),Eo(B,U),B.return=F,B)}function H(F,B,U,Z){return B===null||B.tag!==4||B.stateNode.containerInfo!==U.containerInfo||B.stateNode.implementation!==U.implementation?(B=ph(U,F.mode,Z),B.return=F,B):(B=x(B,U.children||[]),B.return=F,B)}function Q(F,B,U,Z,xt){return B===null||B.tag!==7?(B=Qs(U,F.mode,Z,xt),B.return=F,B):(B=x(B,U),B.return=F,B)}function tt(F,B,U){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=fh(""+B,F.mode,U),B.return=F,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case v:return U=xc(B.type,B.key,B.props,null,F.mode,U),Eo(U,B),U.return=F,U;case w:return B=ph(B,F.mode,U),B.return=F,B;case P:return B=ia(B),tt(F,B,U)}if(at(B)||rt(B))return B=Qs(B,F.mode,U,null),B.return=F,B;if(typeof B.then=="function")return tt(F,Ec(B),U);if(B.$$typeof===C)return tt(F,vc(F,B),U);Tc(F,B)}return null}function G(F,B,U,Z){var xt=B!==null?B.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return xt!==null?null:N(F,B,""+U,Z);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case v:return U.key===xt?L(F,B,U,Z):null;case w:return U.key===xt?H(F,B,U,Z):null;case P:return U=ia(U),G(F,B,U,Z)}if(at(U)||rt(U))return xt!==null?null:Q(F,B,U,Z,null);if(typeof U.then=="function")return G(F,B,Ec(U),Z);if(U.$$typeof===C)return G(F,B,vc(F,U),Z);Tc(F,U)}return null}function K(F,B,U,Z,xt){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return F=F.get(U)||null,N(B,F,""+Z,xt);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case v:return F=F.get(Z.key===null?U:Z.key)||null,L(B,F,Z,xt);case w:return F=F.get(Z.key===null?U:Z.key)||null,H(B,F,Z,xt);case P:return Z=ia(Z),K(F,B,U,Z,xt)}if(at(Z)||rt(Z))return F=F.get(U)||null,Q(B,F,Z,xt,null);if(typeof Z.then=="function")return K(F,B,U,Ec(Z),xt);if(Z.$$typeof===C)return K(F,B,U,vc(B,Z),xt);Tc(B,Z)}return null}function ct(F,B,U,Z){for(var xt=null,Bt=null,ht=B,kt=B=0,Rt=null;ht!==null&&kt<U.length;kt++){ht.index>kt?(Rt=ht,ht=null):Rt=ht.sibling;var zt=G(F,ht,U[kt],Z);if(zt===null){ht===null&&(ht=Rt);break}n&&ht&&zt.alternate===null&&r(F,ht),B=y(zt,B,kt),Bt===null?xt=zt:Bt.sibling=zt,Bt=zt,ht=Rt}if(kt===U.length)return c(F,ht),Ot&&Mn(F,kt),xt;if(ht===null){for(;kt<U.length;kt++)ht=tt(F,U[kt],Z),ht!==null&&(B=y(ht,B,kt),Bt===null?xt=ht:Bt.sibling=ht,Bt=ht);return Ot&&Mn(F,kt),xt}for(ht=h(ht);kt<U.length;kt++)Rt=K(ht,F,kt,U[kt],Z),Rt!==null&&(n&&Rt.alternate!==null&&ht.delete(Rt.key===null?kt:Rt.key),B=y(Rt,B,kt),Bt===null?xt=Rt:Bt.sibling=Rt,Bt=Rt);return n&&ht.forEach(function(Ds){return r(F,Ds)}),Ot&&Mn(F,kt),xt}function vt(F,B,U,Z){if(U==null)throw Error(i(151));for(var xt=null,Bt=null,ht=B,kt=B=0,Rt=null,zt=U.next();ht!==null&&!zt.done;kt++,zt=U.next()){ht.index>kt?(Rt=ht,ht=null):Rt=ht.sibling;var Ds=G(F,ht,zt.value,Z);if(Ds===null){ht===null&&(ht=Rt);break}n&&ht&&Ds.alternate===null&&r(F,ht),B=y(Ds,B,kt),Bt===null?xt=Ds:Bt.sibling=Ds,Bt=Ds,ht=Rt}if(zt.done)return c(F,ht),Ot&&Mn(F,kt),xt;if(ht===null){for(;!zt.done;kt++,zt=U.next())zt=tt(F,zt.value,Z),zt!==null&&(B=y(zt,B,kt),Bt===null?xt=zt:Bt.sibling=zt,Bt=zt);return Ot&&Mn(F,kt),xt}for(ht=h(ht);!zt.done;kt++,zt=U.next())zt=K(ht,F,kt,zt.value,Z),zt!==null&&(n&&zt.alternate!==null&&ht.delete(zt.key===null?kt:zt.key),B=y(zt,B,kt),Bt===null?xt=zt:Bt.sibling=zt,Bt=zt);return n&&ht.forEach(function(BC){return r(F,BC)}),Ot&&Mn(F,kt),xt}function Wt(F,B,U,Z){if(typeof U=="object"&&U!==null&&U.type===A&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case v:t:{for(var xt=U.key;B!==null;){if(B.key===xt){if(xt=U.type,xt===A){if(B.tag===7){c(F,B.sibling),Z=x(B,U.props.children),Z.return=F,F=Z;break t}}else if(B.elementType===xt||typeof xt=="object"&&xt!==null&&xt.$$typeof===P&&ia(xt)===B.type){c(F,B.sibling),Z=x(B,U.props),Eo(Z,U),Z.return=F,F=Z;break t}c(F,B);break}else r(F,B);B=B.sibling}U.type===A?(Z=Qs(U.props.children,F.mode,Z,U.key),Z.return=F,F=Z):(Z=xc(U.type,U.key,U.props,null,F.mode,Z),Eo(Z,U),Z.return=F,F=Z)}return S(F);case w:t:{for(xt=U.key;B!==null;){if(B.key===xt)if(B.tag===4&&B.stateNode.containerInfo===U.containerInfo&&B.stateNode.implementation===U.implementation){c(F,B.sibling),Z=x(B,U.children||[]),Z.return=F,F=Z;break t}else{c(F,B);break}else r(F,B);B=B.sibling}Z=ph(U,F.mode,Z),Z.return=F,F=Z}return S(F);case P:return U=ia(U),Wt(F,B,U,Z)}if(at(U))return ct(F,B,U,Z);if(rt(U)){if(xt=rt(U),typeof xt!="function")throw Error(i(150));return U=xt.call(U),vt(F,B,U,Z)}if(typeof U.then=="function")return Wt(F,B,Ec(U),Z);if(U.$$typeof===C)return Wt(F,B,vc(F,U),Z);Tc(F,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,B!==null&&B.tag===6?(c(F,B.sibling),Z=x(B,U),Z.return=F,F=Z):(c(F,B),Z=fh(U,F.mode,Z),Z.return=F,F=Z),S(F)):c(F,B)}return function(F,B,U,Z){try{So=0;var xt=Wt(F,B,U,Z);return tr=null,xt}catch(ht){if(ht===Ja||ht===Ac)throw ht;var Bt=Ai(29,ht,null,F.mode);return Bt.lanes=Z,Bt.return=F,Bt}}}var sa=yx(!0),bx=yx(!1),ms=!1;function Ch(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _h(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function gs(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function xs(n,r,c){var h=n.updateQueue;if(h===null)return null;if(h=h.shared,(Ft&2)!==0){var x=h.pending;return x===null?r.next=r:(r.next=x.next,x.next=r),h.pending=r,r=gc(n),ix(n,null,c),r}return mc(n,h,r,c),gc(n)}function To(n,r,c){if(r=r.updateQueue,r!==null&&(r=r.shared,(c&4194048)!==0)){var h=r.lanes;h&=n.pendingLanes,c|=h,r.lanes=c,u0(n,c)}}function Nh(n,r){var c=n.updateQueue,h=n.alternate;if(h!==null&&(h=h.updateQueue,c===h)){var x=null,y=null;if(c=c.firstBaseUpdate,c!==null){do{var S={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};y===null?x=y=S:y=y.next=S,c=c.next}while(c!==null);y===null?x=y=r:y=y.next=r}else x=y=r;c={baseState:h.baseState,firstBaseUpdate:x,lastBaseUpdate:y,shared:h.shared,callbacks:h.callbacks},n.updateQueue=c;return}n=c.lastBaseUpdate,n===null?c.firstBaseUpdate=r:n.next=r,c.lastBaseUpdate=r}var kh=!1;function Co(){if(kh){var n=Za;if(n!==null)throw n}}function _o(n,r,c,h){kh=!1;var x=n.updateQueue;ms=!1;var y=x.firstBaseUpdate,S=x.lastBaseUpdate,N=x.shared.pending;if(N!==null){x.shared.pending=null;var L=N,H=L.next;L.next=null,S===null?y=H:S.next=H,S=L;var Q=n.alternate;Q!==null&&(Q=Q.updateQueue,N=Q.lastBaseUpdate,N!==S&&(N===null?Q.firstBaseUpdate=H:N.next=H,Q.lastBaseUpdate=L))}if(y!==null){var tt=x.baseState;S=0,Q=H=L=null,N=y;do{var G=N.lane&-536870913,K=G!==N.lane;if(K?(Dt&G)===G:(h&G)===G){G!==0&&G===Qa&&(kh=!0),Q!==null&&(Q=Q.next={lane:0,tag:N.tag,payload:N.payload,callback:null,next:null});t:{var ct=n,vt=N;G=r;var Wt=c;switch(vt.tag){case 1:if(ct=vt.payload,typeof ct=="function"){tt=ct.call(Wt,tt,G);break t}tt=ct;break t;case 3:ct.flags=ct.flags&-65537|128;case 0:if(ct=vt.payload,G=typeof ct=="function"?ct.call(Wt,tt,G):ct,G==null)break t;tt=g({},tt,G);break t;case 2:ms=!0}}G=N.callback,G!==null&&(n.flags|=64,K&&(n.flags|=8192),K=x.callbacks,K===null?x.callbacks=[G]:K.push(G))}else K={lane:G,tag:N.tag,payload:N.payload,callback:N.callback,next:null},Q===null?(H=Q=K,L=tt):Q=Q.next=K,S|=G;if(N=N.next,N===null){if(N=x.shared.pending,N===null)break;K=N,N=K.next,K.next=null,x.lastBaseUpdate=K,x.shared.pending=null}}while(!0);Q===null&&(L=tt),x.baseState=L,x.firstBaseUpdate=H,x.lastBaseUpdate=Q,y===null&&(x.shared.lanes=0),As|=S,n.lanes=S,n.memoizedState=tt}}function vx(n,r){if(typeof n!="function")throw Error(i(191,n));n.call(r)}function wx(n,r){var c=n.callbacks;if(c!==null)for(n.callbacks=null,n=0;n<c.length;n++)vx(c[n],r)}var er=O(null),Cc=O(0);function Ax(n,r){n=Hn,J(Cc,n),J(er,r),Hn=n|r.baseLanes}function jh(){J(Cc,Hn),J(er,er.current)}function Mh(){Hn=Cc.current,$(er),$(Cc)}var Si=O(null),Ii=null;function ys(n){var r=n.alternate;J(Ae,Ae.current&1),J(Si,n),Ii===null&&(r===null||er.current!==null||r.memoizedState!==null)&&(Ii=n)}function Dh(n){J(Ae,Ae.current),J(Si,n),Ii===null&&(Ii=n)}function Sx(n){n.tag===22?(J(Ae,Ae.current),J(Si,n),Ii===null&&(Ii=n)):bs()}function bs(){J(Ae,Ae.current),J(Si,Si.current)}function Ei(n){$(Si),Ii===n&&(Ii=null),$(Ae)}var Ae=O(0);function _c(n){for(var r=n;r!==null;){if(r.tag===13){var c=r.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||Ff(c)||If(c)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var On=0,_t=null,Yt=null,Ce=null,Nc=!1,ir=!1,aa=!1,kc=0,No=0,nr=null,_T=0;function ge(){throw Error(i(321))}function Rh(n,r){if(r===null)return!1;for(var c=0;c<r.length&&c<n.length;c++)if(!wi(n[c],r[c]))return!1;return!0}function Oh(n,r,c,h,x,y){return On=y,_t=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,z.H=n===null||n.memoizedState===null?ry:Kh,aa=!1,y=c(h,x),aa=!1,ir&&(y=Tx(r,c,h,x)),Ex(n),y}function Ex(n){z.H=Mo;var r=Yt!==null&&Yt.next!==null;if(On=0,Ce=Yt=_t=null,Nc=!1,No=0,nr=null,r)throw Error(i(300));n===null||_e||(n=n.dependencies,n!==null&&bc(n)&&(_e=!0))}function Tx(n,r,c,h){_t=n;var x=0;do{if(ir&&(nr=null),No=0,ir=!1,25<=x)throw Error(i(301));if(x+=1,Ce=Yt=null,n.updateQueue!=null){var y=n.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}z.H=oy,y=r(c,h)}while(ir);return y}function NT(){var n=z.H,r=n.useState()[0];return r=typeof r.then=="function"?ko(r):r,n=n.useState()[0],(Yt!==null?Yt.memoizedState:null)!==n&&(_t.flags|=1024),r}function Lh(){var n=kc!==0;return kc=0,n}function Ph(n,r,c){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~c}function Bh(n){if(Nc){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}Nc=!1}On=0,Ce=Yt=_t=null,ir=!1,No=kc=0,nr=null}function ti(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ce===null?_t.memoizedState=Ce=n:Ce=Ce.next=n,Ce}function Se(){if(Yt===null){var n=_t.alternate;n=n!==null?n.memoizedState:null}else n=Yt.next;var r=Ce===null?_t.memoizedState:Ce.next;if(r!==null)Ce=r,Yt=n;else{if(n===null)throw _t.alternate===null?Error(i(467)):Error(i(310));Yt=n,n={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},Ce===null?_t.memoizedState=Ce=n:Ce=Ce.next=n}return Ce}function jc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ko(n){var r=No;return No+=1,nr===null&&(nr=[]),n=mx(nr,n,r),r=_t,(Ce===null?r.memoizedState:Ce.next)===null&&(r=r.alternate,z.H=r===null||r.memoizedState===null?ry:Kh),n}function Mc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return ko(n);if(n.$$typeof===C)return Ve(n)}throw Error(i(438,String(n)))}function zh(n){var r=null,c=_t.updateQueue;if(c!==null&&(r=c.memoCache),r==null){var h=_t.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(r={data:h.data.map(function(x){return x.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),c===null&&(c=jc(),_t.updateQueue=c),c.memoCache=r,c=r.data[r.index],c===void 0)for(c=r.data[r.index]=Array(n),h=0;h<n;h++)c[h]=V;return r.index++,c}function Ln(n,r){return typeof r=="function"?r(n):r}function Dc(n){var r=Se();return Fh(r,Yt,n)}function Fh(n,r,c){var h=n.queue;if(h===null)throw Error(i(311));h.lastRenderedReducer=c;var x=n.baseQueue,y=h.pending;if(y!==null){if(x!==null){var S=x.next;x.next=y.next,y.next=S}r.baseQueue=x=y,h.pending=null}if(y=n.baseState,x===null)n.memoizedState=y;else{r=x.next;var N=S=null,L=null,H=r,Q=!1;do{var tt=H.lane&-536870913;if(tt!==H.lane?(Dt&tt)===tt:(On&tt)===tt){var G=H.revertLane;if(G===0)L!==null&&(L=L.next={lane:0,revertLane:0,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),tt===Qa&&(Q=!0);else if((On&G)===G){H=H.next,G===Qa&&(Q=!0);continue}else tt={lane:0,revertLane:H.revertLane,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},L===null?(N=L=tt,S=y):L=L.next=tt,_t.lanes|=G,As|=G;tt=H.action,aa&&c(y,tt),y=H.hasEagerState?H.eagerState:c(y,tt)}else G={lane:tt,revertLane:H.revertLane,gesture:H.gesture,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},L===null?(N=L=G,S=y):L=L.next=G,_t.lanes|=tt,As|=tt;H=H.next}while(H!==null&&H!==r);if(L===null?S=y:L.next=N,!wi(y,n.memoizedState)&&(_e=!0,Q&&(c=Za,c!==null)))throw c;n.memoizedState=y,n.baseState=S,n.baseQueue=L,h.lastRenderedState=y}return x===null&&(h.lanes=0),[n.memoizedState,h.dispatch]}function Ih(n){var r=Se(),c=r.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=n;var h=c.dispatch,x=c.pending,y=r.memoizedState;if(x!==null){c.pending=null;var S=x=x.next;do y=n(y,S.action),S=S.next;while(S!==x);wi(y,r.memoizedState)||(_e=!0),r.memoizedState=y,r.baseQueue===null&&(r.baseState=y),c.lastRenderedState=y}return[y,h]}function Cx(n,r,c){var h=_t,x=Se(),y=Ot;if(y){if(c===void 0)throw Error(i(407));c=c()}else c=r();var S=!wi((Yt||x).memoizedState,c);if(S&&(x.memoizedState=c,_e=!0),x=x.queue,Vh(kx.bind(null,h,x,n),[n]),x.getSnapshot!==r||S||Ce!==null&&Ce.memoizedState.tag&1){if(h.flags|=2048,sr(9,{destroy:void 0},Nx.bind(null,h,x,c,r),null),Zt===null)throw Error(i(349));y||(On&127)!==0||_x(h,r,c)}return c}function _x(n,r,c){n.flags|=16384,n={getSnapshot:r,value:c},r=_t.updateQueue,r===null?(r=jc(),_t.updateQueue=r,r.stores=[n]):(c=r.stores,c===null?r.stores=[n]:c.push(n))}function Nx(n,r,c,h){r.value=c,r.getSnapshot=h,jx(r)&&Mx(n)}function kx(n,r,c){return c(function(){jx(r)&&Mx(n)})}function jx(n){var r=n.getSnapshot;n=n.value;try{var c=r();return!wi(n,c)}catch{return!0}}function Mx(n){var r=Ws(n,2);r!==null&&fi(r,n,2)}function Uh(n){var r=ti();if(typeof n=="function"){var c=n;if(n=c(),aa){Di(!0);try{c()}finally{Di(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ln,lastRenderedState:n},r}function Dx(n,r,c,h){return n.baseState=c,Fh(n,Yt,typeof h=="function"?h:Ln)}function kT(n,r,c,h,x){if(Lc(n))throw Error(i(485));if(n=r.action,n!==null){var y={payload:x,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){y.listeners.push(S)}};z.T!==null?c(!0):y.isTransition=!1,h(y),c=r.pending,c===null?(y.next=r.pending=y,Rx(r,y)):(y.next=c.next,r.pending=c.next=y)}}function Rx(n,r){var c=r.action,h=r.payload,x=n.state;if(r.isTransition){var y=z.T,S={};z.T=S;try{var N=c(x,h),L=z.S;L!==null&&L(S,N),Ox(n,r,N)}catch(H){Hh(n,r,H)}finally{y!==null&&S.types!==null&&(y.types=S.types),z.T=y}}else try{y=c(x,h),Ox(n,r,y)}catch(H){Hh(n,r,H)}}function Ox(n,r,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(h){Lx(n,r,h)},function(h){return Hh(n,r,h)}):Lx(n,r,c)}function Lx(n,r,c){r.status="fulfilled",r.value=c,Px(r),n.state=c,r=n.pending,r!==null&&(c=r.next,c===r?n.pending=null:(c=c.next,r.next=c,Rx(n,c)))}function Hh(n,r,c){var h=n.pending;if(n.pending=null,h!==null){h=h.next;do r.status="rejected",r.reason=c,Px(r),r=r.next;while(r!==h)}n.action=null}function Px(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function Bx(n,r){return r}function zx(n,r){if(Ot){var c=Zt.formState;if(c!==null){t:{var h=_t;if(Ot){if(ee){e:{for(var x=ee,y=Fi;x.nodeType!==8;){if(!y){x=null;break e}if(x=Ui(x.nextSibling),x===null){x=null;break e}}y=x.data,x=y==="F!"||y==="F"?x:null}if(x){ee=Ui(x.nextSibling),h=x.data==="F!";break t}}fs(h)}h=!1}h&&(r=c[0])}}return c=ti(),c.memoizedState=c.baseState=r,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bx,lastRenderedState:r},c.queue=h,c=ny.bind(null,_t,h),h.dispatch=c,h=Uh(!1),y=Yh.bind(null,_t,!1,h.queue),h=ti(),x={state:r,dispatch:null,action:n,pending:null},h.queue=x,c=kT.bind(null,_t,x,y,c),x.dispatch=c,h.memoizedState=n,[r,c,!1]}function Fx(n){var r=Se();return Ix(r,Yt,n)}function Ix(n,r,c){if(r=Fh(n,r,Bx)[0],n=Dc(Ln)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var h=ko(r)}catch(S){throw S===Ja?Ac:S}else h=r;r=Se();var x=r.queue,y=x.dispatch;return c!==r.memoizedState&&(_t.flags|=2048,sr(9,{destroy:void 0},jT.bind(null,x,c),null)),[h,y,n]}function jT(n,r){n.action=r}function Ux(n){var r=Se(),c=Yt;if(c!==null)return Ix(r,c,n);Se(),r=r.memoizedState,c=Se();var h=c.queue.dispatch;return c.memoizedState=n,[r,h,!1]}function sr(n,r,c,h){return n={tag:n,create:c,deps:h,inst:r,next:null},r=_t.updateQueue,r===null&&(r=jc(),_t.updateQueue=r),c=r.lastEffect,c===null?r.lastEffect=n.next=n:(h=c.next,c.next=n,n.next=h,r.lastEffect=n),n}function Hx(){return Se().memoizedState}function Rc(n,r,c,h){var x=ti();_t.flags|=n,x.memoizedState=sr(1|r,{destroy:void 0},c,h===void 0?null:h)}function Oc(n,r,c,h){var x=Se();h=h===void 0?null:h;var y=x.memoizedState.inst;Yt!==null&&h!==null&&Rh(h,Yt.memoizedState.deps)?x.memoizedState=sr(r,y,c,h):(_t.flags|=n,x.memoizedState=sr(1|r,y,c,h))}function Vx(n,r){Rc(8390656,8,n,r)}function Vh(n,r){Oc(2048,8,n,r)}function MT(n){_t.flags|=4;var r=_t.updateQueue;if(r===null)r=jc(),_t.updateQueue=r,r.events=[n];else{var c=r.events;c===null?r.events=[n]:c.push(n)}}function qx(n){var r=Se().memoizedState;return MT({ref:r,nextImpl:n}),function(){if((Ft&2)!==0)throw Error(i(440));return r.impl.apply(void 0,arguments)}}function Gx(n,r){return Oc(4,2,n,r)}function $x(n,r){return Oc(4,4,n,r)}function Xx(n,r){if(typeof r=="function"){n=n();var c=r(n);return function(){typeof c=="function"?c():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function Yx(n,r,c){c=c!=null?c.concat([n]):null,Oc(4,4,Xx.bind(null,r,n),c)}function qh(){}function Kx(n,r){var c=Se();r=r===void 0?null:r;var h=c.memoizedState;return r!==null&&Rh(r,h[1])?h[0]:(c.memoizedState=[n,r],n)}function Wx(n,r){var c=Se();r=r===void 0?null:r;var h=c.memoizedState;if(r!==null&&Rh(r,h[1]))return h[0];if(h=n(),aa){Di(!0);try{n()}finally{Di(!1)}}return c.memoizedState=[h,r],h}function Gh(n,r,c){return c===void 0||(On&1073741824)!==0&&(Dt&261930)===0?n.memoizedState=r:(n.memoizedState=c,n=Qy(),_t.lanes|=n,As|=n,c)}function Qx(n,r,c,h){return wi(c,r)?c:er.current!==null?(n=Gh(n,c,h),wi(n,r)||(_e=!0),n):(On&42)===0||(On&1073741824)!==0&&(Dt&261930)===0?(_e=!0,n.memoizedState=c):(n=Qy(),_t.lanes|=n,As|=n,r)}function Zx(n,r,c,h,x){var y=q.p;q.p=y!==0&&8>y?y:8;var S=z.T,N={};z.T=N,Yh(n,!1,r,c);try{var L=x(),H=z.S;if(H!==null&&H(N,L),L!==null&&typeof L=="object"&&typeof L.then=="function"){var Q=CT(L,h);jo(n,r,Q,_i(n))}else jo(n,r,h,_i(n))}catch(tt){jo(n,r,{then:function(){},status:"rejected",reason:tt},_i())}finally{q.p=y,S!==null&&N.types!==null&&(S.types=N.types),z.T=S}}function DT(){}function $h(n,r,c,h){if(n.tag!==5)throw Error(i(476));var x=Jx(n).queue;Zx(n,x,r,I,c===null?DT:function(){return ty(n),c(h)})}function Jx(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:I,baseState:I,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ln,lastRenderedState:I},next:null};var c={};return r.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ln,lastRenderedState:c},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function ty(n){var r=Jx(n);r.next===null&&(r=n.alternate.memoizedState),jo(n,r.next.queue,{},_i())}function Xh(){return Ve(Xo)}function ey(){return Se().memoizedState}function iy(){return Se().memoizedState}function RT(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var c=_i();n=gs(c);var h=xs(r,n,c);h!==null&&(fi(h,r,c),To(h,r,c)),r={cache:Ah()},n.payload=r;return}r=r.return}}function OT(n,r,c){var h=_i();c={lane:h,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Lc(n)?sy(r,c):(c=dh(n,r,c,h),c!==null&&(fi(c,n,h),ay(c,r,h)))}function ny(n,r,c){var h=_i();jo(n,r,c,h)}function jo(n,r,c,h){var x={lane:h,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(Lc(n))sy(r,x);else{var y=n.alternate;if(n.lanes===0&&(y===null||y.lanes===0)&&(y=r.lastRenderedReducer,y!==null))try{var S=r.lastRenderedState,N=y(S,c);if(x.hasEagerState=!0,x.eagerState=N,wi(N,S))return mc(n,r,x,0),Zt===null&&pc(),!1}catch{}if(c=dh(n,r,x,h),c!==null)return fi(c,n,h),ay(c,r,h),!0}return!1}function Yh(n,r,c,h){if(h={lane:2,revertLane:_f(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},Lc(n)){if(r)throw Error(i(479))}else r=dh(n,c,h,2),r!==null&&fi(r,n,2)}function Lc(n){var r=n.alternate;return n===_t||r!==null&&r===_t}function sy(n,r){ir=Nc=!0;var c=n.pending;c===null?r.next=r:(r.next=c.next,c.next=r),n.pending=r}function ay(n,r,c){if((c&4194048)!==0){var h=r.lanes;h&=n.pendingLanes,c|=h,r.lanes=c,u0(n,c)}}var Mo={readContext:Ve,use:Mc,useCallback:ge,useContext:ge,useEffect:ge,useImperativeHandle:ge,useLayoutEffect:ge,useInsertionEffect:ge,useMemo:ge,useReducer:ge,useRef:ge,useState:ge,useDebugValue:ge,useDeferredValue:ge,useTransition:ge,useSyncExternalStore:ge,useId:ge,useHostTransitionStatus:ge,useFormState:ge,useActionState:ge,useOptimistic:ge,useMemoCache:ge,useCacheRefresh:ge};Mo.useEffectEvent=ge;var ry={readContext:Ve,use:Mc,useCallback:function(n,r){return ti().memoizedState=[n,r===void 0?null:r],n},useContext:Ve,useEffect:Vx,useImperativeHandle:function(n,r,c){c=c!=null?c.concat([n]):null,Rc(4194308,4,Xx.bind(null,r,n),c)},useLayoutEffect:function(n,r){return Rc(4194308,4,n,r)},useInsertionEffect:function(n,r){Rc(4,2,n,r)},useMemo:function(n,r){var c=ti();r=r===void 0?null:r;var h=n();if(aa){Di(!0);try{n()}finally{Di(!1)}}return c.memoizedState=[h,r],h},useReducer:function(n,r,c){var h=ti();if(c!==void 0){var x=c(r);if(aa){Di(!0);try{c(r)}finally{Di(!1)}}}else x=r;return h.memoizedState=h.baseState=x,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:x},h.queue=n,n=n.dispatch=OT.bind(null,_t,n),[h.memoizedState,n]},useRef:function(n){var r=ti();return n={current:n},r.memoizedState=n},useState:function(n){n=Uh(n);var r=n.queue,c=ny.bind(null,_t,r);return r.dispatch=c,[n.memoizedState,c]},useDebugValue:qh,useDeferredValue:function(n,r){var c=ti();return Gh(c,n,r)},useTransition:function(){var n=Uh(!1);return n=Zx.bind(null,_t,n.queue,!0,!1),ti().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,c){var h=_t,x=ti();if(Ot){if(c===void 0)throw Error(i(407));c=c()}else{if(c=r(),Zt===null)throw Error(i(349));(Dt&127)!==0||_x(h,r,c)}x.memoizedState=c;var y={value:c,getSnapshot:r};return x.queue=y,Vx(kx.bind(null,h,y,n),[n]),h.flags|=2048,sr(9,{destroy:void 0},Nx.bind(null,h,y,c,r),null),c},useId:function(){var n=ti(),r=Zt.identifierPrefix;if(Ot){var c=cn,h=ln;c=(h&~(1<<32-Ie(h)-1)).toString(32)+c,r="_"+r+"R_"+c,c=kc++,0<c&&(r+="H"+c.toString(32)),r+="_"}else c=_T++,r="_"+r+"r_"+c.toString(32)+"_";return n.memoizedState=r},useHostTransitionStatus:Xh,useFormState:zx,useActionState:zx,useOptimistic:function(n){var r=ti();r.memoizedState=r.baseState=n;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=c,r=Yh.bind(null,_t,!0,c),c.dispatch=r,[n,r]},useMemoCache:zh,useCacheRefresh:function(){return ti().memoizedState=RT.bind(null,_t)},useEffectEvent:function(n){var r=ti(),c={impl:n};return r.memoizedState=c,function(){if((Ft&2)!==0)throw Error(i(440));return c.impl.apply(void 0,arguments)}}},Kh={readContext:Ve,use:Mc,useCallback:Kx,useContext:Ve,useEffect:Vh,useImperativeHandle:Yx,useInsertionEffect:Gx,useLayoutEffect:$x,useMemo:Wx,useReducer:Dc,useRef:Hx,useState:function(){return Dc(Ln)},useDebugValue:qh,useDeferredValue:function(n,r){var c=Se();return Qx(c,Yt.memoizedState,n,r)},useTransition:function(){var n=Dc(Ln)[0],r=Se().memoizedState;return[typeof n=="boolean"?n:ko(n),r]},useSyncExternalStore:Cx,useId:ey,useHostTransitionStatus:Xh,useFormState:Fx,useActionState:Fx,useOptimistic:function(n,r){var c=Se();return Dx(c,Yt,n,r)},useMemoCache:zh,useCacheRefresh:iy};Kh.useEffectEvent=qx;var oy={readContext:Ve,use:Mc,useCallback:Kx,useContext:Ve,useEffect:Vh,useImperativeHandle:Yx,useInsertionEffect:Gx,useLayoutEffect:$x,useMemo:Wx,useReducer:Ih,useRef:Hx,useState:function(){return Ih(Ln)},useDebugValue:qh,useDeferredValue:function(n,r){var c=Se();return Yt===null?Gh(c,n,r):Qx(c,Yt.memoizedState,n,r)},useTransition:function(){var n=Ih(Ln)[0],r=Se().memoizedState;return[typeof n=="boolean"?n:ko(n),r]},useSyncExternalStore:Cx,useId:ey,useHostTransitionStatus:Xh,useFormState:Ux,useActionState:Ux,useOptimistic:function(n,r){var c=Se();return Yt!==null?Dx(c,Yt,n,r):(c.baseState=n,[n,c.queue.dispatch])},useMemoCache:zh,useCacheRefresh:iy};oy.useEffectEvent=qx;function Wh(n,r,c,h){r=n.memoizedState,c=c(h,r),c=c==null?r:g({},r,c),n.memoizedState=c,n.lanes===0&&(n.updateQueue.baseState=c)}var Qh={enqueueSetState:function(n,r,c){n=n._reactInternals;var h=_i(),x=gs(h);x.payload=r,c!=null&&(x.callback=c),r=xs(n,x,h),r!==null&&(fi(r,n,h),To(r,n,h))},enqueueReplaceState:function(n,r,c){n=n._reactInternals;var h=_i(),x=gs(h);x.tag=1,x.payload=r,c!=null&&(x.callback=c),r=xs(n,x,h),r!==null&&(fi(r,n,h),To(r,n,h))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var c=_i(),h=gs(c);h.tag=2,r!=null&&(h.callback=r),r=xs(n,h,c),r!==null&&(fi(r,n,c),To(r,n,c))}};function ly(n,r,c,h,x,y,S){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(h,y,S):r.prototype&&r.prototype.isPureReactComponent?!xo(c,h)||!xo(x,y):!0}function cy(n,r,c,h){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(c,h),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(c,h),r.state!==n&&Qh.enqueueReplaceState(r,r.state,null)}function ra(n,r){var c=r;if("ref"in r){c={};for(var h in r)h!=="ref"&&(c[h]=r[h])}if(n=n.defaultProps){c===r&&(c=g({},c));for(var x in n)c[x]===void 0&&(c[x]=n[x])}return c}function uy(n){fc(n)}function dy(n){console.error(n)}function hy(n){fc(n)}function Pc(n,r){try{var c=n.onUncaughtError;c(r.value,{componentStack:r.stack})}catch(h){setTimeout(function(){throw h})}}function fy(n,r,c){try{var h=n.onCaughtError;h(c.value,{componentStack:c.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(x){setTimeout(function(){throw x})}}function Zh(n,r,c){return c=gs(c),c.tag=3,c.payload={element:null},c.callback=function(){Pc(n,r)},c}function py(n){return n=gs(n),n.tag=3,n}function my(n,r,c,h){var x=c.type.getDerivedStateFromError;if(typeof x=="function"){var y=h.value;n.payload=function(){return x(y)},n.callback=function(){fy(r,c,h)}}var S=c.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(n.callback=function(){fy(r,c,h),typeof x!="function"&&(Ss===null?Ss=new Set([this]):Ss.add(this));var N=h.stack;this.componentDidCatch(h.value,{componentStack:N!==null?N:""})})}function LT(n,r,c,h,x){if(c.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(r=c.alternate,r!==null&&Wa(r,c,x,!0),c=Si.current,c!==null){switch(c.tag){case 31:case 13:return Ii===null?Yc():c.alternate===null&&xe===0&&(xe=3),c.flags&=-257,c.flags|=65536,c.lanes=x,h===Sc?c.flags|=16384:(r=c.updateQueue,r===null?c.updateQueue=new Set([h]):r.add(h),Ef(n,h,x)),!1;case 22:return c.flags|=65536,h===Sc?c.flags|=16384:(r=c.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([h])},c.updateQueue=r):(c=r.retryQueue,c===null?r.retryQueue=new Set([h]):c.add(h)),Ef(n,h,x)),!1}throw Error(i(435,c.tag))}return Ef(n,h,x),Yc(),!1}if(Ot)return r=Si.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=x,h!==xh&&(n=Error(i(422),{cause:h}),vo(Pi(n,c)))):(h!==xh&&(r=Error(i(423),{cause:h}),vo(Pi(r,c))),n=n.current.alternate,n.flags|=65536,x&=-x,n.lanes|=x,h=Pi(h,c),x=Zh(n.stateNode,h,x),Nh(n,x),xe!==4&&(xe=2)),!1;var y=Error(i(520),{cause:h});if(y=Pi(y,c),Fo===null?Fo=[y]:Fo.push(y),xe!==4&&(xe=2),r===null)return!0;h=Pi(h,c),c=r;do{switch(c.tag){case 3:return c.flags|=65536,n=x&-x,c.lanes|=n,n=Zh(c.stateNode,h,n),Nh(c,n),!1;case 1:if(r=c.type,y=c.stateNode,(c.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Ss===null||!Ss.has(y))))return c.flags|=65536,x&=-x,c.lanes|=x,x=py(x),my(x,n,c,h),Nh(c,x),!1}c=c.return}while(c!==null);return!1}var Jh=Error(i(461)),_e=!1;function qe(n,r,c,h){r.child=n===null?bx(r,null,c,h):sa(r,n.child,c,h)}function gy(n,r,c,h,x){c=c.render;var y=r.ref;if("ref"in h){var S={};for(var N in h)N!=="ref"&&(S[N]=h[N])}else S=h;return ta(r),h=Oh(n,r,c,S,y,x),N=Lh(),n!==null&&!_e?(Ph(n,r,x),Pn(n,r,x)):(Ot&&N&&mh(r),r.flags|=1,qe(n,r,h,x),r.child)}function xy(n,r,c,h,x){if(n===null){var y=c.type;return typeof y=="function"&&!hh(y)&&y.defaultProps===void 0&&c.compare===null?(r.tag=15,r.type=y,yy(n,r,y,h,x)):(n=xc(c.type,null,h,r,r.mode,x),n.ref=r.ref,n.return=r,r.child=n)}if(y=n.child,!lf(n,x)){var S=y.memoizedProps;if(c=c.compare,c=c!==null?c:xo,c(S,h)&&n.ref===r.ref)return Pn(n,r,x)}return r.flags|=1,n=jn(y,h),n.ref=r.ref,n.return=r,r.child=n}function yy(n,r,c,h,x){if(n!==null){var y=n.memoizedProps;if(xo(y,h)&&n.ref===r.ref)if(_e=!1,r.pendingProps=h=y,lf(n,x))(n.flags&131072)!==0&&(_e=!0);else return r.lanes=n.lanes,Pn(n,r,x)}return tf(n,r,c,h,x)}function by(n,r,c,h){var x=h.children,y=n!==null?n.memoizedState:null;if(n===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((r.flags&128)!==0){if(y=y!==null?y.baseLanes|c:c,n!==null){for(h=r.child=n.child,x=0;h!==null;)x=x|h.lanes|h.childLanes,h=h.sibling;h=x&~y}else h=0,r.child=null;return vy(n,r,y,c,h)}if((c&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&wc(r,y!==null?y.cachePool:null),y!==null?Ax(r,y):jh(),Sx(r);else return h=r.lanes=536870912,vy(n,r,y!==null?y.baseLanes|c:c,c,h)}else y!==null?(wc(r,y.cachePool),Ax(r,y),bs(),r.memoizedState=null):(n!==null&&wc(r,null),jh(),bs());return qe(n,r,x,c),r.child}function Do(n,r){return n!==null&&n.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function vy(n,r,c,h,x){var y=Eh();return y=y===null?null:{parent:Te._currentValue,pool:y},r.memoizedState={baseLanes:c,cachePool:y},n!==null&&wc(r,null),jh(),Sx(r),n!==null&&Wa(n,r,h,!0),r.childLanes=x,null}function Bc(n,r){return r=Fc({mode:r.mode,children:r.children},n.mode),r.ref=n.ref,n.child=r,r.return=n,r}function wy(n,r,c){return sa(r,n.child,null,c),n=Bc(r,r.pendingProps),n.flags|=2,Ei(r),r.memoizedState=null,n}function PT(n,r,c){var h=r.pendingProps,x=(r.flags&128)!==0;if(r.flags&=-129,n===null){if(Ot){if(h.mode==="hidden")return n=Bc(r,h),r.lanes=536870912,Do(null,n);if(Dh(r),(n=ee)?(n=Rb(n,Fi),n=n!==null&&n.data==="&"?n:null,n!==null&&(r.memoizedState={dehydrated:n,treeContext:ds!==null?{id:ln,overflow:cn}:null,retryLane:536870912,hydrationErrors:null},c=sx(n),c.return=r,r.child=c,He=r,ee=null)):n=null,n===null)throw fs(r);return r.lanes=536870912,null}return Bc(r,h)}var y=n.memoizedState;if(y!==null){var S=y.dehydrated;if(Dh(r),x)if(r.flags&256)r.flags&=-257,r=wy(n,r,c);else if(r.memoizedState!==null)r.child=n.child,r.flags|=128,r=null;else throw Error(i(558));else if(_e||Wa(n,r,c,!1),x=(c&n.childLanes)!==0,_e||x){if(h=Zt,h!==null&&(S=d0(h,c),S!==0&&S!==y.retryLane))throw y.retryLane=S,Ws(n,S),fi(h,n,S),Jh;Yc(),r=wy(n,r,c)}else n=y.treeContext,ee=Ui(S.nextSibling),He=r,Ot=!0,hs=null,Fi=!1,n!==null&&ox(r,n),r=Bc(r,h),r.flags|=4096;return r}return n=jn(n.child,{mode:h.mode,children:h.children}),n.ref=r.ref,r.child=n,n.return=r,n}function zc(n,r){var c=r.ref;if(c===null)n!==null&&n.ref!==null&&(r.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(i(284));(n===null||n.ref!==c)&&(r.flags|=4194816)}}function tf(n,r,c,h,x){return ta(r),c=Oh(n,r,c,h,void 0,x),h=Lh(),n!==null&&!_e?(Ph(n,r,x),Pn(n,r,x)):(Ot&&h&&mh(r),r.flags|=1,qe(n,r,c,x),r.child)}function Ay(n,r,c,h,x,y){return ta(r),r.updateQueue=null,c=Tx(r,h,c,x),Ex(n),h=Lh(),n!==null&&!_e?(Ph(n,r,y),Pn(n,r,y)):(Ot&&h&&mh(r),r.flags|=1,qe(n,r,c,y),r.child)}function Sy(n,r,c,h,x){if(ta(r),r.stateNode===null){var y=$a,S=c.contextType;typeof S=="object"&&S!==null&&(y=Ve(S)),y=new c(h,y),r.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Qh,r.stateNode=y,y._reactInternals=r,y=r.stateNode,y.props=h,y.state=r.memoizedState,y.refs={},Ch(r),S=c.contextType,y.context=typeof S=="object"&&S!==null?Ve(S):$a,y.state=r.memoizedState,S=c.getDerivedStateFromProps,typeof S=="function"&&(Wh(r,c,S,h),y.state=r.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(S=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),S!==y.state&&Qh.enqueueReplaceState(y,y.state,null),_o(r,h,y,x),Co(),y.state=r.memoizedState),typeof y.componentDidMount=="function"&&(r.flags|=4194308),h=!0}else if(n===null){y=r.stateNode;var N=r.memoizedProps,L=ra(c,N);y.props=L;var H=y.context,Q=c.contextType;S=$a,typeof Q=="object"&&Q!==null&&(S=Ve(Q));var tt=c.getDerivedStateFromProps;Q=typeof tt=="function"||typeof y.getSnapshotBeforeUpdate=="function",N=r.pendingProps!==N,Q||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(N||H!==S)&&cy(r,y,h,S),ms=!1;var G=r.memoizedState;y.state=G,_o(r,h,y,x),Co(),H=r.memoizedState,N||G!==H||ms?(typeof tt=="function"&&(Wh(r,c,tt,h),H=r.memoizedState),(L=ms||ly(r,c,L,h,G,H,S))?(Q||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(r.flags|=4194308)):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=h,r.memoizedState=H),y.props=h,y.state=H,y.context=S,h=L):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),h=!1)}else{y=r.stateNode,_h(n,r),S=r.memoizedProps,Q=ra(c,S),y.props=Q,tt=r.pendingProps,G=y.context,H=c.contextType,L=$a,typeof H=="object"&&H!==null&&(L=Ve(H)),N=c.getDerivedStateFromProps,(H=typeof N=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(S!==tt||G!==L)&&cy(r,y,h,L),ms=!1,G=r.memoizedState,y.state=G,_o(r,h,y,x),Co();var K=r.memoizedState;S!==tt||G!==K||ms||n!==null&&n.dependencies!==null&&bc(n.dependencies)?(typeof N=="function"&&(Wh(r,c,N,h),K=r.memoizedState),(Q=ms||ly(r,c,Q,h,G,K,L)||n!==null&&n.dependencies!==null&&bc(n.dependencies))?(H||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(h,K,L),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(h,K,L)),typeof y.componentDidUpdate=="function"&&(r.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof y.componentDidUpdate!="function"||S===n.memoizedProps&&G===n.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||S===n.memoizedProps&&G===n.memoizedState||(r.flags|=1024),r.memoizedProps=h,r.memoizedState=K),y.props=h,y.state=K,y.context=L,h=Q):(typeof y.componentDidUpdate!="function"||S===n.memoizedProps&&G===n.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||S===n.memoizedProps&&G===n.memoizedState||(r.flags|=1024),h=!1)}return y=h,zc(n,r),h=(r.flags&128)!==0,y||h?(y=r.stateNode,c=h&&typeof c.getDerivedStateFromError!="function"?null:y.render(),r.flags|=1,n!==null&&h?(r.child=sa(r,n.child,null,x),r.child=sa(r,null,c,x)):qe(n,r,c,x),r.memoizedState=y.state,n=r.child):n=Pn(n,r,x),n}function Ey(n,r,c,h){return Zs(),r.flags|=256,qe(n,r,c,h),r.child}var ef={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function nf(n){return{baseLanes:n,cachePool:fx()}}function sf(n,r,c){return n=n!==null?n.childLanes&~c:0,r&&(n|=Ci),n}function Ty(n,r,c){var h=r.pendingProps,x=!1,y=(r.flags&128)!==0,S;if((S=y)||(S=n!==null&&n.memoizedState===null?!1:(Ae.current&2)!==0),S&&(x=!0,r.flags&=-129),S=(r.flags&32)!==0,r.flags&=-33,n===null){if(Ot){if(x?ys(r):bs(),(n=ee)?(n=Rb(n,Fi),n=n!==null&&n.data!=="&"?n:null,n!==null&&(r.memoizedState={dehydrated:n,treeContext:ds!==null?{id:ln,overflow:cn}:null,retryLane:536870912,hydrationErrors:null},c=sx(n),c.return=r,r.child=c,He=r,ee=null)):n=null,n===null)throw fs(r);return If(n)?r.lanes=32:r.lanes=536870912,null}var N=h.children;return h=h.fallback,x?(bs(),x=r.mode,N=Fc({mode:"hidden",children:N},x),h=Qs(h,x,c,null),N.return=r,h.return=r,N.sibling=h,r.child=N,h=r.child,h.memoizedState=nf(c),h.childLanes=sf(n,S,c),r.memoizedState=ef,Do(null,h)):(ys(r),af(r,N))}var L=n.memoizedState;if(L!==null&&(N=L.dehydrated,N!==null)){if(y)r.flags&256?(ys(r),r.flags&=-257,r=rf(n,r,c)):r.memoizedState!==null?(bs(),r.child=n.child,r.flags|=128,r=null):(bs(),N=h.fallback,x=r.mode,h=Fc({mode:"visible",children:h.children},x),N=Qs(N,x,c,null),N.flags|=2,h.return=r,N.return=r,h.sibling=N,r.child=h,sa(r,n.child,null,c),h=r.child,h.memoizedState=nf(c),h.childLanes=sf(n,S,c),r.memoizedState=ef,r=Do(null,h));else if(ys(r),If(N)){if(S=N.nextSibling&&N.nextSibling.dataset,S)var H=S.dgst;S=H,h=Error(i(419)),h.stack="",h.digest=S,vo({value:h,source:null,stack:null}),r=rf(n,r,c)}else if(_e||Wa(n,r,c,!1),S=(c&n.childLanes)!==0,_e||S){if(S=Zt,S!==null&&(h=d0(S,c),h!==0&&h!==L.retryLane))throw L.retryLane=h,Ws(n,h),fi(S,n,h),Jh;Ff(N)||Yc(),r=rf(n,r,c)}else Ff(N)?(r.flags|=192,r.child=n.child,r=null):(n=L.treeContext,ee=Ui(N.nextSibling),He=r,Ot=!0,hs=null,Fi=!1,n!==null&&ox(r,n),r=af(r,h.children),r.flags|=4096);return r}return x?(bs(),N=h.fallback,x=r.mode,L=n.child,H=L.sibling,h=jn(L,{mode:"hidden",children:h.children}),h.subtreeFlags=L.subtreeFlags&65011712,H!==null?N=jn(H,N):(N=Qs(N,x,c,null),N.flags|=2),N.return=r,h.return=r,h.sibling=N,r.child=h,Do(null,h),h=r.child,N=n.child.memoizedState,N===null?N=nf(c):(x=N.cachePool,x!==null?(L=Te._currentValue,x=x.parent!==L?{parent:L,pool:L}:x):x=fx(),N={baseLanes:N.baseLanes|c,cachePool:x}),h.memoizedState=N,h.childLanes=sf(n,S,c),r.memoizedState=ef,Do(n.child,h)):(ys(r),c=n.child,n=c.sibling,c=jn(c,{mode:"visible",children:h.children}),c.return=r,c.sibling=null,n!==null&&(S=r.deletions,S===null?(r.deletions=[n],r.flags|=16):S.push(n)),r.child=c,r.memoizedState=null,c)}function af(n,r){return r=Fc({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function Fc(n,r){return n=Ai(22,n,null,r),n.lanes=0,n}function rf(n,r,c){return sa(r,n.child,null,c),n=af(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function Cy(n,r,c){n.lanes|=r;var h=n.alternate;h!==null&&(h.lanes|=r),vh(n.return,r,c)}function of(n,r,c,h,x,y){var S=n.memoizedState;S===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:h,tail:c,tailMode:x,treeForkCount:y}:(S.isBackwards=r,S.rendering=null,S.renderingStartTime=0,S.last=h,S.tail=c,S.tailMode=x,S.treeForkCount=y)}function _y(n,r,c){var h=r.pendingProps,x=h.revealOrder,y=h.tail;h=h.children;var S=Ae.current,N=(S&2)!==0;if(N?(S=S&1|2,r.flags|=128):S&=1,J(Ae,S),qe(n,r,h,c),h=Ot?bo:0,!N&&n!==null&&(n.flags&128)!==0)t:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Cy(n,c,r);else if(n.tag===19)Cy(n,c,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break t;for(;n.sibling===null;){if(n.return===null||n.return===r)break t;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(x){case"forwards":for(c=r.child,x=null;c!==null;)n=c.alternate,n!==null&&_c(n)===null&&(x=c),c=c.sibling;c=x,c===null?(x=r.child,r.child=null):(x=c.sibling,c.sibling=null),of(r,!1,x,c,y,h);break;case"backwards":case"unstable_legacy-backwards":for(c=null,x=r.child,r.child=null;x!==null;){if(n=x.alternate,n!==null&&_c(n)===null){r.child=x;break}n=x.sibling,x.sibling=c,c=x,x=n}of(r,!0,c,null,y,h);break;case"together":of(r,!1,null,null,void 0,h);break;default:r.memoizedState=null}return r.child}function Pn(n,r,c){if(n!==null&&(r.dependencies=n.dependencies),As|=r.lanes,(c&r.childLanes)===0)if(n!==null){if(Wa(n,r,c,!1),(c&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(i(153));if(r.child!==null){for(n=r.child,c=jn(n,n.pendingProps),r.child=c,c.return=r;n.sibling!==null;)n=n.sibling,c=c.sibling=jn(n,n.pendingProps),c.return=r;c.sibling=null}return r.child}function lf(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&bc(n)))}function BT(n,r,c){switch(r.tag){case 3:ne(r,r.stateNode.containerInfo),ps(r,Te,n.memoizedState.cache),Zs();break;case 27:case 5:ji(r);break;case 4:ne(r,r.stateNode.containerInfo);break;case 10:ps(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Dh(r),null;break;case 13:var h=r.memoizedState;if(h!==null)return h.dehydrated!==null?(ys(r),r.flags|=128,null):(c&r.child.childLanes)!==0?Ty(n,r,c):(ys(r),n=Pn(n,r,c),n!==null?n.sibling:null);ys(r);break;case 19:var x=(n.flags&128)!==0;if(h=(c&r.childLanes)!==0,h||(Wa(n,r,c,!1),h=(c&r.childLanes)!==0),x){if(h)return _y(n,r,c);r.flags|=128}if(x=r.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),J(Ae,Ae.current),h)break;return null;case 22:return r.lanes=0,by(n,r,c,r.pendingProps);case 24:ps(r,Te,n.memoizedState.cache)}return Pn(n,r,c)}function Ny(n,r,c){if(n!==null)if(n.memoizedProps!==r.pendingProps)_e=!0;else{if(!lf(n,c)&&(r.flags&128)===0)return _e=!1,BT(n,r,c);_e=(n.flags&131072)!==0}else _e=!1,Ot&&(r.flags&1048576)!==0&&rx(r,bo,r.index);switch(r.lanes=0,r.tag){case 16:t:{var h=r.pendingProps;if(n=ia(r.elementType),r.type=n,typeof n=="function")hh(n)?(h=ra(n,h),r.tag=1,r=Sy(null,r,n,h,c)):(r.tag=0,r=tf(null,r,n,h,c));else{if(n!=null){var x=n.$$typeof;if(x===j){r.tag=11,r=gy(null,r,n,h,c);break t}else if(x===D){r.tag=14,r=xy(null,r,n,h,c);break t}}throw r=et(n)||n,Error(i(306,r,""))}}return r;case 0:return tf(n,r,r.type,r.pendingProps,c);case 1:return h=r.type,x=ra(h,r.pendingProps),Sy(n,r,h,x,c);case 3:t:{if(ne(r,r.stateNode.containerInfo),n===null)throw Error(i(387));h=r.pendingProps;var y=r.memoizedState;x=y.element,_h(n,r),_o(r,h,null,c);var S=r.memoizedState;if(h=S.cache,ps(r,Te,h),h!==y.cache&&wh(r,[Te],c,!0),Co(),h=S.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:S.cache},r.updateQueue.baseState=y,r.memoizedState=y,r.flags&256){r=Ey(n,r,h,c);break t}else if(h!==x){x=Pi(Error(i(424)),r),vo(x),r=Ey(n,r,h,c);break t}else{switch(n=r.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(ee=Ui(n.firstChild),He=r,Ot=!0,hs=null,Fi=!0,c=bx(r,null,h,c),r.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(Zs(),h===x){r=Pn(n,r,c);break t}qe(n,r,h,c)}r=r.child}return r;case 26:return zc(n,r),n===null?(c=Fb(r.type,null,r.pendingProps,null))?r.memoizedState=c:Ot||(c=r.type,n=r.pendingProps,h=eu(mt.current).createElement(c),h[Ue]=r,h[oi]=n,Ge(h,c,n),Pe(h),r.stateNode=h):r.memoizedState=Fb(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return ji(r),n===null&&Ot&&(h=r.stateNode=Pb(r.type,r.pendingProps,mt.current),He=r,Fi=!0,x=ee,_s(r.type)?(Uf=x,ee=Ui(h.firstChild)):ee=x),qe(n,r,r.pendingProps.children,c),zc(n,r),n===null&&(r.flags|=4194304),r.child;case 5:return n===null&&Ot&&((x=h=ee)&&(h=fC(h,r.type,r.pendingProps,Fi),h!==null?(r.stateNode=h,He=r,ee=Ui(h.firstChild),Fi=!1,x=!0):x=!1),x||fs(r)),ji(r),x=r.type,y=r.pendingProps,S=n!==null?n.memoizedProps:null,h=y.children,Pf(x,y)?h=null:S!==null&&Pf(x,S)&&(r.flags|=32),r.memoizedState!==null&&(x=Oh(n,r,NT,null,null,c),Xo._currentValue=x),zc(n,r),qe(n,r,h,c),r.child;case 6:return n===null&&Ot&&((n=c=ee)&&(c=pC(c,r.pendingProps,Fi),c!==null?(r.stateNode=c,He=r,ee=null,n=!0):n=!1),n||fs(r)),null;case 13:return Ty(n,r,c);case 4:return ne(r,r.stateNode.containerInfo),h=r.pendingProps,n===null?r.child=sa(r,null,h,c):qe(n,r,h,c),r.child;case 11:return gy(n,r,r.type,r.pendingProps,c);case 7:return qe(n,r,r.pendingProps,c),r.child;case 8:return qe(n,r,r.pendingProps.children,c),r.child;case 12:return qe(n,r,r.pendingProps.children,c),r.child;case 10:return h=r.pendingProps,ps(r,r.type,h.value),qe(n,r,h.children,c),r.child;case 9:return x=r.type._context,h=r.pendingProps.children,ta(r),x=Ve(x),h=h(x),r.flags|=1,qe(n,r,h,c),r.child;case 14:return xy(n,r,r.type,r.pendingProps,c);case 15:return yy(n,r,r.type,r.pendingProps,c);case 19:return _y(n,r,c);case 31:return PT(n,r,c);case 22:return by(n,r,c,r.pendingProps);case 24:return ta(r),h=Ve(Te),n===null?(x=Eh(),x===null&&(x=Zt,y=Ah(),x.pooledCache=y,y.refCount++,y!==null&&(x.pooledCacheLanes|=c),x=y),r.memoizedState={parent:h,cache:x},Ch(r),ps(r,Te,x)):((n.lanes&c)!==0&&(_h(n,r),_o(r,null,null,c),Co()),x=n.memoizedState,y=r.memoizedState,x.parent!==h?(x={parent:h,cache:h},r.memoizedState=x,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=x),ps(r,Te,h)):(h=y.cache,ps(r,Te,h),h!==x.cache&&wh(r,[Te],c,!0))),qe(n,r,r.pendingProps.children,c),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function Bn(n){n.flags|=4}function cf(n,r,c,h,x){if((r=(n.mode&32)!==0)&&(r=!1),r){if(n.flags|=16777216,(x&335544128)===x)if(n.stateNode.complete)n.flags|=8192;else if(eb())n.flags|=8192;else throw na=Sc,Th}else n.flags&=-16777217}function ky(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!qb(r))if(eb())n.flags|=8192;else throw na=Sc,Th}function Ic(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?l0():536870912,n.lanes|=r,lr|=r)}function Ro(n,r){if(!Ot)switch(n.tailMode){case"hidden":r=n.tail;for(var c=null;r!==null;)r.alternate!==null&&(c=r),r=r.sibling;c===null?n.tail=null:c.sibling=null;break;case"collapsed":c=n.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:h.sibling=null}}function ie(n){var r=n.alternate!==null&&n.alternate.child===n.child,c=0,h=0;if(r)for(var x=n.child;x!==null;)c|=x.lanes|x.childLanes,h|=x.subtreeFlags&65011712,h|=x.flags&65011712,x.return=n,x=x.sibling;else for(x=n.child;x!==null;)c|=x.lanes|x.childLanes,h|=x.subtreeFlags,h|=x.flags,x.return=n,x=x.sibling;return n.subtreeFlags|=h,n.childLanes=c,r}function zT(n,r,c){var h=r.pendingProps;switch(gh(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ie(r),null;case 1:return ie(r),null;case 3:return c=r.stateNode,h=null,n!==null&&(h=n.memoizedState.cache),r.memoizedState.cache!==h&&(r.flags|=2048),Rn(Te),Ht(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(n===null||n.child===null)&&(Ka(r)?Bn(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,yh())),ie(r),null;case 26:var x=r.type,y=r.memoizedState;return n===null?(Bn(r),y!==null?(ie(r),ky(r,y)):(ie(r),cf(r,x,null,h,c))):y?y!==n.memoizedState?(Bn(r),ie(r),ky(r,y)):(ie(r),r.flags&=-16777217):(n=n.memoizedProps,n!==h&&Bn(r),ie(r),cf(r,x,n,h,c)),null;case 27:if(vi(r),c=mt.current,x=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==h&&Bn(r);else{if(!h){if(r.stateNode===null)throw Error(i(166));return ie(r),null}n=nt.current,Ka(r)?lx(r):(n=Pb(x,h,c),r.stateNode=n,Bn(r))}return ie(r),null;case 5:if(vi(r),x=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==h&&Bn(r);else{if(!h){if(r.stateNode===null)throw Error(i(166));return ie(r),null}if(y=nt.current,Ka(r))lx(r);else{var S=eu(mt.current);switch(y){case 1:y=S.createElementNS("http://www.w3.org/2000/svg",x);break;case 2:y=S.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;default:switch(x){case"svg":y=S.createElementNS("http://www.w3.org/2000/svg",x);break;case"math":y=S.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;case"script":y=S.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof h.is=="string"?S.createElement("select",{is:h.is}):S.createElement("select"),h.multiple?y.multiple=!0:h.size&&(y.size=h.size);break;default:y=typeof h.is=="string"?S.createElement(x,{is:h.is}):S.createElement(x)}}y[Ue]=r,y[oi]=h;t:for(S=r.child;S!==null;){if(S.tag===5||S.tag===6)y.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===r)break t;for(;S.sibling===null;){if(S.return===null||S.return===r)break t;S=S.return}S.sibling.return=S.return,S=S.sibling}r.stateNode=y;t:switch(Ge(y,x,h),x){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break t;case"img":h=!0;break t;default:h=!1}h&&Bn(r)}}return ie(r),cf(r,r.type,n===null?null:n.memoizedProps,r.pendingProps,c),null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==h&&Bn(r);else{if(typeof h!="string"&&r.stateNode===null)throw Error(i(166));if(n=mt.current,Ka(r)){if(n=r.stateNode,c=r.memoizedProps,h=null,x=He,x!==null)switch(x.tag){case 27:case 5:h=x.memoizedProps}n[Ue]=r,n=!!(n.nodeValue===c||h!==null&&h.suppressHydrationWarning===!0||Tb(n.nodeValue,c)),n||fs(r,!0)}else n=eu(n).createTextNode(h),n[Ue]=r,r.stateNode=n}return ie(r),null;case 31:if(c=r.memoizedState,n===null||n.memoizedState!==null){if(h=Ka(r),c!==null){if(n===null){if(!h)throw Error(i(318));if(n=r.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(557));n[Ue]=r}else Zs(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ie(r),n=!1}else c=yh(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=c),n=!0;if(!n)return r.flags&256?(Ei(r),r):(Ei(r),null);if((r.flags&128)!==0)throw Error(i(558))}return ie(r),null;case 13:if(h=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(x=Ka(r),h!==null&&h.dehydrated!==null){if(n===null){if(!x)throw Error(i(318));if(x=r.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(i(317));x[Ue]=r}else Zs(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ie(r),x=!1}else x=yh(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=x),x=!0;if(!x)return r.flags&256?(Ei(r),r):(Ei(r),null)}return Ei(r),(r.flags&128)!==0?(r.lanes=c,r):(c=h!==null,n=n!==null&&n.memoizedState!==null,c&&(h=r.child,x=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(x=h.alternate.memoizedState.cachePool.pool),y=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(y=h.memoizedState.cachePool.pool),y!==x&&(h.flags|=2048)),c!==n&&c&&(r.child.flags|=8192),Ic(r,r.updateQueue),ie(r),null);case 4:return Ht(),n===null&&Mf(r.stateNode.containerInfo),ie(r),null;case 10:return Rn(r.type),ie(r),null;case 19:if($(Ae),h=r.memoizedState,h===null)return ie(r),null;if(x=(r.flags&128)!==0,y=h.rendering,y===null)if(x)Ro(h,!1);else{if(xe!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(y=_c(n),y!==null){for(r.flags|=128,Ro(h,!1),n=y.updateQueue,r.updateQueue=n,Ic(r,n),r.subtreeFlags=0,n=c,c=r.child;c!==null;)nx(c,n),c=c.sibling;return J(Ae,Ae.current&1|2),Ot&&Mn(r,h.treeForkCount),r.child}n=n.sibling}h.tail!==null&&st()>Gc&&(r.flags|=128,x=!0,Ro(h,!1),r.lanes=4194304)}else{if(!x)if(n=_c(y),n!==null){if(r.flags|=128,x=!0,n=n.updateQueue,r.updateQueue=n,Ic(r,n),Ro(h,!0),h.tail===null&&h.tailMode==="hidden"&&!y.alternate&&!Ot)return ie(r),null}else 2*st()-h.renderingStartTime>Gc&&c!==536870912&&(r.flags|=128,x=!0,Ro(h,!1),r.lanes=4194304);h.isBackwards?(y.sibling=r.child,r.child=y):(n=h.last,n!==null?n.sibling=y:r.child=y,h.last=y)}return h.tail!==null?(n=h.tail,h.rendering=n,h.tail=n.sibling,h.renderingStartTime=st(),n.sibling=null,c=Ae.current,J(Ae,x?c&1|2:c&1),Ot&&Mn(r,h.treeForkCount),n):(ie(r),null);case 22:case 23:return Ei(r),Mh(),h=r.memoizedState!==null,n!==null?n.memoizedState!==null!==h&&(r.flags|=8192):h&&(r.flags|=8192),h?(c&536870912)!==0&&(r.flags&128)===0&&(ie(r),r.subtreeFlags&6&&(r.flags|=8192)):ie(r),c=r.updateQueue,c!==null&&Ic(r,c.retryQueue),c=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(c=n.memoizedState.cachePool.pool),h=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(h=r.memoizedState.cachePool.pool),h!==c&&(r.flags|=2048),n!==null&&$(ea),null;case 24:return c=null,n!==null&&(c=n.memoizedState.cache),r.memoizedState.cache!==c&&(r.flags|=2048),Rn(Te),ie(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function FT(n,r){switch(gh(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return Rn(Te),Ht(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return vi(r),null;case 31:if(r.memoizedState!==null){if(Ei(r),r.alternate===null)throw Error(i(340));Zs()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 13:if(Ei(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(i(340));Zs()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return $(Ae),null;case 4:return Ht(),null;case 10:return Rn(r.type),null;case 22:case 23:return Ei(r),Mh(),n!==null&&$(ea),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return Rn(Te),null;case 25:return null;default:return null}}function jy(n,r){switch(gh(r),r.tag){case 3:Rn(Te),Ht();break;case 26:case 27:case 5:vi(r);break;case 4:Ht();break;case 31:r.memoizedState!==null&&Ei(r);break;case 13:Ei(r);break;case 19:$(Ae);break;case 10:Rn(r.type);break;case 22:case 23:Ei(r),Mh(),n!==null&&$(ea);break;case 24:Rn(Te)}}function Oo(n,r){try{var c=r.updateQueue,h=c!==null?c.lastEffect:null;if(h!==null){var x=h.next;c=x;do{if((c.tag&n)===n){h=void 0;var y=c.create,S=c.inst;h=y(),S.destroy=h}c=c.next}while(c!==x)}}catch(N){$t(r,r.return,N)}}function vs(n,r,c){try{var h=r.updateQueue,x=h!==null?h.lastEffect:null;if(x!==null){var y=x.next;h=y;do{if((h.tag&n)===n){var S=h.inst,N=S.destroy;if(N!==void 0){S.destroy=void 0,x=r;var L=c,H=N;try{H()}catch(Q){$t(x,L,Q)}}}h=h.next}while(h!==y)}}catch(Q){$t(r,r.return,Q)}}function My(n){var r=n.updateQueue;if(r!==null){var c=n.stateNode;try{wx(r,c)}catch(h){$t(n,n.return,h)}}}function Dy(n,r,c){c.props=ra(n.type,n.memoizedProps),c.state=n.memoizedState;try{c.componentWillUnmount()}catch(h){$t(n,r,h)}}function Lo(n,r){try{var c=n.ref;if(c!==null){switch(n.tag){case 26:case 27:case 5:var h=n.stateNode;break;case 30:h=n.stateNode;break;default:h=n.stateNode}typeof c=="function"?n.refCleanup=c(h):c.current=h}}catch(x){$t(n,r,x)}}function un(n,r){var c=n.ref,h=n.refCleanup;if(c!==null)if(typeof h=="function")try{h()}catch(x){$t(n,r,x)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(x){$t(n,r,x)}else c.current=null}function Ry(n){var r=n.type,c=n.memoizedProps,h=n.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":c.autoFocus&&h.focus();break t;case"img":c.src?h.src=c.src:c.srcSet&&(h.srcset=c.srcSet)}}catch(x){$t(n,n.return,x)}}function uf(n,r,c){try{var h=n.stateNode;oC(h,n.type,c,r),h[oi]=r}catch(x){$t(n,n.return,x)}}function Oy(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&_s(n.type)||n.tag===4}function df(n){t:for(;;){for(;n.sibling===null;){if(n.return===null||Oy(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&_s(n.type)||n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function hf(n,r,c){var h=n.tag;if(h===5||h===6)n=n.stateNode,r?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(n,r):(r=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,r.appendChild(n),c=c._reactRootContainer,c!=null||r.onclick!==null||(r.onclick=Nn));else if(h!==4&&(h===27&&_s(n.type)&&(c=n.stateNode,r=null),n=n.child,n!==null))for(hf(n,r,c),n=n.sibling;n!==null;)hf(n,r,c),n=n.sibling}function Uc(n,r,c){var h=n.tag;if(h===5||h===6)n=n.stateNode,r?c.insertBefore(n,r):c.appendChild(n);else if(h!==4&&(h===27&&_s(n.type)&&(c=n.stateNode),n=n.child,n!==null))for(Uc(n,r,c),n=n.sibling;n!==null;)Uc(n,r,c),n=n.sibling}function Ly(n){var r=n.stateNode,c=n.memoizedProps;try{for(var h=n.type,x=r.attributes;x.length;)r.removeAttributeNode(x[0]);Ge(r,h,c),r[Ue]=n,r[oi]=c}catch(y){$t(n,n.return,y)}}var zn=!1,Ne=!1,ff=!1,Py=typeof WeakSet=="function"?WeakSet:Set,Be=null;function IT(n,r){if(n=n.containerInfo,Of=lu,n=Y0(n),ah(n)){if("selectionStart"in n)var c={start:n.selectionStart,end:n.selectionEnd};else t:{c=(c=n.ownerDocument)&&c.defaultView||window;var h=c.getSelection&&c.getSelection();if(h&&h.rangeCount!==0){c=h.anchorNode;var x=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{c.nodeType,y.nodeType}catch{c=null;break t}var S=0,N=-1,L=-1,H=0,Q=0,tt=n,G=null;e:for(;;){for(var K;tt!==c||x!==0&&tt.nodeType!==3||(N=S+x),tt!==y||h!==0&&tt.nodeType!==3||(L=S+h),tt.nodeType===3&&(S+=tt.nodeValue.length),(K=tt.firstChild)!==null;)G=tt,tt=K;for(;;){if(tt===n)break e;if(G===c&&++H===x&&(N=S),G===y&&++Q===h&&(L=S),(K=tt.nextSibling)!==null)break;tt=G,G=tt.parentNode}tt=K}c=N===-1||L===-1?null:{start:N,end:L}}else c=null}c=c||{start:0,end:0}}else c=null;for(Lf={focusedElem:n,selectionRange:c},lu=!1,Be=r;Be!==null;)if(r=Be,n=r.child,(r.subtreeFlags&1028)!==0&&n!==null)n.return=r,Be=n;else for(;Be!==null;){switch(r=Be,y=r.alternate,n=r.flags,r.tag){case 0:if((n&4)!==0&&(n=r.updateQueue,n=n!==null?n.events:null,n!==null))for(c=0;c<n.length;c++)x=n[c],x.ref.impl=x.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&y!==null){n=void 0,c=r,x=y.memoizedProps,y=y.memoizedState,h=c.stateNode;try{var ct=ra(c.type,x);n=h.getSnapshotBeforeUpdate(ct,y),h.__reactInternalSnapshotBeforeUpdate=n}catch(vt){$t(c,c.return,vt)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,c=n.nodeType,c===9)zf(n);else if(c===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":zf(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(i(163))}if(n=r.sibling,n!==null){n.return=r.return,Be=n;break}Be=r.return}}function By(n,r,c){var h=c.flags;switch(c.tag){case 0:case 11:case 15:In(n,c),h&4&&Oo(5,c);break;case 1:if(In(n,c),h&4)if(n=c.stateNode,r===null)try{n.componentDidMount()}catch(S){$t(c,c.return,S)}else{var x=ra(c.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(x,r,n.__reactInternalSnapshotBeforeUpdate)}catch(S){$t(c,c.return,S)}}h&64&&My(c),h&512&&Lo(c,c.return);break;case 3:if(In(n,c),h&64&&(n=c.updateQueue,n!==null)){if(r=null,c.child!==null)switch(c.child.tag){case 27:case 5:r=c.child.stateNode;break;case 1:r=c.child.stateNode}try{wx(n,r)}catch(S){$t(c,c.return,S)}}break;case 27:r===null&&h&4&&Ly(c);case 26:case 5:In(n,c),r===null&&h&4&&Ry(c),h&512&&Lo(c,c.return);break;case 12:In(n,c);break;case 31:In(n,c),h&4&&Iy(n,c);break;case 13:In(n,c),h&4&&Uy(n,c),h&64&&(n=c.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(c=KT.bind(null,c),mC(n,c))));break;case 22:if(h=c.memoizedState!==null||zn,!h){r=r!==null&&r.memoizedState!==null||Ne,x=zn;var y=Ne;zn=h,(Ne=r)&&!y?Un(n,c,(c.subtreeFlags&8772)!==0):In(n,c),zn=x,Ne=y}break;case 30:break;default:In(n,c)}}function zy(n){var r=n.alternate;r!==null&&(n.alternate=null,zy(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&Hd(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var se=null,ci=!1;function Fn(n,r,c){for(c=c.child;c!==null;)Fy(n,r,c),c=c.sibling}function Fy(n,r,c){if(Le&&typeof Le.onCommitFiberUnmount=="function")try{Le.onCommitFiberUnmount(Cn,c)}catch{}switch(c.tag){case 26:Ne||un(c,r),Fn(n,r,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:Ne||un(c,r);var h=se,x=ci;_s(c.type)&&(se=c.stateNode,ci=!1),Fn(n,r,c),qo(c.stateNode),se=h,ci=x;break;case 5:Ne||un(c,r);case 6:if(h=se,x=ci,se=null,Fn(n,r,c),se=h,ci=x,se!==null)if(ci)try{(se.nodeType===9?se.body:se.nodeName==="HTML"?se.ownerDocument.body:se).removeChild(c.stateNode)}catch(y){$t(c,r,y)}else try{se.removeChild(c.stateNode)}catch(y){$t(c,r,y)}break;case 18:se!==null&&(ci?(n=se,Mb(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,c.stateNode),gr(n)):Mb(se,c.stateNode));break;case 4:h=se,x=ci,se=c.stateNode.containerInfo,ci=!0,Fn(n,r,c),se=h,ci=x;break;case 0:case 11:case 14:case 15:vs(2,c,r),Ne||vs(4,c,r),Fn(n,r,c);break;case 1:Ne||(un(c,r),h=c.stateNode,typeof h.componentWillUnmount=="function"&&Dy(c,r,h)),Fn(n,r,c);break;case 21:Fn(n,r,c);break;case 22:Ne=(h=Ne)||c.memoizedState!==null,Fn(n,r,c),Ne=h;break;default:Fn(n,r,c)}}function Iy(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{gr(n)}catch(c){$t(r,r.return,c)}}}function Uy(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{gr(n)}catch(c){$t(r,r.return,c)}}function UT(n){switch(n.tag){case 31:case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new Py),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new Py),r;default:throw Error(i(435,n.tag))}}function Hc(n,r){var c=UT(n);r.forEach(function(h){if(!c.has(h)){c.add(h);var x=WT.bind(null,n,h);h.then(x,x)}})}function ui(n,r){var c=r.deletions;if(c!==null)for(var h=0;h<c.length;h++){var x=c[h],y=n,S=r,N=S;t:for(;N!==null;){switch(N.tag){case 27:if(_s(N.type)){se=N.stateNode,ci=!1;break t}break;case 5:se=N.stateNode,ci=!1;break t;case 3:case 4:se=N.stateNode.containerInfo,ci=!0;break t}N=N.return}if(se===null)throw Error(i(160));Fy(y,S,x),se=null,ci=!1,y=x.alternate,y!==null&&(y.return=null),x.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)Hy(r,n),r=r.sibling}var Ji=null;function Hy(n,r){var c=n.alternate,h=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:ui(r,n),di(n),h&4&&(vs(3,n,n.return),Oo(3,n),vs(5,n,n.return));break;case 1:ui(r,n),di(n),h&512&&(Ne||c===null||un(c,c.return)),h&64&&zn&&(n=n.updateQueue,n!==null&&(h=n.callbacks,h!==null&&(c=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=c===null?h:c.concat(h))));break;case 26:var x=Ji;if(ui(r,n),di(n),h&512&&(Ne||c===null||un(c,c.return)),h&4){var y=c!==null?c.memoizedState:null;if(h=n.memoizedState,c===null)if(h===null)if(n.stateNode===null){t:{h=n.type,c=n.memoizedProps,x=x.ownerDocument||x;e:switch(h){case"title":y=x.getElementsByTagName("title")[0],(!y||y[oo]||y[Ue]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=x.createElement(h),x.head.insertBefore(y,x.querySelector("head > title"))),Ge(y,h,c),y[Ue]=n,Pe(y),h=y;break t;case"link":var S=Hb("link","href",x).get(h+(c.href||""));if(S){for(var N=0;N<S.length;N++)if(y=S[N],y.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&y.getAttribute("rel")===(c.rel==null?null:c.rel)&&y.getAttribute("title")===(c.title==null?null:c.title)&&y.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){S.splice(N,1);break e}}y=x.createElement(h),Ge(y,h,c),x.head.appendChild(y);break;case"meta":if(S=Hb("meta","content",x).get(h+(c.content||""))){for(N=0;N<S.length;N++)if(y=S[N],y.getAttribute("content")===(c.content==null?null:""+c.content)&&y.getAttribute("name")===(c.name==null?null:c.name)&&y.getAttribute("property")===(c.property==null?null:c.property)&&y.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&y.getAttribute("charset")===(c.charSet==null?null:c.charSet)){S.splice(N,1);break e}}y=x.createElement(h),Ge(y,h,c),x.head.appendChild(y);break;default:throw Error(i(468,h))}y[Ue]=n,Pe(y),h=y}n.stateNode=h}else Vb(x,n.type,n.stateNode);else n.stateNode=Ub(x,h,n.memoizedProps);else y!==h?(y===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):y.count--,h===null?Vb(x,n.type,n.stateNode):Ub(x,h,n.memoizedProps)):h===null&&n.stateNode!==null&&uf(n,n.memoizedProps,c.memoizedProps)}break;case 27:ui(r,n),di(n),h&512&&(Ne||c===null||un(c,c.return)),c!==null&&h&4&&uf(n,n.memoizedProps,c.memoizedProps);break;case 5:if(ui(r,n),di(n),h&512&&(Ne||c===null||un(c,c.return)),n.flags&32){x=n.stateNode;try{Fa(x,"")}catch(ct){$t(n,n.return,ct)}}h&4&&n.stateNode!=null&&(x=n.memoizedProps,uf(n,x,c!==null?c.memoizedProps:x)),h&1024&&(ff=!0);break;case 6:if(ui(r,n),di(n),h&4){if(n.stateNode===null)throw Error(i(162));h=n.memoizedProps,c=n.stateNode;try{c.nodeValue=h}catch(ct){$t(n,n.return,ct)}}break;case 3:if(su=null,x=Ji,Ji=iu(r.containerInfo),ui(r,n),Ji=x,di(n),h&4&&c!==null&&c.memoizedState.isDehydrated)try{gr(r.containerInfo)}catch(ct){$t(n,n.return,ct)}ff&&(ff=!1,Vy(n));break;case 4:h=Ji,Ji=iu(n.stateNode.containerInfo),ui(r,n),di(n),Ji=h;break;case 12:ui(r,n),di(n);break;case 31:ui(r,n),di(n),h&4&&(h=n.updateQueue,h!==null&&(n.updateQueue=null,Hc(n,h)));break;case 13:ui(r,n),di(n),n.child.flags&8192&&n.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(qc=st()),h&4&&(h=n.updateQueue,h!==null&&(n.updateQueue=null,Hc(n,h)));break;case 22:x=n.memoizedState!==null;var L=c!==null&&c.memoizedState!==null,H=zn,Q=Ne;if(zn=H||x,Ne=Q||L,ui(r,n),Ne=Q,zn=H,di(n),h&8192)t:for(r=n.stateNode,r._visibility=x?r._visibility&-2:r._visibility|1,x&&(c===null||L||zn||Ne||oa(n)),c=null,r=n;;){if(r.tag===5||r.tag===26){if(c===null){L=c=r;try{if(y=L.stateNode,x)S=y.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{N=L.stateNode;var tt=L.memoizedProps.style,G=tt!=null&&tt.hasOwnProperty("display")?tt.display:null;N.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(ct){$t(L,L.return,ct)}}}else if(r.tag===6){if(c===null){L=r;try{L.stateNode.nodeValue=x?"":L.memoizedProps}catch(ct){$t(L,L.return,ct)}}}else if(r.tag===18){if(c===null){L=r;try{var K=L.stateNode;x?Db(K,!0):Db(L.stateNode,!1)}catch(ct){$t(L,L.return,ct)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break t;for(;r.sibling===null;){if(r.return===null||r.return===n)break t;c===r&&(c=null),r=r.return}c===r&&(c=null),r.sibling.return=r.return,r=r.sibling}h&4&&(h=n.updateQueue,h!==null&&(c=h.retryQueue,c!==null&&(h.retryQueue=null,Hc(n,c))));break;case 19:ui(r,n),di(n),h&4&&(h=n.updateQueue,h!==null&&(n.updateQueue=null,Hc(n,h)));break;case 30:break;case 21:break;default:ui(r,n),di(n)}}function di(n){var r=n.flags;if(r&2){try{for(var c,h=n.return;h!==null;){if(Oy(h)){c=h;break}h=h.return}if(c==null)throw Error(i(160));switch(c.tag){case 27:var x=c.stateNode,y=df(n);Uc(n,y,x);break;case 5:var S=c.stateNode;c.flags&32&&(Fa(S,""),c.flags&=-33);var N=df(n);Uc(n,N,S);break;case 3:case 4:var L=c.stateNode.containerInfo,H=df(n);hf(n,H,L);break;default:throw Error(i(161))}}catch(Q){$t(n,n.return,Q)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function Vy(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;Vy(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function In(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)By(n,r.alternate,r),r=r.sibling}function oa(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:vs(4,r,r.return),oa(r);break;case 1:un(r,r.return);var c=r.stateNode;typeof c.componentWillUnmount=="function"&&Dy(r,r.return,c),oa(r);break;case 27:qo(r.stateNode);case 26:case 5:un(r,r.return),oa(r);break;case 22:r.memoizedState===null&&oa(r);break;case 30:oa(r);break;default:oa(r)}n=n.sibling}}function Un(n,r,c){for(c=c&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var h=r.alternate,x=n,y=r,S=y.flags;switch(y.tag){case 0:case 11:case 15:Un(x,y,c),Oo(4,y);break;case 1:if(Un(x,y,c),h=y,x=h.stateNode,typeof x.componentDidMount=="function")try{x.componentDidMount()}catch(H){$t(h,h.return,H)}if(h=y,x=h.updateQueue,x!==null){var N=h.stateNode;try{var L=x.shared.hiddenCallbacks;if(L!==null)for(x.shared.hiddenCallbacks=null,x=0;x<L.length;x++)vx(L[x],N)}catch(H){$t(h,h.return,H)}}c&&S&64&&My(y),Lo(y,y.return);break;case 27:Ly(y);case 26:case 5:Un(x,y,c),c&&h===null&&S&4&&Ry(y),Lo(y,y.return);break;case 12:Un(x,y,c);break;case 31:Un(x,y,c),c&&S&4&&Iy(x,y);break;case 13:Un(x,y,c),c&&S&4&&Uy(x,y);break;case 22:y.memoizedState===null&&Un(x,y,c),Lo(y,y.return);break;case 30:break;default:Un(x,y,c)}r=r.sibling}}function pf(n,r){var c=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(c=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==c&&(n!=null&&n.refCount++,c!=null&&wo(c))}function mf(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&wo(n))}function tn(n,r,c,h){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)qy(n,r,c,h),r=r.sibling}function qy(n,r,c,h){var x=r.flags;switch(r.tag){case 0:case 11:case 15:tn(n,r,c,h),x&2048&&Oo(9,r);break;case 1:tn(n,r,c,h);break;case 3:tn(n,r,c,h),x&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&wo(n)));break;case 12:if(x&2048){tn(n,r,c,h),n=r.stateNode;try{var y=r.memoizedProps,S=y.id,N=y.onPostCommit;typeof N=="function"&&N(S,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(L){$t(r,r.return,L)}}else tn(n,r,c,h);break;case 31:tn(n,r,c,h);break;case 13:tn(n,r,c,h);break;case 23:break;case 22:y=r.stateNode,S=r.alternate,r.memoizedState!==null?y._visibility&2?tn(n,r,c,h):Po(n,r):y._visibility&2?tn(n,r,c,h):(y._visibility|=2,ar(n,r,c,h,(r.subtreeFlags&10256)!==0||!1)),x&2048&&pf(S,r);break;case 24:tn(n,r,c,h),x&2048&&mf(r.alternate,r);break;default:tn(n,r,c,h)}}function ar(n,r,c,h,x){for(x=x&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var y=n,S=r,N=c,L=h,H=S.flags;switch(S.tag){case 0:case 11:case 15:ar(y,S,N,L,x),Oo(8,S);break;case 23:break;case 22:var Q=S.stateNode;S.memoizedState!==null?Q._visibility&2?ar(y,S,N,L,x):Po(y,S):(Q._visibility|=2,ar(y,S,N,L,x)),x&&H&2048&&pf(S.alternate,S);break;case 24:ar(y,S,N,L,x),x&&H&2048&&mf(S.alternate,S);break;default:ar(y,S,N,L,x)}r=r.sibling}}function Po(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var c=n,h=r,x=h.flags;switch(h.tag){case 22:Po(c,h),x&2048&&pf(h.alternate,h);break;case 24:Po(c,h),x&2048&&mf(h.alternate,h);break;default:Po(c,h)}r=r.sibling}}var Bo=8192;function rr(n,r,c){if(n.subtreeFlags&Bo)for(n=n.child;n!==null;)Gy(n,r,c),n=n.sibling}function Gy(n,r,c){switch(n.tag){case 26:rr(n,r,c),n.flags&Bo&&n.memoizedState!==null&&_C(c,Ji,n.memoizedState,n.memoizedProps);break;case 5:rr(n,r,c);break;case 3:case 4:var h=Ji;Ji=iu(n.stateNode.containerInfo),rr(n,r,c),Ji=h;break;case 22:n.memoizedState===null&&(h=n.alternate,h!==null&&h.memoizedState!==null?(h=Bo,Bo=16777216,rr(n,r,c),Bo=h):rr(n,r,c));break;default:rr(n,r,c)}}function $y(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function zo(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var c=0;c<r.length;c++){var h=r[c];Be=h,Yy(h,n)}$y(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Xy(n),n=n.sibling}function Xy(n){switch(n.tag){case 0:case 11:case 15:zo(n),n.flags&2048&&vs(9,n,n.return);break;case 3:zo(n);break;case 12:zo(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&2&&(n.return===null||n.return.tag!==13)?(r._visibility&=-3,Vc(n)):zo(n);break;default:zo(n)}}function Vc(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var c=0;c<r.length;c++){var h=r[c];Be=h,Yy(h,n)}$y(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:vs(8,r,r.return),Vc(r);break;case 22:c=r.stateNode,c._visibility&2&&(c._visibility&=-3,Vc(r));break;default:Vc(r)}n=n.sibling}}function Yy(n,r){for(;Be!==null;){var c=Be;switch(c.tag){case 0:case 11:case 15:vs(8,c,r);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var h=c.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:wo(c.memoizedState.cache)}if(h=c.child,h!==null)h.return=c,Be=h;else t:for(c=n;Be!==null;){h=Be;var x=h.sibling,y=h.return;if(zy(h),h===c){Be=null;break t}if(x!==null){x.return=y,Be=x;break t}Be=y}}}var HT={getCacheForType:function(n){var r=Ve(Te),c=r.data.get(n);return c===void 0&&(c=n(),r.data.set(n,c)),c},cacheSignal:function(){return Ve(Te).controller.signal}},VT=typeof WeakMap=="function"?WeakMap:Map,Ft=0,Zt=null,jt=null,Dt=0,Gt=0,Ti=null,ws=!1,or=!1,gf=!1,Hn=0,xe=0,As=0,la=0,xf=0,Ci=0,lr=0,Fo=null,hi=null,yf=!1,qc=0,Ky=0,Gc=1/0,$c=null,Ss=null,De=0,Es=null,cr=null,Vn=0,bf=0,vf=null,Wy=null,Io=0,wf=null;function _i(){return(Ft&2)!==0&&Dt!==0?Dt&-Dt:z.T!==null?_f():h0()}function Qy(){if(Ci===0)if((Dt&536870912)===0||Ot){var n=tc;tc<<=1,(tc&3932160)===0&&(tc=262144),Ci=n}else Ci=536870912;return n=Si.current,n!==null&&(n.flags|=32),Ci}function fi(n,r,c){(n===Zt&&(Gt===2||Gt===9)||n.cancelPendingCommit!==null)&&(ur(n,0),Ts(n,Dt,Ci,!1)),ro(n,c),((Ft&2)===0||n!==Zt)&&(n===Zt&&((Ft&2)===0&&(la|=c),xe===4&&Ts(n,Dt,Ci,!1)),dn(n))}function Zy(n,r,c){if((Ft&6)!==0)throw Error(i(327));var h=!c&&(r&127)===0&&(r&n.expiredLanes)===0||ao(n,r),x=h?$T(n,r):Sf(n,r,!0),y=h;do{if(x===0){or&&!h&&Ts(n,r,0,!1);break}else{if(c=n.current.alternate,y&&!qT(c)){x=Sf(n,r,!1),y=!1;continue}if(x===2){if(y=r,n.errorRecoveryDisabledLanes&y)var S=0;else S=n.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){r=S;t:{var N=n;x=Fo;var L=N.current.memoizedState.isDehydrated;if(L&&(ur(N,S).flags|=256),S=Sf(N,S,!1),S!==2){if(gf&&!L){N.errorRecoveryDisabledLanes|=y,la|=y,x=4;break t}y=hi,hi=x,y!==null&&(hi===null?hi=y:hi.push.apply(hi,y))}x=S}if(y=!1,x!==2)continue}}if(x===1){ur(n,0),Ts(n,r,0,!0);break}t:{switch(h=n,y=x,y){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:Ts(h,r,Ci,!ws);break t;case 2:hi=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(x=qc+300-st(),10<x)){if(Ts(h,r,Ci,!ws),ic(h,0,!0)!==0)break t;Vn=r,h.timeoutHandle=kb(Jy.bind(null,h,c,hi,$c,yf,r,Ci,la,lr,ws,y,"Throttled",-0,0),x);break t}Jy(h,c,hi,$c,yf,r,Ci,la,lr,ws,y,null,-0,0)}}break}while(!0);dn(n)}function Jy(n,r,c,h,x,y,S,N,L,H,Q,tt,G,K){if(n.timeoutHandle=-1,tt=r.subtreeFlags,tt&8192||(tt&16785408)===16785408){tt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Nn},Gy(r,y,tt);var ct=(y&62914560)===y?qc-st():(y&4194048)===y?Ky-st():0;if(ct=NC(tt,ct),ct!==null){Vn=y,n.cancelPendingCommit=ct(ob.bind(null,n,r,y,c,h,x,S,N,L,Q,tt,null,G,K)),Ts(n,y,S,!H);return}}ob(n,r,y,c,h,x,S,N,L)}function qT(n){for(var r=n;;){var c=r.tag;if((c===0||c===11||c===15)&&r.flags&16384&&(c=r.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var h=0;h<c.length;h++){var x=c[h],y=x.getSnapshot;x=x.value;try{if(!wi(y(),x))return!1}catch{return!1}}if(c=r.child,r.subtreeFlags&16384&&c!==null)c.return=r,r=c;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Ts(n,r,c,h){r&=~xf,r&=~la,n.suspendedLanes|=r,n.pingedLanes&=~r,h&&(n.warmLanes|=r),h=n.expirationTimes;for(var x=r;0<x;){var y=31-Ie(x),S=1<<y;h[y]=-1,x&=~S}c!==0&&c0(n,c,r)}function Xc(){return(Ft&6)===0?(Uo(0),!1):!0}function Af(){if(jt!==null){if(Gt===0)var n=jt.return;else n=jt,Dn=Js=null,Bh(n),tr=null,So=0,n=jt;for(;n!==null;)jy(n.alternate,n),n=n.return;jt=null}}function ur(n,r){var c=n.timeoutHandle;c!==-1&&(n.timeoutHandle=-1,uC(c)),c=n.cancelPendingCommit,c!==null&&(n.cancelPendingCommit=null,c()),Vn=0,Af(),Zt=n,jt=c=jn(n.current,null),Dt=r,Gt=0,Ti=null,ws=!1,or=ao(n,r),gf=!1,lr=Ci=xf=la=As=xe=0,hi=Fo=null,yf=!1,(r&8)!==0&&(r|=r&32);var h=n.entangledLanes;if(h!==0)for(n=n.entanglements,h&=r;0<h;){var x=31-Ie(h),y=1<<x;r|=n[x],h&=~y}return Hn=r,pc(),c}function tb(n,r){_t=null,z.H=Mo,r===Ja||r===Ac?(r=gx(),Gt=3):r===Th?(r=gx(),Gt=4):Gt=r===Jh?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Ti=r,jt===null&&(xe=1,Pc(n,Pi(r,n.current)))}function eb(){var n=Si.current;return n===null?!0:(Dt&4194048)===Dt?Ii===null:(Dt&62914560)===Dt||(Dt&536870912)!==0?n===Ii:!1}function ib(){var n=z.H;return z.H=Mo,n===null?Mo:n}function nb(){var n=z.A;return z.A=HT,n}function Yc(){xe=4,ws||(Dt&4194048)!==Dt&&Si.current!==null||(or=!0),(As&134217727)===0&&(la&134217727)===0||Zt===null||Ts(Zt,Dt,Ci,!1)}function Sf(n,r,c){var h=Ft;Ft|=2;var x=ib(),y=nb();(Zt!==n||Dt!==r)&&($c=null,ur(n,r)),r=!1;var S=xe;t:do try{if(Gt!==0&&jt!==null){var N=jt,L=Ti;switch(Gt){case 8:Af(),S=6;break t;case 3:case 2:case 9:case 6:Si.current===null&&(r=!0);var H=Gt;if(Gt=0,Ti=null,dr(n,N,L,H),c&&or){S=0;break t}break;default:H=Gt,Gt=0,Ti=null,dr(n,N,L,H)}}GT(),S=xe;break}catch(Q){tb(n,Q)}while(!0);return r&&n.shellSuspendCounter++,Dn=Js=null,Ft=h,z.H=x,z.A=y,jt===null&&(Zt=null,Dt=0,pc()),S}function GT(){for(;jt!==null;)sb(jt)}function $T(n,r){var c=Ft;Ft|=2;var h=ib(),x=nb();Zt!==n||Dt!==r?($c=null,Gc=st()+500,ur(n,r)):or=ao(n,r);t:do try{if(Gt!==0&&jt!==null){r=jt;var y=Ti;e:switch(Gt){case 1:Gt=0,Ti=null,dr(n,r,y,1);break;case 2:case 9:if(px(y)){Gt=0,Ti=null,ab(r);break}r=function(){Gt!==2&&Gt!==9||Zt!==n||(Gt=7),dn(n)},y.then(r,r);break t;case 3:Gt=7;break t;case 4:Gt=5;break t;case 7:px(y)?(Gt=0,Ti=null,ab(r)):(Gt=0,Ti=null,dr(n,r,y,7));break;case 5:var S=null;switch(jt.tag){case 26:S=jt.memoizedState;case 5:case 27:var N=jt;if(S?qb(S):N.stateNode.complete){Gt=0,Ti=null;var L=N.sibling;if(L!==null)jt=L;else{var H=N.return;H!==null?(jt=H,Kc(H)):jt=null}break e}}Gt=0,Ti=null,dr(n,r,y,5);break;case 6:Gt=0,Ti=null,dr(n,r,y,6);break;case 8:Af(),xe=6;break t;default:throw Error(i(462))}}XT();break}catch(Q){tb(n,Q)}while(!0);return Dn=Js=null,z.H=h,z.A=x,Ft=c,jt!==null?0:(Zt=null,Dt=0,pc(),xe)}function XT(){for(;jt!==null&&!Ld();)sb(jt)}function sb(n){var r=Ny(n.alternate,n,Hn);n.memoizedProps=n.pendingProps,r===null?Kc(n):jt=r}function ab(n){var r=n,c=r.alternate;switch(r.tag){case 15:case 0:r=Ay(c,r,r.pendingProps,r.type,void 0,Dt);break;case 11:r=Ay(c,r,r.pendingProps,r.type.render,r.ref,Dt);break;case 5:Bh(r);default:jy(c,r),r=jt=nx(r,Hn),r=Ny(c,r,Hn)}n.memoizedProps=n.pendingProps,r===null?Kc(n):jt=r}function dr(n,r,c,h){Dn=Js=null,Bh(r),tr=null,So=0;var x=r.return;try{if(LT(n,x,r,c,Dt)){xe=1,Pc(n,Pi(c,n.current)),jt=null;return}}catch(y){if(x!==null)throw jt=x,y;xe=1,Pc(n,Pi(c,n.current)),jt=null;return}r.flags&32768?(Ot||h===1?n=!0:or||(Dt&536870912)!==0?n=!1:(ws=n=!0,(h===2||h===9||h===3||h===6)&&(h=Si.current,h!==null&&h.tag===13&&(h.flags|=16384))),rb(r,n)):Kc(r)}function Kc(n){var r=n;do{if((r.flags&32768)!==0){rb(r,ws);return}n=r.return;var c=zT(r.alternate,r,Hn);if(c!==null){jt=c;return}if(r=r.sibling,r!==null){jt=r;return}jt=r=n}while(r!==null);xe===0&&(xe=5)}function rb(n,r){do{var c=FT(n.alternate,n);if(c!==null){c.flags&=32767,jt=c;return}if(c=n.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!r&&(n=n.sibling,n!==null)){jt=n;return}jt=n=c}while(n!==null);xe=6,jt=null}function ob(n,r,c,h,x,y,S,N,L){n.cancelPendingCommit=null;do Wc();while(De!==0);if((Ft&6)!==0)throw Error(i(327));if(r!==null){if(r===n.current)throw Error(i(177));if(y=r.lanes|r.childLanes,y|=uh,CE(n,c,y,S,N,L),n===Zt&&(jt=Zt=null,Dt=0),cr=r,Es=n,Vn=c,bf=y,vf=x,Wy=h,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,QT(Oe,function(){return hb(),null})):(n.callbackNode=null,n.callbackPriority=0),h=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||h){h=z.T,z.T=null,x=q.p,q.p=2,S=Ft,Ft|=4;try{IT(n,r,c)}finally{Ft=S,q.p=x,z.T=h}}De=1,lb(),cb(),ub()}}function lb(){if(De===1){De=0;var n=Es,r=cr,c=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||c){c=z.T,z.T=null;var h=q.p;q.p=2;var x=Ft;Ft|=4;try{Hy(r,n);var y=Lf,S=Y0(n.containerInfo),N=y.focusedElem,L=y.selectionRange;if(S!==N&&N&&N.ownerDocument&&X0(N.ownerDocument.documentElement,N)){if(L!==null&&ah(N)){var H=L.start,Q=L.end;if(Q===void 0&&(Q=H),"selectionStart"in N)N.selectionStart=H,N.selectionEnd=Math.min(Q,N.value.length);else{var tt=N.ownerDocument||document,G=tt&&tt.defaultView||window;if(G.getSelection){var K=G.getSelection(),ct=N.textContent.length,vt=Math.min(L.start,ct),Wt=L.end===void 0?vt:Math.min(L.end,ct);!K.extend&&vt>Wt&&(S=Wt,Wt=vt,vt=S);var F=$0(N,vt),B=$0(N,Wt);if(F&&B&&(K.rangeCount!==1||K.anchorNode!==F.node||K.anchorOffset!==F.offset||K.focusNode!==B.node||K.focusOffset!==B.offset)){var U=tt.createRange();U.setStart(F.node,F.offset),K.removeAllRanges(),vt>Wt?(K.addRange(U),K.extend(B.node,B.offset)):(U.setEnd(B.node,B.offset),K.addRange(U))}}}}for(tt=[],K=N;K=K.parentNode;)K.nodeType===1&&tt.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof N.focus=="function"&&N.focus(),N=0;N<tt.length;N++){var Z=tt[N];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}lu=!!Of,Lf=Of=null}finally{Ft=x,q.p=h,z.T=c}}n.current=r,De=2}}function cb(){if(De===2){De=0;var n=Es,r=cr,c=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||c){c=z.T,z.T=null;var h=q.p;q.p=2;var x=Ft;Ft|=4;try{By(n,r.alternate,r)}finally{Ft=x,q.p=h,z.T=c}}De=3}}function ub(){if(De===4||De===3){De=0,Pd();var n=Es,r=cr,c=Vn,h=Wy;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?De=5:(De=0,cr=Es=null,db(n,n.pendingLanes));var x=n.pendingLanes;if(x===0&&(Ss=null),Id(c),r=r.stateNode,Le&&typeof Le.onCommitFiberRoot=="function")try{Le.onCommitFiberRoot(Cn,r,void 0,(r.current.flags&128)===128)}catch{}if(h!==null){r=z.T,x=q.p,q.p=2,z.T=null;try{for(var y=n.onRecoverableError,S=0;S<h.length;S++){var N=h[S];y(N.value,{componentStack:N.stack})}}finally{z.T=r,q.p=x}}(Vn&3)!==0&&Wc(),dn(n),x=n.pendingLanes,(c&261930)!==0&&(x&42)!==0?n===wf?Io++:(Io=0,wf=n):Io=0,Uo(0)}}function db(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,wo(r)))}function Wc(){return lb(),cb(),ub(),hb()}function hb(){if(De!==5)return!1;var n=Es,r=bf;bf=0;var c=Id(Vn),h=z.T,x=q.p;try{q.p=32>c?32:c,z.T=null,c=vf,vf=null;var y=Es,S=Vn;if(De=0,cr=Es=null,Vn=0,(Ft&6)!==0)throw Error(i(331));var N=Ft;if(Ft|=4,Xy(y.current),qy(y,y.current,S,c),Ft=N,Uo(0,!1),Le&&typeof Le.onPostCommitFiberRoot=="function")try{Le.onPostCommitFiberRoot(Cn,y)}catch{}return!0}finally{q.p=x,z.T=h,db(n,r)}}function fb(n,r,c){r=Pi(c,r),r=Zh(n.stateNode,r,2),n=xs(n,r,2),n!==null&&(ro(n,2),dn(n))}function $t(n,r,c){if(n.tag===3)fb(n,n,c);else for(;r!==null;){if(r.tag===3){fb(r,n,c);break}else if(r.tag===1){var h=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Ss===null||!Ss.has(h))){n=Pi(c,n),c=py(2),h=xs(r,c,2),h!==null&&(my(c,h,r,n),ro(h,2),dn(h));break}}r=r.return}}function Ef(n,r,c){var h=n.pingCache;if(h===null){h=n.pingCache=new VT;var x=new Set;h.set(r,x)}else x=h.get(r),x===void 0&&(x=new Set,h.set(r,x));x.has(c)||(gf=!0,x.add(c),n=YT.bind(null,n,r,c),r.then(n,n))}function YT(n,r,c){var h=n.pingCache;h!==null&&h.delete(r),n.pingedLanes|=n.suspendedLanes&c,n.warmLanes&=~c,Zt===n&&(Dt&c)===c&&(xe===4||xe===3&&(Dt&62914560)===Dt&&300>st()-qc?(Ft&2)===0&&ur(n,0):xf|=c,lr===Dt&&(lr=0)),dn(n)}function pb(n,r){r===0&&(r=l0()),n=Ws(n,r),n!==null&&(ro(n,r),dn(n))}function KT(n){var r=n.memoizedState,c=0;r!==null&&(c=r.retryLane),pb(n,c)}function WT(n,r){var c=0;switch(n.tag){case 31:case 13:var h=n.stateNode,x=n.memoizedState;x!==null&&(c=x.retryLane);break;case 19:h=n.stateNode;break;case 22:h=n.stateNode._retryCache;break;default:throw Error(i(314))}h!==null&&h.delete(r),pb(n,c)}function QT(n,r){return ls(n,r)}var Qc=null,hr=null,Tf=!1,Zc=!1,Cf=!1,Cs=0;function dn(n){n!==hr&&n.next===null&&(hr===null?Qc=hr=n:hr=hr.next=n),Zc=!0,Tf||(Tf=!0,JT())}function Uo(n,r){if(!Cf&&Zc){Cf=!0;do for(var c=!1,h=Qc;h!==null;){if(n!==0){var x=h.pendingLanes;if(x===0)var y=0;else{var S=h.suspendedLanes,N=h.pingedLanes;y=(1<<31-Ie(42|n)+1)-1,y&=x&~(S&~N),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(c=!0,yb(h,y))}else y=Dt,y=ic(h,h===Zt?y:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(y&3)===0||ao(h,y)||(c=!0,yb(h,y));h=h.next}while(c);Cf=!1}}function ZT(){mb()}function mb(){Zc=Tf=!1;var n=0;Cs!==0&&cC()&&(n=Cs);for(var r=st(),c=null,h=Qc;h!==null;){var x=h.next,y=gb(h,r);y===0?(h.next=null,c===null?Qc=x:c.next=x,x===null&&(hr=c)):(c=h,(n!==0||(y&3)!==0)&&(Zc=!0)),h=x}De!==0&&De!==5||Uo(n),Cs!==0&&(Cs=0)}function gb(n,r){for(var c=n.suspendedLanes,h=n.pingedLanes,x=n.expirationTimes,y=n.pendingLanes&-62914561;0<y;){var S=31-Ie(y),N=1<<S,L=x[S];L===-1?((N&c)===0||(N&h)!==0)&&(x[S]=TE(N,r)):L<=r&&(n.expiredLanes|=N),y&=~N}if(r=Zt,c=Dt,c=ic(n,n===r?c:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),h=n.callbackNode,c===0||n===r&&(Gt===2||Gt===9)||n.cancelPendingCommit!==null)return h!==null&&h!==null&&to(h),n.callbackNode=null,n.callbackPriority=0;if((c&3)===0||ao(n,c)){if(r=c&-c,r===n.callbackPriority)return r;switch(h!==null&&to(h),Id(c)){case 2:case 8:c=we;break;case 32:c=Oe;break;case 268435456:c=Tn;break;default:c=Oe}return h=xb.bind(null,n),c=ls(c,h),n.callbackPriority=r,n.callbackNode=c,r}return h!==null&&h!==null&&to(h),n.callbackPriority=2,n.callbackNode=null,2}function xb(n,r){if(De!==0&&De!==5)return n.callbackNode=null,n.callbackPriority=0,null;var c=n.callbackNode;if(Wc()&&n.callbackNode!==c)return null;var h=Dt;return h=ic(n,n===Zt?h:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),h===0?null:(Zy(n,h,r),gb(n,st()),n.callbackNode!=null&&n.callbackNode===c?xb.bind(null,n):null)}function yb(n,r){if(Wc())return null;Zy(n,r,!0)}function JT(){dC(function(){(Ft&6)!==0?ls(ue,ZT):mb()})}function _f(){if(Cs===0){var n=Qa;n===0&&(n=Jl,Jl<<=1,(Jl&261888)===0&&(Jl=256)),Cs=n}return Cs}function bb(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:rc(""+n)}function vb(n,r){var c=r.ownerDocument.createElement("input");return c.name=r.name,c.value=r.value,n.id&&c.setAttribute("form",n.id),r.parentNode.insertBefore(c,r),n=new FormData(n),c.parentNode.removeChild(c),n}function tC(n,r,c,h,x){if(r==="submit"&&c&&c.stateNode===x){var y=bb((x[oi]||null).action),S=h.submitter;S&&(r=(r=S[oi]||null)?bb(r.formAction):S.getAttribute("formAction"),r!==null&&(y=r,S=null));var N=new uc("action","action",null,h,x);n.push({event:N,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(Cs!==0){var L=S?vb(x,S):new FormData(x);$h(c,{pending:!0,data:L,method:x.method,action:y},null,L)}}else typeof y=="function"&&(N.preventDefault(),L=S?vb(x,S):new FormData(x),$h(c,{pending:!0,data:L,method:x.method,action:y},y,L))},currentTarget:x}]})}}for(var Nf=0;Nf<ch.length;Nf++){var kf=ch[Nf],eC=kf.toLowerCase(),iC=kf[0].toUpperCase()+kf.slice(1);Zi(eC,"on"+iC)}Zi(Q0,"onAnimationEnd"),Zi(Z0,"onAnimationIteration"),Zi(J0,"onAnimationStart"),Zi("dblclick","onDoubleClick"),Zi("focusin","onFocus"),Zi("focusout","onBlur"),Zi(yT,"onTransitionRun"),Zi(bT,"onTransitionStart"),Zi(vT,"onTransitionCancel"),Zi(tx,"onTransitionEnd"),Ba("onMouseEnter",["mouseout","mouseover"]),Ba("onMouseLeave",["mouseout","mouseover"]),Ba("onPointerEnter",["pointerout","pointerover"]),Ba("onPointerLeave",["pointerout","pointerover"]),$s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),$s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),$s("onBeforeInput",["compositionend","keypress","textInput","paste"]),$s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),$s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),$s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ho="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ho));function wb(n,r){r=(r&4)!==0;for(var c=0;c<n.length;c++){var h=n[c],x=h.event;h=h.listeners;t:{var y=void 0;if(r)for(var S=h.length-1;0<=S;S--){var N=h[S],L=N.instance,H=N.currentTarget;if(N=N.listener,L!==y&&x.isPropagationStopped())break t;y=N,x.currentTarget=H;try{y(x)}catch(Q){fc(Q)}x.currentTarget=null,y=L}else for(S=0;S<h.length;S++){if(N=h[S],L=N.instance,H=N.currentTarget,N=N.listener,L!==y&&x.isPropagationStopped())break t;y=N,x.currentTarget=H;try{y(x)}catch(Q){fc(Q)}x.currentTarget=null,y=L}}}}function Mt(n,r){var c=r[Ud];c===void 0&&(c=r[Ud]=new Set);var h=n+"__bubble";c.has(h)||(Ab(r,n,2,!1),c.add(h))}function jf(n,r,c){var h=0;r&&(h|=4),Ab(c,n,h,r)}var Jc="_reactListening"+Math.random().toString(36).slice(2);function Mf(n){if(!n[Jc]){n[Jc]=!0,m0.forEach(function(c){c!=="selectionchange"&&(nC.has(c)||jf(c,!1,n),jf(c,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[Jc]||(r[Jc]=!0,jf("selectionchange",!1,r))}}function Ab(n,r,c,h){switch(Qb(r)){case 2:var x=MC;break;case 8:x=DC;break;default:x=$f}c=x.bind(null,r,c,n),x=void 0,!Wd||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(x=!0),h?x!==void 0?n.addEventListener(r,c,{capture:!0,passive:x}):n.addEventListener(r,c,!0):x!==void 0?n.addEventListener(r,c,{passive:x}):n.addEventListener(r,c,!1)}function Df(n,r,c,h,x){var y=h;if((r&1)===0&&(r&2)===0&&h!==null)t:for(;;){if(h===null)return;var S=h.tag;if(S===3||S===4){var N=h.stateNode.containerInfo;if(N===x)break;if(S===4)for(S=h.return;S!==null;){var L=S.tag;if((L===3||L===4)&&S.stateNode.containerInfo===x)return;S=S.return}for(;N!==null;){if(S=Oa(N),S===null)return;if(L=S.tag,L===5||L===6||L===26||L===27){h=y=S;continue t}N=N.parentNode}}h=h.return}_0(function(){var H=y,Q=Yd(c),tt=[];t:{var G=ex.get(n);if(G!==void 0){var K=uc,ct=n;switch(n){case"keypress":if(lc(c)===0)break t;case"keydown":case"keyup":K=WE;break;case"focusin":ct="focus",K=th;break;case"focusout":ct="blur",K=th;break;case"beforeblur":case"afterblur":K=th;break;case"click":if(c.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=j0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=zE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=JE;break;case Q0:case Z0:case J0:K=UE;break;case tx:K=eT;break;case"scroll":case"scrollend":K=PE;break;case"wheel":K=nT;break;case"copy":case"cut":case"paste":K=VE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=D0;break;case"toggle":case"beforetoggle":K=aT}var vt=(r&4)!==0,Wt=!vt&&(n==="scroll"||n==="scrollend"),F=vt?G!==null?G+"Capture":null:G;vt=[];for(var B=H,U;B!==null;){var Z=B;if(U=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||U===null||F===null||(Z=co(B,F),Z!=null&&vt.push(Vo(B,Z,U))),Wt)break;B=B.return}0<vt.length&&(G=new K(G,ct,null,c,Q),tt.push({event:G,listeners:vt}))}}if((r&7)===0){t:{if(G=n==="mouseover"||n==="pointerover",K=n==="mouseout"||n==="pointerout",G&&c!==Xd&&(ct=c.relatedTarget||c.fromElement)&&(Oa(ct)||ct[Ra]))break t;if((K||G)&&(G=Q.window===Q?Q:(G=Q.ownerDocument)?G.defaultView||G.parentWindow:window,K?(ct=c.relatedTarget||c.toElement,K=H,ct=ct?Oa(ct):null,ct!==null&&(Wt=o(ct),vt=ct.tag,ct!==Wt||vt!==5&&vt!==27&&vt!==6)&&(ct=null)):(K=null,ct=H),K!==ct)){if(vt=j0,Z="onMouseLeave",F="onMouseEnter",B="mouse",(n==="pointerout"||n==="pointerover")&&(vt=D0,Z="onPointerLeave",F="onPointerEnter",B="pointer"),Wt=K==null?G:lo(K),U=ct==null?G:lo(ct),G=new vt(Z,B+"leave",K,c,Q),G.target=Wt,G.relatedTarget=U,Z=null,Oa(Q)===H&&(vt=new vt(F,B+"enter",ct,c,Q),vt.target=U,vt.relatedTarget=Wt,Z=vt),Wt=Z,K&&ct)e:{for(vt=sC,F=K,B=ct,U=0,Z=F;Z;Z=vt(Z))U++;Z=0;for(var xt=B;xt;xt=vt(xt))Z++;for(;0<U-Z;)F=vt(F),U--;for(;0<Z-U;)B=vt(B),Z--;for(;U--;){if(F===B||B!==null&&F===B.alternate){vt=F;break e}F=vt(F),B=vt(B)}vt=null}else vt=null;K!==null&&Sb(tt,G,K,vt,!1),ct!==null&&Wt!==null&&Sb(tt,Wt,ct,vt,!0)}}t:{if(G=H?lo(H):window,K=G.nodeName&&G.nodeName.toLowerCase(),K==="select"||K==="input"&&G.type==="file")var Bt=I0;else if(z0(G))if(U0)Bt=mT;else{Bt=fT;var ht=hT}else K=G.nodeName,!K||K.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?H&&$d(H.elementType)&&(Bt=I0):Bt=pT;if(Bt&&(Bt=Bt(n,H))){F0(tt,Bt,c,Q);break t}ht&&ht(n,G,H),n==="focusout"&&H&&G.type==="number"&&H.memoizedProps.value!=null&&Gd(G,"number",G.value)}switch(ht=H?lo(H):window,n){case"focusin":(z0(ht)||ht.contentEditable==="true")&&(Va=ht,rh=H,yo=null);break;case"focusout":yo=rh=Va=null;break;case"mousedown":oh=!0;break;case"contextmenu":case"mouseup":case"dragend":oh=!1,K0(tt,c,Q);break;case"selectionchange":if(xT)break;case"keydown":case"keyup":K0(tt,c,Q)}var kt;if(ih)t:{switch(n){case"compositionstart":var Rt="onCompositionStart";break t;case"compositionend":Rt="onCompositionEnd";break t;case"compositionupdate":Rt="onCompositionUpdate";break t}Rt=void 0}else Ha?P0(n,c)&&(Rt="onCompositionEnd"):n==="keydown"&&c.keyCode===229&&(Rt="onCompositionStart");Rt&&(R0&&c.locale!=="ko"&&(Ha||Rt!=="onCompositionStart"?Rt==="onCompositionEnd"&&Ha&&(kt=N0()):(us=Q,Qd="value"in us?us.value:us.textContent,Ha=!0)),ht=tu(H,Rt),0<ht.length&&(Rt=new M0(Rt,n,null,c,Q),tt.push({event:Rt,listeners:ht}),kt?Rt.data=kt:(kt=B0(c),kt!==null&&(Rt.data=kt)))),(kt=oT?lT(n,c):cT(n,c))&&(Rt=tu(H,"onBeforeInput"),0<Rt.length&&(ht=new M0("onBeforeInput","beforeinput",null,c,Q),tt.push({event:ht,listeners:Rt}),ht.data=kt)),tC(tt,n,H,c,Q)}wb(tt,r)})}function Vo(n,r,c){return{instance:n,listener:r,currentTarget:c}}function tu(n,r){for(var c=r+"Capture",h=[];n!==null;){var x=n,y=x.stateNode;if(x=x.tag,x!==5&&x!==26&&x!==27||y===null||(x=co(n,c),x!=null&&h.unshift(Vo(n,x,y)),x=co(n,r),x!=null&&h.push(Vo(n,x,y))),n.tag===3)return h;n=n.return}return[]}function sC(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Sb(n,r,c,h,x){for(var y=r._reactName,S=[];c!==null&&c!==h;){var N=c,L=N.alternate,H=N.stateNode;if(N=N.tag,L!==null&&L===h)break;N!==5&&N!==26&&N!==27||H===null||(L=H,x?(H=co(c,y),H!=null&&S.unshift(Vo(c,H,L))):x||(H=co(c,y),H!=null&&S.push(Vo(c,H,L)))),c=c.return}S.length!==0&&n.push({event:r,listeners:S})}var aC=/\r\n?/g,rC=/\u0000|\uFFFD/g;function Eb(n){return(typeof n=="string"?n:""+n).replace(aC,`
`).replace(rC,"")}function Tb(n,r){return r=Eb(r),Eb(n)===r}function Kt(n,r,c,h,x,y){switch(c){case"children":typeof h=="string"?r==="body"||r==="textarea"&&h===""||Fa(n,h):(typeof h=="number"||typeof h=="bigint")&&r!=="body"&&Fa(n,""+h);break;case"className":sc(n,"class",h);break;case"tabIndex":sc(n,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":sc(n,c,h);break;case"style":T0(n,h,y);break;case"data":if(r!=="object"){sc(n,"data",h);break}case"src":case"href":if(h===""&&(r!=="a"||c!=="href")){n.removeAttribute(c);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){n.removeAttribute(c);break}h=rc(""+h),n.setAttribute(c,h);break;case"action":case"formAction":if(typeof h=="function"){n.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(c==="formAction"?(r!=="input"&&Kt(n,r,"name",x.name,x,null),Kt(n,r,"formEncType",x.formEncType,x,null),Kt(n,r,"formMethod",x.formMethod,x,null),Kt(n,r,"formTarget",x.formTarget,x,null)):(Kt(n,r,"encType",x.encType,x,null),Kt(n,r,"method",x.method,x,null),Kt(n,r,"target",x.target,x,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){n.removeAttribute(c);break}h=rc(""+h),n.setAttribute(c,h);break;case"onClick":h!=null&&(n.onclick=Nn);break;case"onScroll":h!=null&&Mt("scroll",n);break;case"onScrollEnd":h!=null&&Mt("scrollend",n);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(i(61));if(c=h.__html,c!=null){if(x.children!=null)throw Error(i(60));n.innerHTML=c}}break;case"multiple":n.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":n.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){n.removeAttribute("xlink:href");break}c=rc(""+h),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?n.setAttribute(c,""+h):n.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?n.setAttribute(c,""):n.removeAttribute(c);break;case"capture":case"download":h===!0?n.setAttribute(c,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?n.setAttribute(c,h):n.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?n.setAttribute(c,h):n.removeAttribute(c);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?n.removeAttribute(c):n.setAttribute(c,h);break;case"popover":Mt("beforetoggle",n),Mt("toggle",n),nc(n,"popover",h);break;case"xlinkActuate":_n(n,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":_n(n,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":_n(n,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":_n(n,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":_n(n,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":_n(n,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":_n(n,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":_n(n,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":_n(n,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":nc(n,"is",h);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=OE.get(c)||c,nc(n,c,h))}}function Rf(n,r,c,h,x,y){switch(c){case"style":T0(n,h,y);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(i(61));if(c=h.__html,c!=null){if(x.children!=null)throw Error(i(60));n.innerHTML=c}}break;case"children":typeof h=="string"?Fa(n,h):(typeof h=="number"||typeof h=="bigint")&&Fa(n,""+h);break;case"onScroll":h!=null&&Mt("scroll",n);break;case"onScrollEnd":h!=null&&Mt("scrollend",n);break;case"onClick":h!=null&&(n.onclick=Nn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!g0.hasOwnProperty(c))t:{if(c[0]==="o"&&c[1]==="n"&&(x=c.endsWith("Capture"),r=c.slice(2,x?c.length-7:void 0),y=n[oi]||null,y=y!=null?y[c]:null,typeof y=="function"&&n.removeEventListener(r,y,x),typeof h=="function")){typeof y!="function"&&y!==null&&(c in n?n[c]=null:n.hasAttribute(c)&&n.removeAttribute(c)),n.addEventListener(r,h,x);break t}c in n?n[c]=h:h===!0?n.setAttribute(c,""):nc(n,c,h)}}}function Ge(n,r,c){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mt("error",n),Mt("load",n);var h=!1,x=!1,y;for(y in c)if(c.hasOwnProperty(y)){var S=c[y];if(S!=null)switch(y){case"src":h=!0;break;case"srcSet":x=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:Kt(n,r,y,S,c,null)}}x&&Kt(n,r,"srcSet",c.srcSet,c,null),h&&Kt(n,r,"src",c.src,c,null);return;case"input":Mt("invalid",n);var N=y=S=x=null,L=null,H=null;for(h in c)if(c.hasOwnProperty(h)){var Q=c[h];if(Q!=null)switch(h){case"name":x=Q;break;case"type":S=Q;break;case"checked":L=Q;break;case"defaultChecked":H=Q;break;case"value":y=Q;break;case"defaultValue":N=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(i(137,r));break;default:Kt(n,r,h,Q,c,null)}}w0(n,y,N,L,H,S,x,!1);return;case"select":Mt("invalid",n),h=S=y=null;for(x in c)if(c.hasOwnProperty(x)&&(N=c[x],N!=null))switch(x){case"value":y=N;break;case"defaultValue":S=N;break;case"multiple":h=N;default:Kt(n,r,x,N,c,null)}r=y,c=S,n.multiple=!!h,r!=null?za(n,!!h,r,!1):c!=null&&za(n,!!h,c,!0);return;case"textarea":Mt("invalid",n),y=x=h=null;for(S in c)if(c.hasOwnProperty(S)&&(N=c[S],N!=null))switch(S){case"value":h=N;break;case"defaultValue":x=N;break;case"children":y=N;break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(i(91));break;default:Kt(n,r,S,N,c,null)}S0(n,h,x,y);return;case"option":for(L in c)if(c.hasOwnProperty(L)&&(h=c[L],h!=null))switch(L){case"selected":n.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:Kt(n,r,L,h,c,null)}return;case"dialog":Mt("beforetoggle",n),Mt("toggle",n),Mt("cancel",n),Mt("close",n);break;case"iframe":case"object":Mt("load",n);break;case"video":case"audio":for(h=0;h<Ho.length;h++)Mt(Ho[h],n);break;case"image":Mt("error",n),Mt("load",n);break;case"details":Mt("toggle",n);break;case"embed":case"source":case"link":Mt("error",n),Mt("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in c)if(c.hasOwnProperty(H)&&(h=c[H],h!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:Kt(n,r,H,h,c,null)}return;default:if($d(r)){for(Q in c)c.hasOwnProperty(Q)&&(h=c[Q],h!==void 0&&Rf(n,r,Q,h,c,void 0));return}}for(N in c)c.hasOwnProperty(N)&&(h=c[N],h!=null&&Kt(n,r,N,h,c,null))}function oC(n,r,c,h){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var x=null,y=null,S=null,N=null,L=null,H=null,Q=null;for(K in c){var tt=c[K];if(c.hasOwnProperty(K)&&tt!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":L=tt;default:h.hasOwnProperty(K)||Kt(n,r,K,null,h,tt)}}for(var G in h){var K=h[G];if(tt=c[G],h.hasOwnProperty(G)&&(K!=null||tt!=null))switch(G){case"type":y=K;break;case"name":x=K;break;case"checked":H=K;break;case"defaultChecked":Q=K;break;case"value":S=K;break;case"defaultValue":N=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(i(137,r));break;default:K!==tt&&Kt(n,r,G,K,h,tt)}}qd(n,S,N,L,H,Q,y,x);return;case"select":K=S=N=G=null;for(y in c)if(L=c[y],c.hasOwnProperty(y)&&L!=null)switch(y){case"value":break;case"multiple":K=L;default:h.hasOwnProperty(y)||Kt(n,r,y,null,h,L)}for(x in h)if(y=h[x],L=c[x],h.hasOwnProperty(x)&&(y!=null||L!=null))switch(x){case"value":G=y;break;case"defaultValue":N=y;break;case"multiple":S=y;default:y!==L&&Kt(n,r,x,y,h,L)}r=N,c=S,h=K,G!=null?za(n,!!c,G,!1):!!h!=!!c&&(r!=null?za(n,!!c,r,!0):za(n,!!c,c?[]:"",!1));return;case"textarea":K=G=null;for(N in c)if(x=c[N],c.hasOwnProperty(N)&&x!=null&&!h.hasOwnProperty(N))switch(N){case"value":break;case"children":break;default:Kt(n,r,N,null,h,x)}for(S in h)if(x=h[S],y=c[S],h.hasOwnProperty(S)&&(x!=null||y!=null))switch(S){case"value":G=x;break;case"defaultValue":K=x;break;case"children":break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(i(91));break;default:x!==y&&Kt(n,r,S,x,h,y)}A0(n,G,K);return;case"option":for(var ct in c)if(G=c[ct],c.hasOwnProperty(ct)&&G!=null&&!h.hasOwnProperty(ct))switch(ct){case"selected":n.selected=!1;break;default:Kt(n,r,ct,null,h,G)}for(L in h)if(G=h[L],K=c[L],h.hasOwnProperty(L)&&G!==K&&(G!=null||K!=null))switch(L){case"selected":n.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:Kt(n,r,L,G,h,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var vt in c)G=c[vt],c.hasOwnProperty(vt)&&G!=null&&!h.hasOwnProperty(vt)&&Kt(n,r,vt,null,h,G);for(H in h)if(G=h[H],K=c[H],h.hasOwnProperty(H)&&G!==K&&(G!=null||K!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(i(137,r));break;default:Kt(n,r,H,G,h,K)}return;default:if($d(r)){for(var Wt in c)G=c[Wt],c.hasOwnProperty(Wt)&&G!==void 0&&!h.hasOwnProperty(Wt)&&Rf(n,r,Wt,void 0,h,G);for(Q in h)G=h[Q],K=c[Q],!h.hasOwnProperty(Q)||G===K||G===void 0&&K===void 0||Rf(n,r,Q,G,h,K);return}}for(var F in c)G=c[F],c.hasOwnProperty(F)&&G!=null&&!h.hasOwnProperty(F)&&Kt(n,r,F,null,h,G);for(tt in h)G=h[tt],K=c[tt],!h.hasOwnProperty(tt)||G===K||G==null&&K==null||Kt(n,r,tt,G,h,K)}function Cb(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function lC(){if(typeof performance.getEntriesByType=="function"){for(var n=0,r=0,c=performance.getEntriesByType("resource"),h=0;h<c.length;h++){var x=c[h],y=x.transferSize,S=x.initiatorType,N=x.duration;if(y&&N&&Cb(S)){for(S=0,N=x.responseEnd,h+=1;h<c.length;h++){var L=c[h],H=L.startTime;if(H>N)break;var Q=L.transferSize,tt=L.initiatorType;Q&&Cb(tt)&&(L=L.responseEnd,S+=Q*(L<N?1:(N-H)/(L-H)))}if(--h,r+=8*(y+S)/(x.duration/1e3),n++,10<n)break}}if(0<n)return r/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var Of=null,Lf=null;function eu(n){return n.nodeType===9?n:n.ownerDocument}function _b(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Nb(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function Pf(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Bf=null;function cC(){var n=window.event;return n&&n.type==="popstate"?n===Bf?!1:(Bf=n,!0):(Bf=null,!1)}var kb=typeof setTimeout=="function"?setTimeout:void 0,uC=typeof clearTimeout=="function"?clearTimeout:void 0,jb=typeof Promise=="function"?Promise:void 0,dC=typeof queueMicrotask=="function"?queueMicrotask:typeof jb<"u"?function(n){return jb.resolve(null).then(n).catch(hC)}:kb;function hC(n){setTimeout(function(){throw n})}function _s(n){return n==="head"}function Mb(n,r){var c=r,h=0;do{var x=c.nextSibling;if(n.removeChild(c),x&&x.nodeType===8)if(c=x.data,c==="/$"||c==="/&"){if(h===0){n.removeChild(x),gr(r);return}h--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")h++;else if(c==="html")qo(n.ownerDocument.documentElement);else if(c==="head"){c=n.ownerDocument.head,qo(c);for(var y=c.firstChild;y;){var S=y.nextSibling,N=y.nodeName;y[oo]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&y.rel.toLowerCase()==="stylesheet"||c.removeChild(y),y=S}}else c==="body"&&qo(n.ownerDocument.body);c=x}while(c);gr(r)}function Db(n,r){var c=n;n=0;do{var h=c.nextSibling;if(c.nodeType===1?r?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(r?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),h&&h.nodeType===8)if(c=h.data,c==="/$"){if(n===0)break;n--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||n++;c=h}while(c)}function zf(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var c=r;switch(r=r.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":zf(c),Hd(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}n.removeChild(c)}}function fC(n,r,c,h){for(;n.nodeType===1;){var x=c;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!h&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(h){if(!n[oo])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(y=n.getAttribute("rel"),y==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(y!==x.rel||n.getAttribute("href")!==(x.href==null||x.href===""?null:x.href)||n.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin)||n.getAttribute("title")!==(x.title==null?null:x.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(y=n.getAttribute("src"),(y!==(x.src==null?null:x.src)||n.getAttribute("type")!==(x.type==null?null:x.type)||n.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin))&&y&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var y=x.name==null?null:""+x.name;if(x.type==="hidden"&&n.getAttribute("name")===y)return n}else return n;if(n=Ui(n.nextSibling),n===null)break}return null}function pC(n,r,c){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!c||(n=Ui(n.nextSibling),n===null))return null;return n}function Rb(n,r){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!r||(n=Ui(n.nextSibling),n===null))return null;return n}function Ff(n){return n.data==="$?"||n.data==="$~"}function If(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function mC(n,r){var c=n.ownerDocument;if(n.data==="$~")n._reactRetry=r;else if(n.data!=="$?"||c.readyState!=="loading")r();else{var h=function(){r(),c.removeEventListener("DOMContentLoaded",h)};c.addEventListener("DOMContentLoaded",h),n._reactRetry=h}}function Ui(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return n}var Uf=null;function Ob(n){n=n.nextSibling;for(var r=0;n;){if(n.nodeType===8){var c=n.data;if(c==="/$"||c==="/&"){if(r===0)return Ui(n.nextSibling);r--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||r++}n=n.nextSibling}return null}function Lb(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var c=n.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(r===0)return n;r--}else c!=="/$"&&c!=="/&"||r++}n=n.previousSibling}return null}function Pb(n,r,c){switch(r=eu(c),n){case"html":if(n=r.documentElement,!n)throw Error(i(452));return n;case"head":if(n=r.head,!n)throw Error(i(453));return n;case"body":if(n=r.body,!n)throw Error(i(454));return n;default:throw Error(i(451))}}function qo(n){for(var r=n.attributes;r.length;)n.removeAttributeNode(r[0]);Hd(n)}var Hi=new Map,Bb=new Set;function iu(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var qn=q.d;q.d={f:gC,r:xC,D:yC,C:bC,L:vC,m:wC,X:SC,S:AC,M:EC};function gC(){var n=qn.f(),r=Xc();return n||r}function xC(n){var r=La(n);r!==null&&r.tag===5&&r.type==="form"?ty(r):qn.r(n)}var fr=typeof document>"u"?null:document;function zb(n,r,c){var h=fr;if(h&&typeof r=="string"&&r){var x=Oi(r);x='link[rel="'+n+'"][href="'+x+'"]',typeof c=="string"&&(x+='[crossorigin="'+c+'"]'),Bb.has(x)||(Bb.add(x),n={rel:n,crossOrigin:c,href:r},h.querySelector(x)===null&&(r=h.createElement("link"),Ge(r,"link",n),Pe(r),h.head.appendChild(r)))}}function yC(n){qn.D(n),zb("dns-prefetch",n,null)}function bC(n,r){qn.C(n,r),zb("preconnect",n,r)}function vC(n,r,c){qn.L(n,r,c);var h=fr;if(h&&n&&r){var x='link[rel="preload"][as="'+Oi(r)+'"]';r==="image"&&c&&c.imageSrcSet?(x+='[imagesrcset="'+Oi(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(x+='[imagesizes="'+Oi(c.imageSizes)+'"]')):x+='[href="'+Oi(n)+'"]';var y=x;switch(r){case"style":y=pr(n);break;case"script":y=mr(n)}Hi.has(y)||(n=g({rel:"preload",href:r==="image"&&c&&c.imageSrcSet?void 0:n,as:r},c),Hi.set(y,n),h.querySelector(x)!==null||r==="style"&&h.querySelector(Go(y))||r==="script"&&h.querySelector($o(y))||(r=h.createElement("link"),Ge(r,"link",n),Pe(r),h.head.appendChild(r)))}}function wC(n,r){qn.m(n,r);var c=fr;if(c&&n){var h=r&&typeof r.as=="string"?r.as:"script",x='link[rel="modulepreload"][as="'+Oi(h)+'"][href="'+Oi(n)+'"]',y=x;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=mr(n)}if(!Hi.has(y)&&(n=g({rel:"modulepreload",href:n},r),Hi.set(y,n),c.querySelector(x)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector($o(y)))return}h=c.createElement("link"),Ge(h,"link",n),Pe(h),c.head.appendChild(h)}}}function AC(n,r,c){qn.S(n,r,c);var h=fr;if(h&&n){var x=Pa(h).hoistableStyles,y=pr(n);r=r||"default";var S=x.get(y);if(!S){var N={loading:0,preload:null};if(S=h.querySelector(Go(y)))N.loading=5;else{n=g({rel:"stylesheet",href:n,"data-precedence":r},c),(c=Hi.get(y))&&Hf(n,c);var L=S=h.createElement("link");Pe(L),Ge(L,"link",n),L._p=new Promise(function(H,Q){L.onload=H,L.onerror=Q}),L.addEventListener("load",function(){N.loading|=1}),L.addEventListener("error",function(){N.loading|=2}),N.loading|=4,nu(S,r,h)}S={type:"stylesheet",instance:S,count:1,state:N},x.set(y,S)}}}function SC(n,r){qn.X(n,r);var c=fr;if(c&&n){var h=Pa(c).hoistableScripts,x=mr(n),y=h.get(x);y||(y=c.querySelector($o(x)),y||(n=g({src:n,async:!0},r),(r=Hi.get(x))&&Vf(n,r),y=c.createElement("script"),Pe(y),Ge(y,"link",n),c.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},h.set(x,y))}}function EC(n,r){qn.M(n,r);var c=fr;if(c&&n){var h=Pa(c).hoistableScripts,x=mr(n),y=h.get(x);y||(y=c.querySelector($o(x)),y||(n=g({src:n,async:!0,type:"module"},r),(r=Hi.get(x))&&Vf(n,r),y=c.createElement("script"),Pe(y),Ge(y,"link",n),c.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},h.set(x,y))}}function Fb(n,r,c,h){var x=(x=mt.current)?iu(x):null;if(!x)throw Error(i(446));switch(n){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(r=pr(c.href),c=Pa(x).hoistableStyles,h=c.get(r),h||(h={type:"style",instance:null,count:0,state:null},c.set(r,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){n=pr(c.href);var y=Pa(x).hoistableStyles,S=y.get(n);if(S||(x=x.ownerDocument||x,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(n,S),(y=x.querySelector(Go(n)))&&!y._p&&(S.instance=y,S.state.loading=5),Hi.has(n)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},Hi.set(n,c),y||TC(x,n,c,S.state))),r&&h===null)throw Error(i(528,""));return S}if(r&&h!==null)throw Error(i(529,""));return null;case"script":return r=c.async,c=c.src,typeof c=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=mr(c),c=Pa(x).hoistableScripts,h=c.get(r),h||(h={type:"script",instance:null,count:0,state:null},c.set(r,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,n))}}function pr(n){return'href="'+Oi(n)+'"'}function Go(n){return'link[rel="stylesheet"]['+n+"]"}function Ib(n){return g({},n,{"data-precedence":n.precedence,precedence:null})}function TC(n,r,c,h){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?h.loading=1:(r=n.createElement("link"),h.preload=r,r.addEventListener("load",function(){return h.loading|=1}),r.addEventListener("error",function(){return h.loading|=2}),Ge(r,"link",c),Pe(r),n.head.appendChild(r))}function mr(n){return'[src="'+Oi(n)+'"]'}function $o(n){return"script[async]"+n}function Ub(n,r,c){if(r.count++,r.instance===null)switch(r.type){case"style":var h=n.querySelector('style[data-href~="'+Oi(c.href)+'"]');if(h)return r.instance=h,Pe(h),h;var x=g({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return h=(n.ownerDocument||n).createElement("style"),Pe(h),Ge(h,"style",x),nu(h,c.precedence,n),r.instance=h;case"stylesheet":x=pr(c.href);var y=n.querySelector(Go(x));if(y)return r.state.loading|=4,r.instance=y,Pe(y),y;h=Ib(c),(x=Hi.get(x))&&Hf(h,x),y=(n.ownerDocument||n).createElement("link"),Pe(y);var S=y;return S._p=new Promise(function(N,L){S.onload=N,S.onerror=L}),Ge(y,"link",h),r.state.loading|=4,nu(y,c.precedence,n),r.instance=y;case"script":return y=mr(c.src),(x=n.querySelector($o(y)))?(r.instance=x,Pe(x),x):(h=c,(x=Hi.get(y))&&(h=g({},c),Vf(h,x)),n=n.ownerDocument||n,x=n.createElement("script"),Pe(x),Ge(x,"link",h),n.head.appendChild(x),r.instance=x);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(h=r.instance,r.state.loading|=4,nu(h,c.precedence,n));return r.instance}function nu(n,r,c){for(var h=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),x=h.length?h[h.length-1]:null,y=x,S=0;S<h.length;S++){var N=h[S];if(N.dataset.precedence===r)y=N;else if(y!==x)break}y?y.parentNode.insertBefore(n,y.nextSibling):(r=c.nodeType===9?c.head:c,r.insertBefore(n,r.firstChild))}function Hf(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function Vf(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var su=null;function Hb(n,r,c){if(su===null){var h=new Map,x=su=new Map;x.set(c,h)}else x=su,h=x.get(c),h||(h=new Map,x.set(c,h));if(h.has(n))return h;for(h.set(n,null),c=c.getElementsByTagName(n),x=0;x<c.length;x++){var y=c[x];if(!(y[oo]||y[Ue]||n==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var S=y.getAttribute(r)||"";S=n+S;var N=h.get(S);N?N.push(y):h.set(S,[y])}}return h}function Vb(n,r,c){n=n.ownerDocument||n,n.head.insertBefore(c,r==="title"?n.querySelector("head > title"):null)}function CC(n,r,c){if(c===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return n=r.disabled,typeof r.precedence=="string"&&n==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function qb(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function _C(n,r,c,h){if(c.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var x=pr(h.href),y=r.querySelector(Go(x));if(y){r=y._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(n.count++,n=au.bind(n),r.then(n,n)),c.state.loading|=4,c.instance=y,Pe(y);return}y=r.ownerDocument||r,h=Ib(h),(x=Hi.get(x))&&Hf(h,x),y=y.createElement("link"),Pe(y);var S=y;S._p=new Promise(function(N,L){S.onload=N,S.onerror=L}),Ge(y,"link",h),c.instance=y}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(c,r),(r=c.state.preload)&&(c.state.loading&3)===0&&(n.count++,c=au.bind(n),r.addEventListener("load",c),r.addEventListener("error",c))}}var qf=0;function NC(n,r){return n.stylesheets&&n.count===0&&ou(n,n.stylesheets),0<n.count||0<n.imgCount?function(c){var h=setTimeout(function(){if(n.stylesheets&&ou(n,n.stylesheets),n.unsuspend){var y=n.unsuspend;n.unsuspend=null,y()}},6e4+r);0<n.imgBytes&&qf===0&&(qf=62500*lC());var x=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&ou(n,n.stylesheets),n.unsuspend)){var y=n.unsuspend;n.unsuspend=null,y()}},(n.imgBytes>qf?50:800)+r);return n.unsuspend=c,function(){n.unsuspend=null,clearTimeout(h),clearTimeout(x)}}:null}function au(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ou(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var ru=null;function ou(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,ru=new Map,r.forEach(kC,n),ru=null,au.call(n))}function kC(n,r){if(!(r.state.loading&4)){var c=ru.get(n);if(c)var h=c.get(null);else{c=new Map,ru.set(n,c);for(var x=n.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<x.length;y++){var S=x[y];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(c.set(S.dataset.precedence,S),h=S)}h&&c.set(null,h)}x=r.instance,S=x.getAttribute("data-precedence"),y=c.get(S)||h,y===h&&c.set(null,x),c.set(S,x),this.count++,h=au.bind(this),x.addEventListener("load",h),x.addEventListener("error",h),y?y.parentNode.insertBefore(x,y.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(x,n.firstChild)),r.state.loading|=4}}var Xo={$$typeof:C,Provider:null,Consumer:null,_currentValue:I,_currentValue2:I,_threadCount:0};function jC(n,r,c,h,x,y,S,N,L){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=zd(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zd(0),this.hiddenUpdates=zd(null),this.identifierPrefix=h,this.onUncaughtError=x,this.onCaughtError=y,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=L,this.incompleteTransitions=new Map}function Gb(n,r,c,h,x,y,S,N,L,H,Q,tt){return n=new jC(n,r,c,S,L,H,Q,tt,N),r=1,y===!0&&(r|=24),y=Ai(3,null,null,r),n.current=y,y.stateNode=n,r=Ah(),r.refCount++,n.pooledCache=r,r.refCount++,y.memoizedState={element:h,isDehydrated:c,cache:r},Ch(y),n}function $b(n){return n?(n=$a,n):$a}function Xb(n,r,c,h,x,y){x=$b(x),h.context===null?h.context=x:h.pendingContext=x,h=gs(r),h.payload={element:c},y=y===void 0?null:y,y!==null&&(h.callback=y),c=xs(n,h,r),c!==null&&(fi(c,n,r),To(c,n,r))}function Yb(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var c=n.retryLane;n.retryLane=c!==0&&c<r?c:r}}function Gf(n,r){Yb(n,r),(n=n.alternate)&&Yb(n,r)}function Kb(n){if(n.tag===13||n.tag===31){var r=Ws(n,67108864);r!==null&&fi(r,n,67108864),Gf(n,67108864)}}function Wb(n){if(n.tag===13||n.tag===31){var r=_i();r=Fd(r);var c=Ws(n,r);c!==null&&fi(c,n,r),Gf(n,r)}}var lu=!0;function MC(n,r,c,h){var x=z.T;z.T=null;var y=q.p;try{q.p=2,$f(n,r,c,h)}finally{q.p=y,z.T=x}}function DC(n,r,c,h){var x=z.T;z.T=null;var y=q.p;try{q.p=8,$f(n,r,c,h)}finally{q.p=y,z.T=x}}function $f(n,r,c,h){if(lu){var x=Xf(h);if(x===null)Df(n,r,h,cu,c),Zb(n,h);else if(OC(x,n,r,c,h))h.stopPropagation();else if(Zb(n,h),r&4&&-1<RC.indexOf(n)){for(;x!==null;){var y=La(x);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var S=Gs(y.pendingLanes);if(S!==0){var N=y;for(N.pendingLanes|=2,N.entangledLanes|=2;S;){var L=1<<31-Ie(S);N.entanglements[1]|=L,S&=~L}dn(y),(Ft&6)===0&&(Gc=st()+500,Uo(0))}}break;case 31:case 13:N=Ws(y,2),N!==null&&fi(N,y,2),Xc(),Gf(y,2)}if(y=Xf(h),y===null&&Df(n,r,h,cu,c),y===x)break;x=y}x!==null&&h.stopPropagation()}else Df(n,r,h,null,c)}}function Xf(n){return n=Yd(n),Yf(n)}var cu=null;function Yf(n){if(cu=null,n=Oa(n),n!==null){var r=o(n);if(r===null)n=null;else{var c=r.tag;if(c===13){if(n=l(r),n!==null)return n;n=null}else if(c===31){if(n=u(r),n!==null)return n;n=null}else if(c===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return cu=n,null}function Qb(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(wt()){case ue:return 2;case we:return 8;case Oe:case qs:return 32;case Tn:return 268435456;default:return 32}default:return 32}}var Kf=!1,Ns=null,ks=null,js=null,Yo=new Map,Ko=new Map,Ms=[],RC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Zb(n,r){switch(n){case"focusin":case"focusout":Ns=null;break;case"dragenter":case"dragleave":ks=null;break;case"mouseover":case"mouseout":js=null;break;case"pointerover":case"pointerout":Yo.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ko.delete(r.pointerId)}}function Wo(n,r,c,h,x,y){return n===null||n.nativeEvent!==y?(n={blockedOn:r,domEventName:c,eventSystemFlags:h,nativeEvent:y,targetContainers:[x]},r!==null&&(r=La(r),r!==null&&Kb(r)),n):(n.eventSystemFlags|=h,r=n.targetContainers,x!==null&&r.indexOf(x)===-1&&r.push(x),n)}function OC(n,r,c,h,x){switch(r){case"focusin":return Ns=Wo(Ns,n,r,c,h,x),!0;case"dragenter":return ks=Wo(ks,n,r,c,h,x),!0;case"mouseover":return js=Wo(js,n,r,c,h,x),!0;case"pointerover":var y=x.pointerId;return Yo.set(y,Wo(Yo.get(y)||null,n,r,c,h,x)),!0;case"gotpointercapture":return y=x.pointerId,Ko.set(y,Wo(Ko.get(y)||null,n,r,c,h,x)),!0}return!1}function Jb(n){var r=Oa(n.target);if(r!==null){var c=o(r);if(c!==null){if(r=c.tag,r===13){if(r=l(c),r!==null){n.blockedOn=r,f0(n.priority,function(){Wb(c)});return}}else if(r===31){if(r=u(c),r!==null){n.blockedOn=r,f0(n.priority,function(){Wb(c)});return}}else if(r===3&&c.stateNode.current.memoizedState.isDehydrated){n.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}n.blockedOn=null}function uu(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var c=Xf(n.nativeEvent);if(c===null){c=n.nativeEvent;var h=new c.constructor(c.type,c);Xd=h,c.target.dispatchEvent(h),Xd=null}else return r=La(c),r!==null&&Kb(r),n.blockedOn=c,!1;r.shift()}return!0}function tv(n,r,c){uu(n)&&c.delete(r)}function LC(){Kf=!1,Ns!==null&&uu(Ns)&&(Ns=null),ks!==null&&uu(ks)&&(ks=null),js!==null&&uu(js)&&(js=null),Yo.forEach(tv),Ko.forEach(tv)}function du(n,r){n.blockedOn===r&&(n.blockedOn=null,Kf||(Kf=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,LC)))}var hu=null;function ev(n){hu!==n&&(hu=n,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){hu===n&&(hu=null);for(var r=0;r<n.length;r+=3){var c=n[r],h=n[r+1],x=n[r+2];if(typeof h!="function"){if(Yf(h||c)===null)continue;break}var y=La(c);y!==null&&(n.splice(r,3),r-=3,$h(y,{pending:!0,data:x,method:c.method,action:h},h,x))}}))}function gr(n){function r(L){return du(L,n)}Ns!==null&&du(Ns,n),ks!==null&&du(ks,n),js!==null&&du(js,n),Yo.forEach(r),Ko.forEach(r);for(var c=0;c<Ms.length;c++){var h=Ms[c];h.blockedOn===n&&(h.blockedOn=null)}for(;0<Ms.length&&(c=Ms[0],c.blockedOn===null);)Jb(c),c.blockedOn===null&&Ms.shift();if(c=(n.ownerDocument||n).$$reactFormReplay,c!=null)for(h=0;h<c.length;h+=3){var x=c[h],y=c[h+1],S=x[oi]||null;if(typeof y=="function")S||ev(c);else if(S){var N=null;if(y&&y.hasAttribute("formAction")){if(x=y,S=y[oi]||null)N=S.formAction;else if(Yf(x)!==null)continue}else N=S.action;typeof N=="function"?c[h+1]=N:(c.splice(h,3),h-=3),ev(c)}}}function iv(){function n(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(S){return x=S})},focusReset:"manual",scroll:"manual"})}function r(){x!==null&&(x(),x=null),h||setTimeout(c,20)}function c(){if(!h&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,x=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(c,100),function(){h=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),x!==null&&(x(),x=null)}}}function Wf(n){this._internalRoot=n}fu.prototype.render=Wf.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(i(409));var c=r.current,h=_i();Xb(c,h,n,r,null,null)},fu.prototype.unmount=Wf.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;Xb(n.current,2,null,n,null,null),Xc(),r[Ra]=null}};function fu(n){this._internalRoot=n}fu.prototype.unstable_scheduleHydration=function(n){if(n){var r=h0();n={blockedOn:null,target:n,priority:r};for(var c=0;c<Ms.length&&r!==0&&r<Ms[c].priority;c++);Ms.splice(c,0,n),c===0&&Jb(n)}};var nv=t.version;if(nv!=="19.2.3")throw Error(i(527,nv,"19.2.3"));q.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(i(188)):(n=Object.keys(n).join(","),Error(i(268,n)));return n=f(r),n=n!==null?p(n):null,n=n===null?null:n.stateNode,n};var PC={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pu.isDisabled&&pu.supportsFiber)try{Cn=pu.inject(PC),Le=pu}catch{}}return Zo.createRoot=function(n,r){if(!a(n))throw Error(i(299));var c=!1,h="",x=uy,y=dy,S=hy;return r!=null&&(r.unstable_strictMode===!0&&(c=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(x=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(S=r.onRecoverableError)),r=Gb(n,1,!1,null,null,c,h,null,x,y,S,iv),n[Ra]=r.current,Mf(n),new Wf(r)},Zo.hydrateRoot=function(n,r,c){if(!a(n))throw Error(i(299));var h=!1,x="",y=uy,S=dy,N=hy,L=null;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(x=c.identifierPrefix),c.onUncaughtError!==void 0&&(y=c.onUncaughtError),c.onCaughtError!==void 0&&(S=c.onCaughtError),c.onRecoverableError!==void 0&&(N=c.onRecoverableError),c.formState!==void 0&&(L=c.formState)),r=Gb(n,1,!0,r,c??null,h,x,L,y,S,N,iv),r.context=$b(null),c=r.current,h=_i(),h=Fd(h),x=gs(h),x.callback=null,xs(c,x,h),c=h,r.current.lanes=c,ro(r,c),dn(r),n[Ra]=r.current,Mf(n),new fu(r)},Zo.version="19.2.3",Zo}var mv;function $C(){if(mv)return tp.exports;mv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),tp.exports=GC(),tp.exports}var XC=$C();const YC=fd(XC);var gv="popstate";function KC(s={}){function t(i,a){let{pathname:o,search:l,hash:u}=i.location;return $p("",{pathname:o,search:l,hash:u},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function e(i,a){return typeof a=="string"?a:yl(a)}return QC(t,e,null,s)}function le(s,t){if(s===!1||s===null||typeof s>"u")throw new Error(t)}function Ki(s,t){if(!s){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function WC(){return Math.random().toString(36).substring(2,10)}function xv(s,t){return{usr:s.state,key:s.key,idx:t}}function $p(s,t,e=null,i){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof t=="string"?Gr(t):t,state:e,key:t&&t.key||i||WC()}}function yl({pathname:s="/",search:t="",hash:e=""}){return t&&t!=="?"&&(s+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(s+=e.charAt(0)==="#"?e:"#"+e),s}function Gr(s){let t={};if(s){let e=s.indexOf("#");e>=0&&(t.hash=s.substring(e),s=s.substring(0,e));let i=s.indexOf("?");i>=0&&(t.search=s.substring(i),s=s.substring(0,i)),s&&(t.pathname=s)}return t}function QC(s,t,e,i={}){let{window:a=document.defaultView,v5Compat:o=!1}=i,l=a.history,u="POP",d=null,f=p();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function p(){return(l.state||{idx:null}).idx}function g(){u="POP";let E=p(),T=E==null?null:E-f;f=E,d&&d({action:u,location:A.location,delta:T})}function b(E,T){u="PUSH";let _=$p(A.location,E,T);f=p()+1;let C=xv(_,f),j=A.createHref(_);try{l.pushState(C,"",j)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;a.location.assign(j)}o&&d&&d({action:u,location:A.location,delta:1})}function v(E,T){u="REPLACE";let _=$p(A.location,E,T);f=p();let C=xv(_,f),j=A.createHref(_);l.replaceState(C,"",j),o&&d&&d({action:u,location:A.location,delta:0})}function w(E){return ZC(E)}let A={get action(){return u},get location(){return s(a,l)},listen(E){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(gv,g),d=E,()=>{a.removeEventListener(gv,g),d=null}},createHref(E){return t(a,E)},createURL:w,encodeLocation(E){let T=w(E);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:b,replace:v,go(E){return l.go(E)}};return A}function ZC(s,t=!1){let e="http://localhost";typeof window<"u"&&(e=window.location.origin!=="null"?window.location.origin:window.location.href),le(e,"No window.location.(origin|href) available to create URL");let i=typeof s=="string"?s:yl(s);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=e+i),new URL(i,e)}function Yw(s,t,e="/"){return JC(s,t,e,!1)}function JC(s,t,e,i){let a=typeof t=="string"?Gr(t):t,o=ts(a.pathname||"/",e);if(o==null)return null;let l=Kw(s);t_(l);let u=null;for(let d=0;u==null&&d<l.length;++d){let f=d_(o);u=c_(l[d],f,i)}return u}function Kw(s,t=[],e=[],i="",a=!1){let o=(l,u,d=a,f)=>{let p={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(i)&&d)return;le(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length)}let g=Jn([i,p.relativePath]),b=e.concat(p);l.children&&l.children.length>0&&(le(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),Kw(l.children,t,b,g,d)),!(l.path==null&&!l.index)&&t.push({path:g,score:o_(g,l.index),routesMeta:b})};return s.forEach((l,u)=>{if(l.path===""||!l.path?.includes("?"))o(l,u);else for(let d of Ww(l.path))o(l,u,!0,d)}),t}function Ww(s){let t=s.split("/");if(t.length===0)return[];let[e,...i]=t,a=e.endsWith("?"),o=e.replace(/\?$/,"");if(i.length===0)return a?[o,""]:[o];let l=Ww(i.join("/")),u=[];return u.push(...l.map(d=>d===""?o:[o,d].join("/"))),a&&u.push(...l),u.map(d=>s.startsWith("/")&&d===""?"/":d)}function t_(s){s.sort((t,e)=>t.score!==e.score?e.score-t.score:l_(t.routesMeta.map(i=>i.childrenIndex),e.routesMeta.map(i=>i.childrenIndex)))}var e_=/^:[\w-]+$/,i_=3,n_=2,s_=1,a_=10,r_=-2,yv=s=>s==="*";function o_(s,t){let e=s.split("/"),i=e.length;return e.some(yv)&&(i+=r_),t&&(i+=n_),e.filter(a=>!yv(a)).reduce((a,o)=>a+(e_.test(o)?i_:o===""?s_:a_),i)}function l_(s,t){return s.length===t.length&&s.slice(0,-1).every((i,a)=>i===t[a])?s[s.length-1]-t[t.length-1]:0}function c_(s,t,e=!1){let{routesMeta:i}=s,a={},o="/",l=[];for(let u=0;u<i.length;++u){let d=i[u],f=u===i.length-1,p=o==="/"?t:t.slice(o.length)||"/",g=Yu({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},p),b=d.route;if(!g&&f&&e&&!i[i.length-1].route.index&&(g=Yu({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},p)),!g)return null;Object.assign(a,g.params),l.push({params:a,pathname:Jn([o,g.pathname]),pathnameBase:g_(Jn([o,g.pathnameBase])),route:b}),g.pathnameBase!=="/"&&(o=Jn([o,g.pathnameBase]))}return l}function Yu(s,t){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[e,i]=u_(s.path,s.caseSensitive,s.end),a=t.match(e);if(!a)return null;let o=a[0],l=o.replace(/(.)\/+$/,"$1"),u=a.slice(1);return{params:i.reduce((f,{paramName:p,isOptional:g},b)=>{if(p==="*"){let w=u[b]||"";l=o.slice(0,o.length-w.length).replace(/(.)\/+$/,"$1")}const v=u[b];return g&&!v?f[p]=void 0:f[p]=(v||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:l,pattern:s}}function u_(s,t=!1,e=!0){Ki(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let i=[],a="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,d)=>(i.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return s.endsWith("*")?(i.push({paramName:"*"}),a+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?a+="\\/*$":s!==""&&s!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),i]}function d_(s){try{return s.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ki(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),s}}function ts(s,t){if(t==="/")return s;if(!s.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,i=s.charAt(e);return i&&i!=="/"?null:s.slice(e)||"/"}var h_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,f_=s=>h_.test(s);function p_(s,t="/"){let{pathname:e,search:i="",hash:a=""}=typeof s=="string"?Gr(s):s,o;if(e)if(f_(e))o=e;else{if(e.includes("//")){let l=e;e=e.replace(/\/\/+/g,"/"),Ki(!1,`Pathnames cannot have embedded double slashes - normalizing ${l} -> ${e}`)}e.startsWith("/")?o=bv(e.substring(1),"/"):o=bv(e,t)}else o=t;return{pathname:o,search:x_(i),hash:y_(a)}}function bv(s,t){let e=t.replace(/\/+$/,"").split("/");return s.split("/").forEach(a=>{a===".."?e.length>1&&e.pop():a!=="."&&e.push(a)}),e.length>1?e.join("/"):"/"}function sp(s,t,e,i){return`Cannot include a '${s}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function m_(s){return s.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function $m(s){let t=m_(s);return t.map((e,i)=>i===t.length-1?e.pathname:e.pathnameBase)}function Xm(s,t,e,i=!1){let a;typeof s=="string"?a=Gr(s):(a={...s},le(!a.pathname||!a.pathname.includes("?"),sp("?","pathname","search",a)),le(!a.pathname||!a.pathname.includes("#"),sp("#","pathname","hash",a)),le(!a.search||!a.search.includes("#"),sp("#","search","hash",a)));let o=s===""||a.pathname==="",l=o?"/":a.pathname,u;if(l==null)u=e;else{let g=t.length-1;if(!i&&l.startsWith("..")){let b=l.split("/");for(;b[0]==="..";)b.shift(),g-=1;a.pathname=b.join("/")}u=g>=0?t[g]:"/"}let d=p_(a,u),f=l&&l!=="/"&&l.endsWith("/"),p=(o||l===".")&&e.endsWith("/");return!d.pathname.endsWith("/")&&(f||p)&&(d.pathname+="/"),d}var Jn=s=>s.join("/").replace(/\/\/+/g,"/"),g_=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),x_=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,y_=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function b_(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}function v_(s){return s.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Qw=["POST","PUT","PATCH","DELETE"];new Set(Qw);var w_=["GET",...Qw];new Set(w_);var $r=k.createContext(null);$r.displayName="DataRouter";var pd=k.createContext(null);pd.displayName="DataRouterState";k.createContext(!1);var Zw=k.createContext({isTransitioning:!1});Zw.displayName="ViewTransition";var A_=k.createContext(new Map);A_.displayName="Fetchers";var S_=k.createContext(null);S_.displayName="Await";var Qi=k.createContext(null);Qi.displayName="Navigation";var Rl=k.createContext(null);Rl.displayName="Location";var an=k.createContext({outlet:null,matches:[],isDataRoute:!1});an.displayName="Route";var Ym=k.createContext(null);Ym.displayName="RouteError";function E_(s,{relative:t}={}){le(Xr(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:i}=k.useContext(Qi),{hash:a,pathname:o,search:l}=Ol(s,{relative:t}),u=o;return e!=="/"&&(u=o==="/"?e:Jn([e,o])),i.createHref({pathname:u,search:l,hash:a})}function Xr(){return k.useContext(Rl)!=null}function rn(){return le(Xr(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(Rl).location}var Jw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function t2(s){k.useContext(Qi).static||k.useLayoutEffect(s)}function En(){let{isDataRoute:s}=k.useContext(an);return s?F_():T_()}function T_(){le(Xr(),"useNavigate() may be used only in the context of a <Router> component.");let s=k.useContext($r),{basename:t,navigator:e}=k.useContext(Qi),{matches:i}=k.useContext(an),{pathname:a}=rn(),o=JSON.stringify($m(i)),l=k.useRef(!1);return t2(()=>{l.current=!0}),k.useCallback((d,f={})=>{if(Ki(l.current,Jw),!l.current)return;if(typeof d=="number"){e.go(d);return}let p=Xm(d,JSON.parse(o),a,f.relative==="path");s==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:Jn([t,p.pathname])),(f.replace?e.replace:e.push)(p,f.state,f)},[t,e,o,a,s])}var C_=k.createContext(null);function __(s){let t=k.useContext(an).outlet;return k.useMemo(()=>t&&k.createElement(C_.Provider,{value:s},t),[t,s])}function Ol(s,{relative:t}={}){let{matches:e}=k.useContext(an),{pathname:i}=rn(),a=JSON.stringify($m(e));return k.useMemo(()=>Xm(s,JSON.parse(a),i,t==="path"),[s,a,i,t])}function N_(s,t){return e2(s,t)}function e2(s,t,e,i,a){le(Xr(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=k.useContext(Qi),{matches:l}=k.useContext(an),u=l[l.length-1],d=u?u.params:{},f=u?u.pathname:"/",p=u?u.pathnameBase:"/",g=u&&u.route;{let _=g&&g.path||"";i2(f,!g||_.endsWith("*")||_.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${_}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${_}"> to <Route path="${_==="/"?"*":`${_}/*`}">.`)}let b=rn(),v;if(t){let _=typeof t=="string"?Gr(t):t;le(p==="/"||_.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${_.pathname}" was given in the \`location\` prop.`),v=_}else v=b;let w=v.pathname||"/",A=w;if(p!=="/"){let _=p.replace(/^\//,"").split("/");A="/"+w.replace(/^\//,"").split("/").slice(_.length).join("/")}let E=Yw(s,{pathname:A});Ki(g||E!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Ki(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let T=R_(E&&E.map(_=>Object.assign({},_,{params:Object.assign({},d,_.params),pathname:Jn([p,o.encodeLocation?o.encodeLocation(_.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?p:Jn([p,o.encodeLocation?o.encodeLocation(_.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:_.pathnameBase])})),l,e,i,a);return t&&T?k.createElement(Rl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},T):T}function k_(){let s=z_(),t=b_(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),e=s instanceof Error?s.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},l=null;return console.error("Error handled by React Router default ErrorBoundary:",s),l=k.createElement(k.Fragment,null,k.createElement("p",null," Hey developer "),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:o},"ErrorBoundary")," or"," ",k.createElement("code",{style:o},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},t),e?k.createElement("pre",{style:a},e):null,l)}var j_=k.createElement(k_,null),M_=class extends k.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,t){return t.location!==s.location||t.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:t.error,location:t.location,revalidation:s.revalidation||t.revalidation}}componentDidCatch(s,t){this.props.onError?this.props.onError(s,t):console.error("React Router caught the following error during render",s)}render(){return this.state.error!==void 0?k.createElement(an.Provider,{value:this.props.routeContext},k.createElement(Ym.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function D_({routeContext:s,match:t,children:e}){let i=k.useContext($r);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),k.createElement(an.Provider,{value:s},e)}function R_(s,t=[],e=null,i=null,a=null){if(s==null){if(!e)return null;if(e.errors)s=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)s=e.matches;else return null}let o=s,l=e?.errors;if(l!=null){let p=o.findIndex(g=>g.route.id&&l?.[g.route.id]!==void 0);le(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let u=!1,d=-1;if(e)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=p),g.route.id){let{loaderData:b,errors:v}=e,w=g.route.loader&&!b.hasOwnProperty(g.route.id)&&(!v||v[g.route.id]===void 0);if(g.route.lazy||w){u=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}let f=e&&i?(p,g)=>{i(p,{location:e.location,params:e.matches?.[0]?.params??{},unstable_pattern:v_(e.matches),errorInfo:g})}:void 0;return o.reduceRight((p,g,b)=>{let v,w=!1,A=null,E=null;e&&(v=l&&g.route.id?l[g.route.id]:void 0,A=g.route.errorElement||j_,u&&(d<0&&b===0?(i2("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,E=null):d===b&&(w=!0,E=g.route.hydrateFallbackElement||null)));let T=t.concat(o.slice(0,b+1)),_=()=>{let C;return v?C=A:w?C=E:g.route.Component?C=k.createElement(g.route.Component,null):g.route.element?C=g.route.element:C=p,k.createElement(D_,{match:g,routeContext:{outlet:p,matches:T,isDataRoute:e!=null},children:C})};return e&&(g.route.ErrorBoundary||g.route.errorElement||b===0)?k.createElement(M_,{location:e.location,revalidation:e.revalidation,component:A,error:v,children:_(),routeContext:{outlet:null,matches:T,isDataRoute:!0},onError:f}):_()},null)}function Km(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function O_(s){let t=k.useContext($r);return le(t,Km(s)),t}function L_(s){let t=k.useContext(pd);return le(t,Km(s)),t}function P_(s){let t=k.useContext(an);return le(t,Km(s)),t}function Wm(s){let t=P_(s),e=t.matches[t.matches.length-1];return le(e.route.id,`${s} can only be used on routes that contain a unique "id"`),e.route.id}function B_(){return Wm("useRouteId")}function z_(){let s=k.useContext(Ym),t=L_("useRouteError"),e=Wm("useRouteError");return s!==void 0?s:t.errors?.[e]}function F_(){let{router:s}=O_("useNavigate"),t=Wm("useNavigate"),e=k.useRef(!1);return t2(()=>{e.current=!0}),k.useCallback(async(a,o={})=>{Ki(e.current,Jw),e.current&&(typeof a=="number"?await s.navigate(a):await s.navigate(a,{fromRouteId:t,...o}))},[s,t])}var vv={};function i2(s,t,e){!t&&!vv[s]&&(vv[s]=!0,Ki(!1,e))}k.memo(I_);function I_({routes:s,future:t,state:e,unstable_onError:i}){return e2(s,void 0,e,i,t)}function n2({to:s,replace:t,state:e,relative:i}){le(Xr(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=k.useContext(Qi);Ki(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=k.useContext(an),{pathname:l}=rn(),u=En(),d=Xm(s,$m(o),l,i==="path"),f=JSON.stringify(d);return k.useEffect(()=>{u(JSON.parse(f),{replace:t,state:e,relative:i})},[u,f,i,t,e]),null}function md(s){return __(s.context)}function ye(s){le(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function U_({basename:s="/",children:t=null,location:e,navigationType:i="POP",navigator:a,static:o=!1,unstable_useTransitions:l}){le(!Xr(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=s.replace(/^\/*/,"/"),d=k.useMemo(()=>({basename:u,navigator:a,static:o,unstable_useTransitions:l,future:{}}),[u,a,o,l]);typeof e=="string"&&(e=Gr(e));let{pathname:f="/",search:p="",hash:g="",state:b=null,key:v="default"}=e,w=k.useMemo(()=>{let A=ts(f,u);return A==null?null:{location:{pathname:A,search:p,hash:g,state:b,key:v},navigationType:i}},[u,f,p,g,b,v,i]);return Ki(w!=null,`<Router basename="${u}"> is not able to match the URL "${f}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:k.createElement(Qi.Provider,{value:d},k.createElement(Rl.Provider,{children:t,value:w}))}function H_({children:s,location:t}){return N_(Xp(s),t)}function Xp(s,t=[]){let e=[];return k.Children.forEach(s,(i,a)=>{if(!k.isValidElement(i))return;let o=[...t,a];if(i.type===k.Fragment){e.push.apply(e,Xp(i.props.children,o));return}le(i.type===ye,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),le(!i.props.index||!i.props.children,"An index route cannot have child routes.");let l={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(l.children=Xp(i.props.children,o)),e.push(l)}),e}var Lu="get",Pu="application/x-www-form-urlencoded";function gd(s){return typeof HTMLElement<"u"&&s instanceof HTMLElement}function V_(s){return gd(s)&&s.tagName.toLowerCase()==="button"}function q_(s){return gd(s)&&s.tagName.toLowerCase()==="form"}function G_(s){return gd(s)&&s.tagName.toLowerCase()==="input"}function $_(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function X_(s,t){return s.button===0&&(!t||t==="_self")&&!$_(s)}var mu=null;function Y_(){if(mu===null)try{new FormData(document.createElement("form"),0),mu=!1}catch{mu=!0}return mu}var K_=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ap(s){return s!=null&&!K_.has(s)?(Ki(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Pu}"`),null):s}function W_(s,t){let e,i,a,o,l;if(q_(s)){let u=s.getAttribute("action");i=u?ts(u,t):null,e=s.getAttribute("method")||Lu,a=ap(s.getAttribute("enctype"))||Pu,o=new FormData(s)}else if(V_(s)||G_(s)&&(s.type==="submit"||s.type==="image")){let u=s.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=s.getAttribute("formaction")||u.getAttribute("action");if(i=d?ts(d,t):null,e=s.getAttribute("formmethod")||u.getAttribute("method")||Lu,a=ap(s.getAttribute("formenctype"))||ap(u.getAttribute("enctype"))||Pu,o=new FormData(u,s),!Y_()){let{name:f,type:p,value:g}=s;if(p==="image"){let b=f?`${f}.`:"";o.append(`${b}x`,"0"),o.append(`${b}y`,"0")}else f&&o.append(f,g)}}else{if(gd(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=Lu,i=null,a=Pu,l=s}return o&&a==="text/plain"&&(l=o,o=void 0),{action:i,method:e.toLowerCase(),encType:a,formData:o,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Qm(s,t){if(s===!1||s===null||typeof s>"u")throw new Error(t)}function Q_(s,t,e){let i=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return i.pathname==="/"?i.pathname=`_root.${e}`:t&&ts(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.${e}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${e}`,i}async function Z_(s,t){if(s.id in t)return t[s.id];try{let e=await import(s.module);return t[s.id]=e,e}catch(e){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function J_(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function tN(s,t,e){let i=await Promise.all(s.map(async a=>{let o=t.routes[a.route.id];if(o){let l=await Z_(o,e);return l.links?l.links():[]}return[]}));return sN(i.flat(1).filter(J_).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function wv(s,t,e,i,a,o){let l=(d,f)=>e[f]?d.route.id!==e[f].route.id:!0,u=(d,f)=>e[f].pathname!==d.pathname||e[f].route.path?.endsWith("*")&&e[f].params["*"]!==d.params["*"];return o==="assets"?t.filter((d,f)=>l(d,f)||u(d,f)):o==="data"?t.filter((d,f)=>{let p=i.routes[d.route.id];if(!p||!p.hasLoader)return!1;if(l(d,f)||u(d,f))return!0;if(d.route.shouldRevalidate){let g=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:e[0]?.params||{},nextUrl:new URL(s,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function eN(s,t,{includeHydrateFallback:e}={}){return iN(s.map(i=>{let a=t.routes[i.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),e&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function iN(s){return[...new Set(s)]}function nN(s){let t={},e=Object.keys(s).sort();for(let i of e)t[i]=s[i];return t}function sN(s,t){let e=new Set;return new Set(t),s.reduce((i,a)=>{let o=JSON.stringify(nN(a));return e.has(o)||(e.add(o),i.push({key:o,link:a})),i},[])}function s2(){let s=k.useContext($r);return Qm(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function aN(){let s=k.useContext(pd);return Qm(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var Zm=k.createContext(void 0);Zm.displayName="FrameworkContext";function a2(){let s=k.useContext(Zm);return Qm(s,"You must render this element inside a <HydratedRouter> element"),s}function rN(s,t){let e=k.useContext(Zm),[i,a]=k.useState(!1),[o,l]=k.useState(!1),{onFocus:u,onBlur:d,onMouseEnter:f,onMouseLeave:p,onTouchStart:g}=t,b=k.useRef(null);k.useEffect(()=>{if(s==="render"&&l(!0),s==="viewport"){let A=T=>{T.forEach(_=>{l(_.isIntersecting)})},E=new IntersectionObserver(A,{threshold:.5});return b.current&&E.observe(b.current),()=>{E.disconnect()}}},[s]),k.useEffect(()=>{if(i){let A=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(A)}}},[i]);let v=()=>{a(!0)},w=()=>{a(!1),l(!1)};return e?s!=="intent"?[o,b,{}]:[o,b,{onFocus:Jo(u,v),onBlur:Jo(d,w),onMouseEnter:Jo(f,v),onMouseLeave:Jo(p,w),onTouchStart:Jo(g,v)}]:[!1,b,{}]}function Jo(s,t){return e=>{s&&s(e),e.defaultPrevented||t(e)}}function oN({page:s,...t}){let{router:e}=s2(),i=k.useMemo(()=>Yw(e.routes,s,e.basename),[e.routes,s,e.basename]);return i?k.createElement(cN,{page:s,matches:i,...t}):null}function lN(s){let{manifest:t,routeModules:e}=a2(),[i,a]=k.useState([]);return k.useEffect(()=>{let o=!1;return tN(s,t,e).then(l=>{o||a(l)}),()=>{o=!0}},[s,t,e]),i}function cN({page:s,matches:t,...e}){let i=rn(),{manifest:a,routeModules:o}=a2(),{basename:l}=s2(),{loaderData:u,matches:d}=aN(),f=k.useMemo(()=>wv(s,t,d,a,i,"data"),[s,t,d,a,i]),p=k.useMemo(()=>wv(s,t,d,a,i,"assets"),[s,t,d,a,i]),g=k.useMemo(()=>{if(s===i.pathname+i.search+i.hash)return[];let w=new Set,A=!1;if(t.forEach(T=>{let _=a.routes[T.route.id];!_||!_.hasLoader||(!f.some(C=>C.route.id===T.route.id)&&T.route.id in u&&o[T.route.id]?.shouldRevalidate||_.hasClientLoader?A=!0:w.add(T.route.id))}),w.size===0)return[];let E=Q_(s,l,"data");return A&&w.size>0&&E.searchParams.set("_routes",t.filter(T=>w.has(T.route.id)).map(T=>T.route.id).join(",")),[E.pathname+E.search]},[l,u,i,a,f,t,s,o]),b=k.useMemo(()=>eN(p,a),[p,a]),v=lN(p);return k.createElement(k.Fragment,null,g.map(w=>k.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...e})),b.map(w=>k.createElement("link",{key:w,rel:"modulepreload",href:w,...e})),v.map(({key:w,link:A})=>k.createElement("link",{key:w,nonce:e.nonce,...A})))}function uN(...s){return t=>{s.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var r2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{r2&&(window.__reactRouterVersion="7.10.1")}catch{}function dN({basename:s,children:t,unstable_useTransitions:e,window:i}){let a=k.useRef();a.current==null&&(a.current=KC({window:i,v5Compat:!0}));let o=a.current,[l,u]=k.useState({action:o.action,location:o.location}),d=k.useCallback(f=>{e===!1?u(f):k.startTransition(()=>u(f))},[e]);return k.useLayoutEffect(()=>o.listen(d),[o,d]),k.createElement(U_,{basename:s,children:t,location:l.location,navigationType:l.action,navigator:o,unstable_useTransitions:e===!0})}var o2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Vt=k.forwardRef(function({onClick:t,discover:e="render",prefetch:i="none",relative:a,reloadDocument:o,replace:l,state:u,target:d,to:f,preventScrollReset:p,viewTransition:g,...b},v){let{basename:w,unstable_useTransitions:A}=k.useContext(Qi),E=typeof f=="string"&&o2.test(f),T,_=!1;if(typeof f=="string"&&E&&(T=f,r2))try{let V=new URL(window.location.href),W=f.startsWith("//")?new URL(V.protocol+f):new URL(f),rt=ts(W.pathname,w);W.origin===V.origin&&rt!=null?f=rt+W.search+W.hash:_=!0}catch{Ki(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let C=E_(f,{relative:a}),[j,M,R]=rN(i,b),D=pN(f,{replace:l,state:u,target:d,preventScrollReset:p,relative:a,viewTransition:g,unstable_useTransitions:A});function P(V){t&&t(V),V.defaultPrevented||D(V)}let X=k.createElement("a",{...b,...R,href:T||C,onClick:_||o?t:P,ref:uN(v,M),target:d,"data-discover":!E&&e==="render"?"true":void 0});return j&&!E?k.createElement(k.Fragment,null,X,k.createElement(oN,{page:C})):X});Vt.displayName="Link";var Xn=k.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:i="",end:a=!1,style:o,to:l,viewTransition:u,children:d,...f},p){let g=Ol(l,{relative:f.relative}),b=rn(),v=k.useContext(pd),{navigator:w,basename:A}=k.useContext(Qi),E=v!=null&&bN(g)&&u===!0,T=w.encodeLocation?w.encodeLocation(g).pathname:g.pathname,_=b.pathname,C=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;e||(_=_.toLowerCase(),C=C?C.toLowerCase():null,T=T.toLowerCase()),C&&A&&(C=ts(C,A)||C);const j=T!=="/"&&T.endsWith("/")?T.length-1:T.length;let M=_===T||!a&&_.startsWith(T)&&_.charAt(j)==="/",R=C!=null&&(C===T||!a&&C.startsWith(T)&&C.charAt(T.length)==="/"),D={isActive:M,isPending:R,isTransitioning:E},P=M?t:void 0,X;typeof i=="function"?X=i(D):X=[i,M?"active":null,R?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let V=typeof o=="function"?o(D):o;return k.createElement(Vt,{...f,"aria-current":P,className:X,ref:p,style:V,to:l,viewTransition:u},typeof d=="function"?d(D):d)});Xn.displayName="NavLink";var hN=k.forwardRef(({discover:s="render",fetcherKey:t,navigate:e,reloadDocument:i,replace:a,state:o,method:l=Lu,action:u,onSubmit:d,relative:f,preventScrollReset:p,viewTransition:g,...b},v)=>{let{unstable_useTransitions:w}=k.useContext(Qi),A=xN(),E=yN(u,{relative:f}),T=l.toLowerCase()==="get"?"get":"post",_=typeof u=="string"&&o2.test(u),C=j=>{if(d&&d(j),j.defaultPrevented)return;j.preventDefault();let M=j.nativeEvent.submitter,R=M?.getAttribute("formmethod")||l,D=()=>A(M||j.currentTarget,{fetcherKey:t,method:R,navigate:e,replace:a,state:o,relative:f,preventScrollReset:p,viewTransition:g});w&&e!==!1?k.startTransition(()=>D()):D()};return k.createElement("form",{ref:v,method:T,action:E,onSubmit:i?d:C,...b,"data-discover":!_&&s==="render"?"true":void 0})});hN.displayName="Form";function fN(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function l2(s){let t=k.useContext($r);return le(t,fN(s)),t}function pN(s,{target:t,replace:e,state:i,preventScrollReset:a,relative:o,viewTransition:l,unstable_useTransitions:u}={}){let d=En(),f=rn(),p=Ol(s,{relative:o});return k.useCallback(g=>{if(X_(g,t)){g.preventDefault();let b=e!==void 0?e:yl(f)===yl(p),v=()=>d(s,{replace:b,state:i,preventScrollReset:a,relative:o,viewTransition:l});u?k.startTransition(()=>v()):v()}},[f,d,p,e,i,t,s,a,o,l,u])}var mN=0,gN=()=>`__${String(++mN)}__`;function xN(){let{router:s}=l2("useSubmit"),{basename:t}=k.useContext(Qi),e=B_(),i=s.fetch,a=s.navigate;return k.useCallback(async(o,l={})=>{let{action:u,method:d,encType:f,formData:p,body:g}=W_(o,t);if(l.navigate===!1){let b=l.fetcherKey||gN();await i(b,e,l.action||u,{preventScrollReset:l.preventScrollReset,formData:p,body:g,formMethod:l.method||d,formEncType:l.encType||f,flushSync:l.flushSync})}else await a(l.action||u,{preventScrollReset:l.preventScrollReset,formData:p,body:g,formMethod:l.method||d,formEncType:l.encType||f,replace:l.replace,state:l.state,fromRouteId:e,flushSync:l.flushSync,viewTransition:l.viewTransition})},[i,a,t,e])}function yN(s,{relative:t}={}){let{basename:e}=k.useContext(Qi),i=k.useContext(an);le(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),o={...Ol(s||".",{relative:t})},l=rn();if(s==null){o.search=l.search;let u=new URLSearchParams(o.search),d=u.getAll("index");if(d.some(p=>p==="")){u.delete("index"),d.filter(g=>g).forEach(g=>u.append("index",g));let p=u.toString();o.search=p?`?${p}`:""}}return(!s||s===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(o.pathname=o.pathname==="/"?e:Jn([e,o.pathname])),yl(o)}function bN(s,{relative:t}={}){let e=k.useContext(Zw);le(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=l2("useViewTransitionState"),a=Ol(s,{relative:t});if(!e.isTransitioning)return!1;let o=ts(e.currentLocation.pathname,i)||e.currentLocation.pathname,l=ts(e.nextLocation.pathname,i)||e.nextLocation.pathname;return Yu(a.pathname,l)!=null||Yu(a.pathname,o)!=null}const vN=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),wN=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,e,i)=>i?i.toUpperCase():e.toLowerCase()),Av=s=>{const t=wN(s);return t.charAt(0).toUpperCase()+t.slice(1)},c2=(...s)=>s.filter((t,e,i)=>!!t&&t.trim()!==""&&i.indexOf(t)===e).join(" ").trim(),AN=s=>{for(const t in s)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var SN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const EN=k.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:e=2,absoluteStrokeWidth:i,className:a="",children:o,iconNode:l,...u},d)=>k.createElement("svg",{ref:d,...SN,width:t,height:t,stroke:s,strokeWidth:i?Number(e)*24/Number(t):e,className:c2("lucide",a),...!o&&!AN(u)&&{"aria-hidden":"true"},...u},[...l.map(([f,p])=>k.createElement(f,p)),...Array.isArray(o)?o:[o]]));const ot=(s,t)=>{const e=k.forwardRef(({className:i,...a},o)=>k.createElement(EN,{ref:o,iconNode:t,className:c2(`lucide-${vN(Av(s))}`,`lucide-${s}`,i),...a}));return e.displayName=Av(s),e};const TN=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Sv=ot("activity",TN);const CN=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],_N=ot("arrow-left",CN);const NN=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Jm=ot("arrow-right",NN);const kN=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],jN=ot("banknote",kN);const MN=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],DN=ot("bell",MN);const RN=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],ON=ot("book-open",RN);const LN=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Ev=ot("briefcase",LN);const PN=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],u2=ot("calendar",PN);const BN=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],zN=ot("chevron-left",BN);const FN=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Wn=ot("chevron-right",FN);const IN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],UN=ot("circle-alert",IN);const HN=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],d2=ot("circle-check-big",HN);const VN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Ta=ot("circle-check",VN);const qN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],GN=ot("circle-x",qN);const $N=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],h2=ot("clock",$N);const XN=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],Yp=ot("cloud-upload",XN);const YN=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],tg=ot("credit-card",YN);const KN=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],WN=ot("dollar-sign",KN);const QN=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],ZN=ot("download",QN);const JN=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],tk=ot("ellipsis",JN);const ek=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],ik=ot("external-link",ek);const nk=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],bl=ot("file-text",nk);const sk=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],ak=ot("globe",sk);const rk=[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]],ok=ot("hard-drive",rk);const lk=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],ck=ot("house",lk);const uk=[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]],f2=ot("indian-rupee",uk);const dk=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],hk=ot("instagram",dk);const fk=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Ku=ot("layout-dashboard",fk);const pk=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.93 4.93 4.24 4.24",key:"1ymg45"}],["path",{d:"m14.83 9.17 4.24-4.24",key:"1cb5xl"}],["path",{d:"m14.83 14.83 4.24 4.24",key:"q42g0n"}],["path",{d:"m9.17 14.83-4.24 4.24",key:"bqpfvv"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]],mk=ot("life-buoy",pk);const gk=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],xk=ot("linkedin",gk);const yk=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Ca=ot("loader-circle",yk);const bk=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],eg=ot("lock",bk);const vk=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],vl=ot("log-out",vk);const wk=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Ll=ot("mail",wk);const Ak=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],ig=ot("map-pin",Ak);const Sk=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],p2=ot("menu",Sk);const Ek=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Tk=ot("message-square",Ek);const Ck=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],_k=ot("moon",Ck);const Nk=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],ng=ot("phone",Nk);const kk=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],m2=ot("plus",kk);const jk=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],Yr=ot("printer",jk);const Mk=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],Dk=ot("receipt",Mk);const Rk=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Ok=ot("refresh-cw",Rk);const Lk=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],g2=ot("rotate-ccw",Lk);const Pk=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Bk=ot("save",Pk);const zk=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Mr=ot("search",zk);const Fk=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],x2=ot("send",Fk);const Ik=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],y2=ot("settings",Ik);const Uk=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],Hk=ot("settings-2",Uk);const Vk=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],qk=ot("shield-alert",Vk);const Gk=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],wl=ot("shield-check",Gk);const $k=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Xk=ot("shield",$k);const Yk=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],Kk=ot("shopping-bag",Yk);const Wk=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],sg=ot("shopping-cart",Wk);const Qk=[["path",{d:"M2 20h.01",key:"4haj6o"}],["path",{d:"M7 20v-4",key:"j294jx"}],["path",{d:"M12 20v-8",key:"i3yub9"}],["path",{d:"M17 20V8",key:"1tkaf5"}],["path",{d:"M22 4v16",key:"sih9yq"}]],Zk=ot("signal",Qk);const Jk=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],tj=ot("sparkles",Jk);const ej=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],b2=ot("star",ej);const ij=[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]],v2=ot("store",ij);const nj=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],sj=ot("sun",nj);const aj=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ag=ot("trash-2",aj);const rj=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],oj=ot("trending-up",rj);const lj=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],rg=ot("triangle-alert",lj);const cj=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],Pl=ot("truck",cj);const uj=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],dj=ot("twitter",uj);const hj=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],fj=ot("upload",hj);const pj=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],mj=ot("user-check",pj);const gj=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Kp=ot("user-plus",gj);const xj=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],zr=ot("user",xj);const yj=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],og=ot("users",yj);const bj=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],vj=ot("wifi",bj);const wj=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Fr=ot("x",wj);const Aj=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Wp=ot("zap",Aj),ss=k.createContext();function Sj(){const[s,t]=k.useState(!1),[e,i]=k.useState(!1),{user:a,logout:o}=k.useContext(ss),l=En();k.useEffect(()=>{const f=()=>i(window.scrollY>20);return window.addEventListener("scroll",f),()=>window.removeEventListener("scroll",f)},[]);const u=()=>{o(),t(!1),l("/login")},d=({isActive:f})=>`relative px-3 py-2 rounded-xl text-sm font-medium transition-all flex items-center gap-1.5 ${f?"text-blue-600 bg-blue-50":"text-slate-600 hover:text-blue-600 hover:bg-slate-50"}`;return m.jsxs("nav",{className:`fixed w-full z-[40] top-0 transition-all duration-300 ${e?"bg-white/80 backdrop-blur-xl shadow-lg border-b border-slate-200/50 py-2":"bg-transparent py-4"}`,children:[m.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:m.jsxs("div",{className:"flex justify-between items-center h-14",children:[m.jsxs(Vt,{to:"/",className:"flex items-center gap-2 group",children:[m.jsx("div",{className:"bg-blue-600 p-2 rounded-xl text-white shadow-lg shadow-blue-200 group-hover:scale-110 transition-transform",children:m.jsx(Yr,{size:24})}),m.jsxs("span",{className:"text-xl font-black text-slate-800 tracking-tighter",children:["Jumbo",m.jsx("span",{className:"text-blue-600",children:"Xerox"})]})]}),m.jsxs("div",{className:"hidden md:flex items-center space-x-1 bg-slate-100/50 p-1.5 rounded-2xl border border-slate-200/50",children:[m.jsxs(Xn,{to:"/",className:d,children:[m.jsx(Ku,{size:16})," Home"]}),m.jsxs(Xn,{to:"/services",className:d,children:[m.jsx(Ev,{size:16})," Services"]}),m.jsxs(Xn,{to:"/contact",className:d,children:[m.jsx(ng,{size:16})," Contact"]}),a&&m.jsxs(Xn,{to:"/dashboard",className:d,children:[m.jsx(zr,{size:16})," Dashboard"]})]}),m.jsx("div",{className:"hidden md:flex items-center gap-4",children:a?m.jsxs("div",{className:"flex items-center gap-3",children:[a.role==="admin"&&m.jsxs(Vt,{to:"/admin",className:"flex items-center gap-2 px-4 py-2 bg-slate-900 text-white text-xs font-black uppercase tracking-widest rounded-xl hover:bg-slate-800 transition-all shadow-lg shadow-slate-900/20",children:[m.jsx(wl,{size:14})," Admin"]}),m.jsx("div",{className:"h-8 w-[1px] bg-slate-200"}),m.jsxs(Vt,{to:"/profile",className:"flex items-center gap-2 pl-2 pr-4 py-1.5 rounded-xl hover:bg-slate-100 transition-all border border-transparent hover:border-slate-200 group",children:[m.jsx("div",{className:"w-8 h-8 bg-blue-100 text-blue-600 rounded-lg flex items-center justify-center font-black text-xs group-hover:scale-105 transition-transform",children:a.name.charAt(0)}),m.jsxs("div",{className:"flex flex-col",children:[m.jsx("span",{className:"text-xs font-bold text-slate-700 leading-none",children:a.name}),m.jsx("span",{className:"text-[9px] text-slate-400 font-medium",children:"Account"})]})]}),m.jsx("button",{onClick:u,className:"p-2.5 text-red-400 hover:bg-red-50 rounded-xl transition-colors",title:"Logout",children:m.jsx(vl,{size:20})})]}):m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx(Vt,{to:"/login",className:"px-6 py-2.5 text-slate-600 font-bold hover:text-blue-600 transition-colors",children:"Login"}),m.jsx(Vt,{to:"/register",className:"bg-blue-600 text-white px-6 py-2.5 rounded-xl font-bold shadow-lg shadow-blue-200 hover:bg-blue-700 hover:shadow-blue-300 transition-all active:scale-95",children:"Sign Up"})]})}),m.jsx("div",{className:"md:hidden",children:m.jsx("button",{onClick:()=>t(!s),className:"p-2 rounded-xl bg-slate-100 text-slate-700",children:s?m.jsx(Fr,{size:24}):m.jsx(p2,{size:24})})})]})}),m.jsx("div",{className:`md:hidden absolute w-full bg-white border-b border-slate-100 shadow-2xl transition-all duration-300 ease-in-out ${s?"opacity-100 translate-y-0":"opacity-0 -translate-y-4 pointer-events-none"}`,children:m.jsxs("div",{className:"flex flex-col p-6 space-y-2",children:[a&&a.role==="admin"&&m.jsxs(Vt,{to:"/admin",onClick:()=>t(!1),className:"flex items-center justify-center gap-2 p-3 bg-slate-900 text-white rounded-xl font-black uppercase tracking-widest text-xs mb-4",children:[m.jsx(wl,{size:16})," Go to Admin Console"]}),m.jsxs(Xn,{to:"/",onClick:()=>t(!1),className:({isActive:f})=>`p-3 rounded-xl font-bold flex items-center gap-3 ${f?"bg-blue-50 text-blue-600":"text-slate-600"}`,children:[m.jsx(Ku,{size:20})," Home"]}),m.jsxs(Xn,{to:"/services",onClick:()=>t(!1),className:({isActive:f})=>`p-3 rounded-xl font-bold flex items-center gap-3 ${f?"bg-blue-50 text-blue-600":"text-slate-600"}`,children:[m.jsx(Ev,{size:20})," Services"]}),a?m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"h-[1px] bg-slate-100 my-2"}),m.jsxs(Xn,{to:"/dashboard",onClick:()=>t(!1),className:"p-3 rounded-xl font-bold flex items-center gap-3 text-slate-600 hover:bg-slate-50",children:[m.jsx(zr,{size:20})," User Dashboard"]}),m.jsxs("button",{onClick:u,className:"p-3 rounded-xl font-bold flex items-center gap-3 text-red-500 hover:bg-red-50 w-full",children:[m.jsx(vl,{size:20})," Logout"]})]}):m.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4",children:[m.jsx(Vt,{to:"/login",onClick:()=>t(!1),className:"text-center p-3 rounded-xl border border-slate-200 font-bold",children:"Login"}),m.jsx(Vt,{to:"/register",onClick:()=>t(!1),className:"text-center p-3 rounded-xl bg-blue-600 text-white font-bold shadow-lg",children:"Sign Up"})]})]})})]})}const lg=k.createContext({});function cg(s){const t=k.useRef(null);return t.current===null&&(t.current=s()),t.current}const ug=typeof window<"u",w2=ug?k.useLayoutEffect:k.useEffect,xd=k.createContext(null);function dg(s,t){s.indexOf(t)===-1&&s.push(t)}function hg(s,t){const e=s.indexOf(t);e>-1&&s.splice(e,1)}const es=(s,t,e)=>e>t?t:e<s?s:e;let fg=()=>{};const is={},A2=s=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(s);function S2(s){return typeof s=="object"&&s!==null}const E2=s=>/^0[^.\s]+$/u.test(s);function pg(s){let t;return()=>(t===void 0&&(t=s()),t)}const Yi=s=>s,Ej=(s,t)=>e=>t(s(e)),Bl=(...s)=>s.reduce(Ej),Al=(s,t,e)=>{const i=t-s;return i===0?1:(e-s)/i};class mg{constructor(){this.subscriptions=[]}add(t){return dg(this.subscriptions,t),()=>hg(this.subscriptions,t)}notify(t,e,i){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,e,i);else for(let o=0;o<a;o++){const l=this.subscriptions[o];l&&l(t,e,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const wn=s=>s*1e3,Xi=s=>s/1e3;function T2(s,t){return t?s*(1e3/t):0}const C2=(s,t,e)=>(((1-3*e+3*t)*s+(3*e-6*t))*s+3*t)*s,Tj=1e-7,Cj=12;function _j(s,t,e,i,a){let o,l,u=0;do l=t+(e-t)/2,o=C2(l,i,a)-s,o>0?e=l:t=l;while(Math.abs(o)>Tj&&++u<Cj);return l}function zl(s,t,e,i){if(s===t&&e===i)return Yi;const a=o=>_j(o,0,1,s,e);return o=>o===0||o===1?o:C2(a(o),t,i)}const _2=s=>t=>t<=.5?s(2*t)/2:(2-s(2*(1-t)))/2,N2=s=>t=>1-s(1-t),k2=zl(.33,1.53,.69,.99),gg=N2(k2),j2=_2(gg),M2=s=>(s*=2)<1?.5*gg(s):.5*(2-Math.pow(2,-10*(s-1))),xg=s=>1-Math.sin(Math.acos(s)),D2=N2(xg),R2=_2(xg),Nj=zl(.42,0,1,1),kj=zl(0,0,.58,1),O2=zl(.42,0,.58,1),jj=s=>Array.isArray(s)&&typeof s[0]!="number",L2=s=>Array.isArray(s)&&typeof s[0]=="number",Mj={linear:Yi,easeIn:Nj,easeInOut:O2,easeOut:kj,circIn:xg,circInOut:R2,circOut:D2,backIn:gg,backInOut:j2,backOut:k2,anticipate:M2},Dj=s=>typeof s=="string",Tv=s=>{if(L2(s)){fg(s.length===4);const[t,e,i,a]=s;return zl(t,e,i,a)}else if(Dj(s))return Mj[s];return s},gu=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Rj(s,t){let e=new Set,i=new Set,a=!1,o=!1;const l=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function d(p){l.has(p)&&(f.schedule(p),s()),p(u)}const f={schedule:(p,g=!1,b=!1)=>{const w=b&&a?e:i;return g&&l.add(p),w.has(p)||w.add(p),p},cancel:p=>{i.delete(p),l.delete(p)},process:p=>{if(u=p,a){o=!0;return}a=!0,[e,i]=[i,e],e.forEach(d),e.clear(),a=!1,o&&(o=!1,f.process(p))}};return f}const Oj=40;function P2(s,t){let e=!1,i=!0;const a={delta:0,timestamp:0,isProcessing:!1},o=()=>e=!0,l=gu.reduce((C,j)=>(C[j]=Rj(o),C),{}),{setup:u,read:d,resolveKeyframes:f,preUpdate:p,update:g,preRender:b,render:v,postRender:w}=l,A=()=>{const C=is.useManualTiming?a.timestamp:performance.now();e=!1,is.useManualTiming||(a.delta=i?1e3/60:Math.max(Math.min(C-a.timestamp,Oj),1)),a.timestamp=C,a.isProcessing=!0,u.process(a),d.process(a),f.process(a),p.process(a),g.process(a),b.process(a),v.process(a),w.process(a),a.isProcessing=!1,e&&t&&(i=!1,s(A))},E=()=>{e=!0,i=!0,a.isProcessing||s(A)};return{schedule:gu.reduce((C,j)=>{const M=l[j];return C[j]=(R,D=!1,P=!1)=>(e||E(),M.schedule(R,D,P)),C},{}),cancel:C=>{for(let j=0;j<gu.length;j++)l[gu[j]].cancel(C)},state:a,steps:l}}const{schedule:oe,cancel:Bs,state:Ye,steps:rp}=P2(typeof requestAnimationFrame<"u"?requestAnimationFrame:Yi,!0);let Bu;function Lj(){Bu=void 0}const xi={now:()=>(Bu===void 0&&xi.set(Ye.isProcessing||is.useManualTiming?Ye.timestamp:performance.now()),Bu),set:s=>{Bu=s,queueMicrotask(Lj)}},B2=s=>t=>typeof t=="string"&&t.startsWith(s),z2=B2("--"),Pj=B2("var(--"),yg=s=>Pj(s)?Bj.test(s.split("/*")[0].trim()):!1,Bj=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Kr={test:s=>typeof s=="number",parse:parseFloat,transform:s=>s},Sl={...Kr,transform:s=>es(0,1,s)},xu={...Kr,default:1},hl=s=>Math.round(s*1e5)/1e5,bg=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function zj(s){return s==null}const Fj=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,vg=(s,t)=>e=>!!(typeof e=="string"&&Fj.test(e)&&e.startsWith(s)||t&&!zj(e)&&Object.prototype.hasOwnProperty.call(e,t)),F2=(s,t,e)=>i=>{if(typeof i!="string")return i;const[a,o,l,u]=i.match(bg);return{[s]:parseFloat(a),[t]:parseFloat(o),[e]:parseFloat(l),alpha:u!==void 0?parseFloat(u):1}},Ij=s=>es(0,255,s),op={...Kr,transform:s=>Math.round(Ij(s))},ha={test:vg("rgb","red"),parse:F2("red","green","blue"),transform:({red:s,green:t,blue:e,alpha:i=1})=>"rgba("+op.transform(s)+", "+op.transform(t)+", "+op.transform(e)+", "+hl(Sl.transform(i))+")"};function Uj(s){let t="",e="",i="",a="";return s.length>5?(t=s.substring(1,3),e=s.substring(3,5),i=s.substring(5,7),a=s.substring(7,9)):(t=s.substring(1,2),e=s.substring(2,3),i=s.substring(3,4),a=s.substring(4,5),t+=t,e+=e,i+=i,a+=a),{red:parseInt(t,16),green:parseInt(e,16),blue:parseInt(i,16),alpha:a?parseInt(a,16)/255:1}}const Qp={test:vg("#"),parse:Uj,transform:ha.transform},Fl=s=>({test:t=>typeof t=="string"&&t.endsWith(s)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${s}`}),Rs=Fl("deg"),An=Fl("%"),At=Fl("px"),Hj=Fl("vh"),Vj=Fl("vw"),Cv={...An,parse:s=>An.parse(s)/100,transform:s=>An.transform(s*100)},Sr={test:vg("hsl","hue"),parse:F2("hue","saturation","lightness"),transform:({hue:s,saturation:t,lightness:e,alpha:i=1})=>"hsla("+Math.round(s)+", "+An.transform(hl(t))+", "+An.transform(hl(e))+", "+hl(Sl.transform(i))+")"},Me={test:s=>ha.test(s)||Qp.test(s)||Sr.test(s),parse:s=>ha.test(s)?ha.parse(s):Sr.test(s)?Sr.parse(s):Qp.parse(s),transform:s=>typeof s=="string"?s:s.hasOwnProperty("red")?ha.transform(s):Sr.transform(s),getAnimatableNone:s=>{const t=Me.parse(s);return t.alpha=0,Me.transform(t)}},qj=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Gj(s){return isNaN(s)&&typeof s=="string"&&(s.match(bg)?.length||0)+(s.match(qj)?.length||0)>0}const I2="number",U2="color",$j="var",Xj="var(",_v="${}",Yj=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function El(s){const t=s.toString(),e=[],i={color:[],number:[],var:[]},a=[];let o=0;const u=t.replace(Yj,d=>(Me.test(d)?(i.color.push(o),a.push(U2),e.push(Me.parse(d))):d.startsWith(Xj)?(i.var.push(o),a.push($j),e.push(d)):(i.number.push(o),a.push(I2),e.push(parseFloat(d))),++o,_v)).split(_v);return{values:e,split:u,indexes:i,types:a}}function H2(s){return El(s).values}function V2(s){const{split:t,types:e}=El(s),i=t.length;return a=>{let o="";for(let l=0;l<i;l++)if(o+=t[l],a[l]!==void 0){const u=e[l];u===I2?o+=hl(a[l]):u===U2?o+=Me.transform(a[l]):o+=a[l]}return o}}const Kj=s=>typeof s=="number"?0:Me.test(s)?Me.getAnimatableNone(s):s;function Wj(s){const t=H2(s);return V2(s)(t.map(Kj))}const zs={test:Gj,parse:H2,createTransformer:V2,getAnimatableNone:Wj};function lp(s,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?s+(t-s)*6*e:e<1/2?t:e<2/3?s+(t-s)*(2/3-e)*6:s}function Qj({hue:s,saturation:t,lightness:e,alpha:i}){s/=360,t/=100,e/=100;let a=0,o=0,l=0;if(!t)a=o=l=e;else{const u=e<.5?e*(1+t):e+t-e*t,d=2*e-u;a=lp(d,u,s+1/3),o=lp(d,u,s),l=lp(d,u,s-1/3)}return{red:Math.round(a*255),green:Math.round(o*255),blue:Math.round(l*255),alpha:i}}function Wu(s,t){return e=>e>0?t:s}const fe=(s,t,e)=>s+(t-s)*e,cp=(s,t,e)=>{const i=s*s,a=e*(t*t-i)+i;return a<0?0:Math.sqrt(a)},Zj=[Qp,ha,Sr],Jj=s=>Zj.find(t=>t.test(s));function Nv(s){const t=Jj(s);if(!t)return!1;let e=t.parse(s);return t===Sr&&(e=Qj(e)),e}const kv=(s,t)=>{const e=Nv(s),i=Nv(t);if(!e||!i)return Wu(s,t);const a={...e};return o=>(a.red=cp(e.red,i.red,o),a.green=cp(e.green,i.green,o),a.blue=cp(e.blue,i.blue,o),a.alpha=fe(e.alpha,i.alpha,o),ha.transform(a))},Zp=new Set(["none","hidden"]);function tM(s,t){return Zp.has(s)?e=>e<=0?s:t:e=>e>=1?t:s}function eM(s,t){return e=>fe(s,t,e)}function wg(s){return typeof s=="number"?eM:typeof s=="string"?yg(s)?Wu:Me.test(s)?kv:sM:Array.isArray(s)?q2:typeof s=="object"?Me.test(s)?kv:iM:Wu}function q2(s,t){const e=[...s],i=e.length,a=s.map((o,l)=>wg(o)(o,t[l]));return o=>{for(let l=0;l<i;l++)e[l]=a[l](o);return e}}function iM(s,t){const e={...s,...t},i={};for(const a in e)s[a]!==void 0&&t[a]!==void 0&&(i[a]=wg(s[a])(s[a],t[a]));return a=>{for(const o in i)e[o]=i[o](a);return e}}function nM(s,t){const e=[],i={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const o=t.types[a],l=s.indexes[o][i[o]],u=s.values[l]??0;e[a]=u,i[o]++}return e}const sM=(s,t)=>{const e=zs.createTransformer(t),i=El(s),a=El(t);return i.indexes.var.length===a.indexes.var.length&&i.indexes.color.length===a.indexes.color.length&&i.indexes.number.length>=a.indexes.number.length?Zp.has(s)&&!a.values.length||Zp.has(t)&&!i.values.length?tM(s,t):Bl(q2(nM(i,a),a.values),e):Wu(s,t)};function G2(s,t,e){return typeof s=="number"&&typeof t=="number"&&typeof e=="number"?fe(s,t,e):wg(s)(s,t)}const aM=s=>{const t=({timestamp:e})=>s(e);return{start:(e=!0)=>oe.update(t,e),stop:()=>Bs(t),now:()=>Ye.isProcessing?Ye.timestamp:xi.now()}},$2=(s,t,e=10)=>{let i="";const a=Math.max(Math.round(t/e),2);for(let o=0;o<a;o++)i+=Math.round(s(o/(a-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},Qu=2e4;function Ag(s){let t=0;const e=50;let i=s.next(t);for(;!i.done&&t<Qu;)t+=e,i=s.next(t);return t>=Qu?1/0:t}function rM(s,t=100,e){const i=e({...s,keyframes:[0,t]}),a=Math.min(Ag(i),Qu);return{type:"keyframes",ease:o=>i.next(a*o).value/t,duration:Xi(a)}}const oM=5;function X2(s,t,e){const i=Math.max(t-oM,0);return T2(e-s(i),t-i)}const be={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},up=.001;function lM({duration:s=be.duration,bounce:t=be.bounce,velocity:e=be.velocity,mass:i=be.mass}){let a,o,l=1-t;l=es(be.minDamping,be.maxDamping,l),s=es(be.minDuration,be.maxDuration,Xi(s)),l<1?(a=f=>{const p=f*l,g=p*s,b=p-e,v=Jp(f,l),w=Math.exp(-g);return up-b/v*w},o=f=>{const g=f*l*s,b=g*e+e,v=Math.pow(l,2)*Math.pow(f,2)*s,w=Math.exp(-g),A=Jp(Math.pow(f,2),l);return(-a(f)+up>0?-1:1)*((b-v)*w)/A}):(a=f=>{const p=Math.exp(-f*s),g=(f-e)*s+1;return-up+p*g},o=f=>{const p=Math.exp(-f*s),g=(e-f)*(s*s);return p*g});const u=5/s,d=uM(a,o,u);if(s=wn(s),isNaN(d))return{stiffness:be.stiffness,damping:be.damping,duration:s};{const f=Math.pow(d,2)*i;return{stiffness:f,damping:l*2*Math.sqrt(i*f),duration:s}}}const cM=12;function uM(s,t,e){let i=e;for(let a=1;a<cM;a++)i=i-s(i)/t(i);return i}function Jp(s,t){return s*Math.sqrt(1-t*t)}const dM=["duration","bounce"],hM=["stiffness","damping","mass"];function jv(s,t){return t.some(e=>s[e]!==void 0)}function fM(s){let t={velocity:be.velocity,stiffness:be.stiffness,damping:be.damping,mass:be.mass,isResolvedFromDuration:!1,...s};if(!jv(s,hM)&&jv(s,dM))if(s.visualDuration){const e=s.visualDuration,i=2*Math.PI/(e*1.2),a=i*i,o=2*es(.05,1,1-(s.bounce||0))*Math.sqrt(a);t={...t,mass:be.mass,stiffness:a,damping:o}}else{const e=lM(s);t={...t,...e,mass:be.mass},t.isResolvedFromDuration=!0}return t}function Zu(s=be.visualDuration,t=be.bounce){const e=typeof s!="object"?{visualDuration:s,keyframes:[0,1],bounce:t}:s;let{restSpeed:i,restDelta:a}=e;const o=e.keyframes[0],l=e.keyframes[e.keyframes.length-1],u={done:!1,value:o},{stiffness:d,damping:f,mass:p,duration:g,velocity:b,isResolvedFromDuration:v}=fM({...e,velocity:-Xi(e.velocity||0)}),w=b||0,A=f/(2*Math.sqrt(d*p)),E=l-o,T=Xi(Math.sqrt(d/p)),_=Math.abs(E)<5;i||(i=_?be.restSpeed.granular:be.restSpeed.default),a||(a=_?be.restDelta.granular:be.restDelta.default);let C;if(A<1){const M=Jp(T,A);C=R=>{const D=Math.exp(-A*T*R);return l-D*((w+A*T*E)/M*Math.sin(M*R)+E*Math.cos(M*R))}}else if(A===1)C=M=>l-Math.exp(-T*M)*(E+(w+T*E)*M);else{const M=T*Math.sqrt(A*A-1);C=R=>{const D=Math.exp(-A*T*R),P=Math.min(M*R,300);return l-D*((w+A*T*E)*Math.sinh(P)+M*E*Math.cosh(P))/M}}const j={calculatedDuration:v&&g||null,next:M=>{const R=C(M);if(v)u.done=M>=g;else{let D=M===0?w:0;A<1&&(D=M===0?wn(w):X2(C,M,R));const P=Math.abs(D)<=i,X=Math.abs(l-R)<=a;u.done=P&&X}return u.value=u.done?l:R,u},toString:()=>{const M=Math.min(Ag(j),Qu),R=$2(D=>j.next(M*D).value,M,30);return M+"ms "+R},toTransition:()=>{}};return j}Zu.applyToOptions=s=>{const t=rM(s,100,Zu);return s.ease=t.ease,s.duration=wn(t.duration),s.type="keyframes",s};function tm({keyframes:s,velocity:t=0,power:e=.8,timeConstant:i=325,bounceDamping:a=10,bounceStiffness:o=500,modifyTarget:l,min:u,max:d,restDelta:f=.5,restSpeed:p}){const g=s[0],b={done:!1,value:g},v=P=>u!==void 0&&P<u||d!==void 0&&P>d,w=P=>u===void 0?d:d===void 0||Math.abs(u-P)<Math.abs(d-P)?u:d;let A=e*t;const E=g+A,T=l===void 0?E:l(E);T!==E&&(A=T-g);const _=P=>-A*Math.exp(-P/i),C=P=>T+_(P),j=P=>{const X=_(P),V=C(P);b.done=Math.abs(X)<=f,b.value=b.done?T:V};let M,R;const D=P=>{v(b.value)&&(M=P,R=Zu({keyframes:[b.value,w(b.value)],velocity:X2(C,P,b.value),damping:a,stiffness:o,restDelta:f,restSpeed:p}))};return D(0),{calculatedDuration:null,next:P=>{let X=!1;return!R&&M===void 0&&(X=!0,j(P),D(P)),M!==void 0&&P>=M?R.next(P-M):(!X&&j(P),b)}}}function pM(s,t,e){const i=[],a=e||is.mix||G2,o=s.length-1;for(let l=0;l<o;l++){let u=a(s[l],s[l+1]);if(t){const d=Array.isArray(t)?t[l]||Yi:t;u=Bl(d,u)}i.push(u)}return i}function mM(s,t,{clamp:e=!0,ease:i,mixer:a}={}){const o=s.length;if(fg(o===t.length),o===1)return()=>t[0];if(o===2&&t[0]===t[1])return()=>t[1];const l=s[0]===s[1];s[0]>s[o-1]&&(s=[...s].reverse(),t=[...t].reverse());const u=pM(t,i,a),d=u.length,f=p=>{if(l&&p<s[0])return t[0];let g=0;if(d>1)for(;g<s.length-2&&!(p<s[g+1]);g++);const b=Al(s[g],s[g+1],p);return u[g](b)};return e?p=>f(es(s[0],s[o-1],p)):f}function gM(s,t){const e=s[s.length-1];for(let i=1;i<=t;i++){const a=Al(0,t,i);s.push(fe(e,1,a))}}function xM(s){const t=[0];return gM(t,s.length-1),t}function yM(s,t){return s.map(e=>e*t)}function bM(s,t){return s.map(()=>t||O2).splice(0,s.length-1)}function fl({duration:s=300,keyframes:t,times:e,ease:i="easeInOut"}){const a=jj(i)?i.map(Tv):Tv(i),o={done:!1,value:t[0]},l=yM(e&&e.length===t.length?e:xM(t),s),u=mM(l,t,{ease:Array.isArray(a)?a:bM(t,a)});return{calculatedDuration:s,next:d=>(o.value=u(d),o.done=d>=s,o)}}const vM=s=>s!==null;function Sg(s,{repeat:t,repeatType:e="loop"},i,a=1){const o=s.filter(vM),u=a<0||t&&e!=="loop"&&t%2===1?0:o.length-1;return!u||i===void 0?o[u]:i}const wM={decay:tm,inertia:tm,tween:fl,keyframes:fl,spring:Zu};function Y2(s){typeof s.type=="string"&&(s.type=wM[s.type])}class Eg{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,e){return this.finished.then(t,e)}}const AM=s=>s/100;class Tg extends Eg{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:e}=this.options;e&&e.updatedAt!==xi.now()&&this.tick(xi.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;Y2(t);const{type:e=fl,repeat:i=0,repeatDelay:a=0,repeatType:o,velocity:l=0}=t;let{keyframes:u}=t;const d=e||fl;d!==fl&&typeof u[0]!="number"&&(this.mixKeyframes=Bl(AM,G2(u[0],u[1])),u=[0,100]);const f=d({...t,keyframes:u});o==="mirror"&&(this.mirroredGenerator=d({...t,keyframes:[...u].reverse(),velocity:-l})),f.calculatedDuration===null&&(f.calculatedDuration=Ag(f));const{calculatedDuration:p}=f;this.calculatedDuration=p,this.resolvedDuration=p+a,this.totalDuration=this.resolvedDuration*(i+1)-a,this.generator=f}updateTime(t){const e=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=e}tick(t,e=!1){const{generator:i,totalDuration:a,mixKeyframes:o,mirroredGenerator:l,resolvedDuration:u,calculatedDuration:d}=this;if(this.startTime===null)return i.next(0);const{delay:f=0,keyframes:p,repeat:g,repeatType:b,repeatDelay:v,type:w,onUpdate:A,finalKeyframe:E}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),e?this.currentTime=t:this.updateTime(t);const T=this.currentTime-f*(this.playbackSpeed>=0?1:-1),_=this.playbackSpeed>=0?T<0:T>a;this.currentTime=Math.max(T,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let C=this.currentTime,j=i;if(g){const P=Math.min(this.currentTime,a)/u;let X=Math.floor(P),V=P%1;!V&&P>=1&&(V=1),V===1&&X--,X=Math.min(X,g+1),X%2&&(b==="reverse"?(V=1-V,v&&(V-=v/u)):b==="mirror"&&(j=l)),C=es(0,1,V)*u}const M=_?{done:!1,value:p[0]}:j.next(C);o&&(M.value=o(M.value));let{done:R}=M;!_&&d!==null&&(R=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const D=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&R);return D&&w!==tm&&(M.value=Sg(p,this.options,E,this.speed)),A&&A(M.value),D&&this.finish(),M}then(t,e){return this.finished.then(t,e)}get duration(){return Xi(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Xi(t)}get time(){return Xi(this.currentTime)}set time(t){t=wn(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(xi.now());const e=this.playbackSpeed!==t;this.playbackSpeed=t,e&&(this.time=Xi(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=aM,startTime:e}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=e??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(xi.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function SM(s){for(let t=1;t<s.length;t++)s[t]??(s[t]=s[t-1])}const fa=s=>s*180/Math.PI,em=s=>{const t=fa(Math.atan2(s[1],s[0]));return im(t)},EM={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:s=>(Math.abs(s[0])+Math.abs(s[3]))/2,rotate:em,rotateZ:em,skewX:s=>fa(Math.atan(s[1])),skewY:s=>fa(Math.atan(s[2])),skew:s=>(Math.abs(s[1])+Math.abs(s[2]))/2},im=s=>(s=s%360,s<0&&(s+=360),s),Mv=em,Dv=s=>Math.sqrt(s[0]*s[0]+s[1]*s[1]),Rv=s=>Math.sqrt(s[4]*s[4]+s[5]*s[5]),TM={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Dv,scaleY:Rv,scale:s=>(Dv(s)+Rv(s))/2,rotateX:s=>im(fa(Math.atan2(s[6],s[5]))),rotateY:s=>im(fa(Math.atan2(-s[2],s[0]))),rotateZ:Mv,rotate:Mv,skewX:s=>fa(Math.atan(s[4])),skewY:s=>fa(Math.atan(s[1])),skew:s=>(Math.abs(s[1])+Math.abs(s[4]))/2};function nm(s){return s.includes("scale")?1:0}function sm(s,t){if(!s||s==="none")return nm(t);const e=s.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,a;if(e)i=TM,a=e;else{const u=s.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=EM,a=u}if(!a)return nm(t);const o=i[t],l=a[1].split(",").map(_M);return typeof o=="function"?o(l):l[o]}const CM=(s,t)=>{const{transform:e="none"}=getComputedStyle(s);return sm(e,t)};function _M(s){return parseFloat(s.trim())}const Wr=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Qr=new Set(Wr),Ov=s=>s===Kr||s===At,NM=new Set(["x","y","z"]),kM=Wr.filter(s=>!NM.has(s));function jM(s){const t=[];return kM.forEach(e=>{const i=s.getValue(e);i!==void 0&&(t.push([e,i.get()]),i.set(e.startsWith("scale")?1:0))}),t}const ba={width:({x:s},{paddingLeft:t="0",paddingRight:e="0"})=>s.max-s.min-parseFloat(t)-parseFloat(e),height:({y:s},{paddingTop:t="0",paddingBottom:e="0"})=>s.max-s.min-parseFloat(t)-parseFloat(e),top:(s,{top:t})=>parseFloat(t),left:(s,{left:t})=>parseFloat(t),bottom:({y:s},{top:t})=>parseFloat(t)+(s.max-s.min),right:({x:s},{left:t})=>parseFloat(t)+(s.max-s.min),x:(s,{transform:t})=>sm(t,"x"),y:(s,{transform:t})=>sm(t,"y")};ba.translateX=ba.x;ba.translateY=ba.y;const va=new Set;let am=!1,rm=!1,om=!1;function K2(){if(rm){const s=Array.from(va).filter(i=>i.needsMeasurement),t=new Set(s.map(i=>i.element)),e=new Map;t.forEach(i=>{const a=jM(i);a.length&&(e.set(i,a),i.render())}),s.forEach(i=>i.measureInitialState()),t.forEach(i=>{i.render();const a=e.get(i);a&&a.forEach(([o,l])=>{i.getValue(o)?.set(l)})}),s.forEach(i=>i.measureEndState()),s.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}rm=!1,am=!1,va.forEach(s=>s.complete(om)),va.clear()}function W2(){va.forEach(s=>{s.readKeyframes(),s.needsMeasurement&&(rm=!0)})}function MM(){om=!0,W2(),K2(),om=!1}class Cg{constructor(t,e,i,a,o,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=e,this.name=i,this.motionValue=a,this.element=o,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(va.add(this),am||(am=!0,oe.read(W2),oe.resolveKeyframes(K2))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:e,element:i,motionValue:a}=this;if(t[0]===null){const o=a?.get(),l=t[t.length-1];if(o!==void 0)t[0]=o;else if(i&&e){const u=i.readValue(e,l);u!=null&&(t[0]=u)}t[0]===void 0&&(t[0]=l),a&&o===void 0&&a.set(t[0])}SM(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),va.delete(this)}cancel(){this.state==="scheduled"&&(va.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const DM=s=>s.startsWith("--");function RM(s,t,e){DM(t)?s.style.setProperty(t,e):s.style[t]=e}const OM=pg(()=>window.ScrollTimeline!==void 0),LM={};function PM(s,t){const e=pg(s);return()=>LM[t]??e()}const Q2=PM(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ol=([s,t,e,i])=>`cubic-bezier(${s}, ${t}, ${e}, ${i})`,Lv={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ol([0,.65,.55,1]),circOut:ol([.55,0,1,.45]),backIn:ol([.31,.01,.66,-.59]),backOut:ol([.33,1.53,.69,.99])};function Z2(s,t){if(s)return typeof s=="function"?Q2()?$2(s,t):"ease-out":L2(s)?ol(s):Array.isArray(s)?s.map(e=>Z2(e,t)||Lv.easeOut):Lv[s]}function BM(s,t,e,{delay:i=0,duration:a=300,repeat:o=0,repeatType:l="loop",ease:u="easeOut",times:d}={},f=void 0){const p={[t]:e};d&&(p.offset=d);const g=Z2(u,a);Array.isArray(g)&&(p.easing=g);const b={delay:i,duration:a,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:o+1,direction:l==="reverse"?"alternate":"normal"};return f&&(b.pseudoElement=f),s.animate(p,b)}function J2(s){return typeof s=="function"&&"applyToOptions"in s}function zM({type:s,...t}){return J2(s)&&Q2()?s.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class FM extends Eg{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:e,name:i,keyframes:a,pseudoElement:o,allowFlatten:l=!1,finalKeyframe:u,onComplete:d}=t;this.isPseudoElement=!!o,this.allowFlatten=l,this.options=t,fg(typeof t.type!="string");const f=zM(t);this.animation=BM(e,i,a,f,o),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const p=Sg(a,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(p):RM(e,i,p),this.animation.cancel()}d?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return Xi(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Xi(t)}get time(){return Xi(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=wn(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:e}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&OM()?(this.animation.timeline=t,Yi):e(this)}}const tA={anticipate:M2,backInOut:j2,circInOut:R2};function IM(s){return s in tA}function UM(s){typeof s.ease=="string"&&IM(s.ease)&&(s.ease=tA[s.ease])}const Pv=10;class HM extends FM{constructor(t){UM(t),Y2(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:e,onUpdate:i,onComplete:a,element:o,...l}=this.options;if(!e)return;if(t!==void 0){e.set(t);return}const u=new Tg({...l,autoplay:!1}),d=wn(this.finishedTime??this.time);e.setWithVelocity(u.sample(d-Pv).value,u.sample(d).value,Pv),u.stop()}}const Bv=(s,t)=>t==="zIndex"?!1:!!(typeof s=="number"||Array.isArray(s)||typeof s=="string"&&(zs.test(s)||s==="0")&&!s.startsWith("url("));function VM(s){const t=s[0];if(s.length===1)return!0;for(let e=0;e<s.length;e++)if(s[e]!==t)return!0}function qM(s,t,e,i){const a=s[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const o=s[s.length-1],l=Bv(a,t),u=Bv(o,t);return!l||!u?!1:VM(s)||(e==="spring"||J2(e))&&i}function lm(s){s.duration=0,s.type="keyframes"}const GM=new Set(["opacity","clipPath","filter","transform"]),$M=pg(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function XM(s){const{motionValue:t,name:e,repeatDelay:i,repeatType:a,damping:o,type:l}=s;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:f}=t.owner.getProps();return $M()&&e&&GM.has(e)&&(e!=="transform"||!f)&&!d&&!i&&a!=="mirror"&&o!==0&&l!=="inertia"}const YM=40;class KM extends Eg{constructor({autoplay:t=!0,delay:e=0,type:i="keyframes",repeat:a=0,repeatDelay:o=0,repeatType:l="loop",keyframes:u,name:d,motionValue:f,element:p,...g}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=xi.now();const b={autoplay:t,delay:e,type:i,repeat:a,repeatDelay:o,repeatType:l,name:d,motionValue:f,element:p,...g},v=p?.KeyframeResolver||Cg;this.keyframeResolver=new v(u,(w,A,E)=>this.onKeyframesResolved(w,A,b,!E),d,f,p),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,e,i,a){this.keyframeResolver=void 0;const{name:o,type:l,velocity:u,delay:d,isHandoff:f,onUpdate:p}=i;this.resolvedAt=xi.now(),qM(t,o,l,u)||((is.instantAnimations||!d)&&p?.(Sg(t,i,e)),t[0]=t[t.length-1],lm(i),i.repeat=0);const b={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>YM?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:e,...i,keyframes:t},v=!f&&XM(b)?new HM({...b,element:b.motionValue.owner.current}):new Tg(b);v.finished.then(()=>this.notifyFinished()).catch(Yi),this.pendingTimeline&&(this.stopTimeline=v.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=v}get finished(){return this._animation?this.animation.finished:this._finished}then(t,e){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),MM()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const WM=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function QM(s){const t=WM.exec(s);if(!t)return[,];const[,e,i,a]=t;return[`--${e??i}`,a]}function eA(s,t,e=1){const[i,a]=QM(s);if(!i)return;const o=window.getComputedStyle(t).getPropertyValue(i);if(o){const l=o.trim();return A2(l)?parseFloat(l):l}return yg(a)?eA(a,t,e+1):a}function _g(s,t){return s?.[t]??s?.default??s}const iA=new Set(["width","height","top","left","right","bottom",...Wr]),ZM={test:s=>s==="auto",parse:s=>s},nA=s=>t=>t.test(s),sA=[Kr,At,An,Rs,Vj,Hj,ZM],zv=s=>sA.find(nA(s));function JM(s){return typeof s=="number"?s===0:s!==null?s==="none"||s==="0"||E2(s):!0}const tD=new Set(["brightness","contrast","saturate","opacity"]);function eD(s){const[t,e]=s.slice(0,-1).split("(");if(t==="drop-shadow")return s;const[i]=e.match(bg)||[];if(!i)return s;const a=e.replace(i,"");let o=tD.has(t)?1:0;return i!==e&&(o*=100),t+"("+o+a+")"}const iD=/\b([a-z-]*)\(.*?\)/gu,cm={...zs,getAnimatableNone:s=>{const t=s.match(iD);return t?t.map(eD).join(" "):s}},Fv={...Kr,transform:Math.round},nD={rotate:Rs,rotateX:Rs,rotateY:Rs,rotateZ:Rs,scale:xu,scaleX:xu,scaleY:xu,scaleZ:xu,skew:Rs,skewX:Rs,skewY:Rs,distance:At,translateX:At,translateY:At,translateZ:At,x:At,y:At,z:At,perspective:At,transformPerspective:At,opacity:Sl,originX:Cv,originY:Cv,originZ:At},Ng={borderWidth:At,borderTopWidth:At,borderRightWidth:At,borderBottomWidth:At,borderLeftWidth:At,borderRadius:At,radius:At,borderTopLeftRadius:At,borderTopRightRadius:At,borderBottomRightRadius:At,borderBottomLeftRadius:At,width:At,maxWidth:At,height:At,maxHeight:At,top:At,right:At,bottom:At,left:At,padding:At,paddingTop:At,paddingRight:At,paddingBottom:At,paddingLeft:At,margin:At,marginTop:At,marginRight:At,marginBottom:At,marginLeft:At,backgroundPositionX:At,backgroundPositionY:At,...nD,zIndex:Fv,fillOpacity:Sl,strokeOpacity:Sl,numOctaves:Fv},sD={...Ng,color:Me,backgroundColor:Me,outlineColor:Me,fill:Me,stroke:Me,borderColor:Me,borderTopColor:Me,borderRightColor:Me,borderBottomColor:Me,borderLeftColor:Me,filter:cm,WebkitFilter:cm},aA=s=>sD[s];function rA(s,t){let e=aA(s);return e!==cm&&(e=zs),e.getAnimatableNone?e.getAnimatableNone(t):void 0}const aD=new Set(["auto","none","0"]);function rD(s,t,e){let i=0,a;for(;i<s.length&&!a;){const o=s[i];typeof o=="string"&&!aD.has(o)&&El(o).values.length&&(a=s[i]),i++}if(a&&e)for(const o of t)s[o]=rA(e,a)}class oD extends Cg{constructor(t,e,i,a,o){super(t,e,i,a,o,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:e,name:i}=this;if(!e||!e.current)return;super.readKeyframes();for(let d=0;d<t.length;d++){let f=t[d];if(typeof f=="string"&&(f=f.trim(),yg(f))){const p=eA(f,e.current);p!==void 0&&(t[d]=p),d===t.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!iA.has(i)||t.length!==2)return;const[a,o]=t,l=zv(a),u=zv(o);if(l!==u)if(Ov(l)&&Ov(u))for(let d=0;d<t.length;d++){const f=t[d];typeof f=="string"&&(t[d]=parseFloat(f))}else ba[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:e}=this,i=[];for(let a=0;a<t.length;a++)(t[a]===null||JM(t[a]))&&i.push(a);i.length&&rD(t,i,e)}measureInitialState(){const{element:t,unresolvedKeyframes:e,name:i}=this;if(!t||!t.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ba[i](t.measureViewportBox(),window.getComputedStyle(t.current)),e[0]=this.measuredOrigin;const a=e[e.length-1];a!==void 0&&t.getValue(i,a).jump(a,!1)}measureEndState(){const{element:t,name:e,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const a=t.getValue(e);a&&a.jump(this.measuredOrigin,!1);const o=i.length-1,l=i[o];i[o]=ba[e](t.measureViewportBox(),window.getComputedStyle(t.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),this.removedTransforms?.length&&this.removedTransforms.forEach(([u,d])=>{t.getValue(u).set(d)}),this.resolveNoneKeyframes()}}function lD(s,t,e){if(s instanceof EventTarget)return[s];if(typeof s=="string"){let i=document;const a=e?.[s]??i.querySelectorAll(s);return a?Array.from(a):[]}return Array.from(s)}const oA=(s,t)=>t&&typeof s=="number"?t.transform(s):s;function lA(s){return S2(s)&&"offsetHeight"in s}const Iv=30,cD=s=>!isNaN(parseFloat(s));class uD{constructor(t,e={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const a=xi.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=e.owner}setCurrent(t){this.current=t,this.updatedAt=xi.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=cD(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,e){this.events[t]||(this.events[t]=new mg);const i=this.events[t].add(e);return t==="change"?()=>{i(),oe.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,e){this.passiveEffect=t,this.stopPassiveEffect=e}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,e,i){this.set(e),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-i}jump(t,e=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,e&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=xi.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Iv)return 0;const e=Math.min(this.updatedAt-this.prevUpdatedAt,Iv);return T2(parseFloat(this.current)-parseFloat(this.prevFrameValue),e)}start(t){return this.stop(),new Promise(e=>{this.hasAnimated=!0,this.animation=t(e),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ir(s,t){return new uD(s,t)}const{schedule:kg}=P2(queueMicrotask,!1),nn={x:!1,y:!1};function cA(){return nn.x||nn.y}function dD(s){return s==="x"||s==="y"?nn[s]?null:(nn[s]=!0,()=>{nn[s]=!1}):nn.x||nn.y?null:(nn.x=nn.y=!0,()=>{nn.x=nn.y=!1})}function uA(s,t){const e=lD(s),i=new AbortController,a={passive:!0,...t,signal:i.signal};return[e,a,()=>i.abort()]}function Uv(s){return!(s.pointerType==="touch"||cA())}function hD(s,t,e={}){const[i,a,o]=uA(s,e),l=u=>{if(!Uv(u))return;const{target:d}=u,f=t(d,u);if(typeof f!="function"||!d)return;const p=g=>{Uv(g)&&(f(g),d.removeEventListener("pointerleave",p))};d.addEventListener("pointerleave",p,a)};return i.forEach(u=>{u.addEventListener("pointerenter",l,a)}),o}const dA=(s,t)=>t?s===t?!0:dA(s,t.parentElement):!1,jg=s=>s.pointerType==="mouse"?typeof s.button!="number"||s.button<=0:s.isPrimary!==!1,fD=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function pD(s){return fD.has(s.tagName)||s.tabIndex!==-1}const zu=new WeakSet;function Hv(s){return t=>{t.key==="Enter"&&s(t)}}function dp(s,t){s.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const mD=(s,t)=>{const e=s.currentTarget;if(!e)return;const i=Hv(()=>{if(zu.has(e))return;dp(e,"down");const a=Hv(()=>{dp(e,"up")}),o=()=>dp(e,"cancel");e.addEventListener("keyup",a,t),e.addEventListener("blur",o,t)});e.addEventListener("keydown",i,t),e.addEventListener("blur",()=>e.removeEventListener("keydown",i),t)};function Vv(s){return jg(s)&&!cA()}function gD(s,t,e={}){const[i,a,o]=uA(s,e),l=u=>{const d=u.currentTarget;if(!Vv(u))return;zu.add(d);const f=t(d,u),p=(v,w)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",b),zu.has(d)&&zu.delete(d),Vv(v)&&typeof f=="function"&&f(v,{success:w})},g=v=>{p(v,d===window||d===document||e.useGlobalTarget||dA(d,v.target))},b=v=>{p(v,!1)};window.addEventListener("pointerup",g,a),window.addEventListener("pointercancel",b,a)};return i.forEach(u=>{(e.useGlobalTarget?window:u).addEventListener("pointerdown",l,a),lA(u)&&(u.addEventListener("focus",f=>mD(f,a)),!pD(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),o}function hA(s){return S2(s)&&"ownerSVGElement"in s}function xD(s){return hA(s)&&s.tagName==="svg"}const Je=s=>!!(s&&s.getVelocity),yD=[...sA,Me,zs],bD=s=>yD.find(nA(s)),Mg=k.createContext({transformPagePoint:s=>s,isStatic:!1,reducedMotion:"never"});function qv(s,t){if(typeof s=="function")return s(t);s!=null&&(s.current=t)}function vD(...s){return t=>{let e=!1;const i=s.map(a=>{const o=qv(a,t);return!e&&typeof o=="function"&&(e=!0),o});if(e)return()=>{for(let a=0;a<i.length;a++){const o=i[a];typeof o=="function"?o():qv(s[a],null)}}}}function wD(...s){return k.useCallback(vD(...s),s)}class AD extends k.Component{getSnapshotBeforeUpdate(t){const e=this.props.childRef.current;if(e&&t.isPresent&&!this.props.isPresent){const i=e.offsetParent,a=lA(i)&&i.offsetWidth||0,o=this.props.sizeRef.current;o.height=e.offsetHeight||0,o.width=e.offsetWidth||0,o.top=e.offsetTop,o.left=e.offsetLeft,o.right=a-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function SD({children:s,isPresent:t,anchorX:e,root:i}){const a=k.useId(),o=k.useRef(null),l=k.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:u}=k.useContext(Mg),d=wD(o,s?.ref);return k.useInsertionEffect(()=>{const{width:f,height:p,top:g,left:b,right:v}=l.current;if(t||!o.current||!f||!p)return;const w=e==="left"?`left: ${b}`:`right: ${v}`;o.current.dataset.motionPopId=a;const A=document.createElement("style");u&&(A.nonce=u);const E=i??document.head;return E.appendChild(A),A.sheet&&A.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${f}px !important;
            height: ${p}px !important;
            ${w}px !important;
            top: ${g}px !important;
          }
        `),()=>{E.contains(A)&&E.removeChild(A)}},[t]),m.jsx(AD,{isPresent:t,childRef:o,sizeRef:l,children:k.cloneElement(s,{ref:d})})}const ED=({children:s,initial:t,isPresent:e,onExitComplete:i,custom:a,presenceAffectsLayout:o,mode:l,anchorX:u,root:d})=>{const f=cg(TD),p=k.useId();let g=!0,b=k.useMemo(()=>(g=!1,{id:p,initial:t,isPresent:e,custom:a,onExitComplete:v=>{f.set(v,!0);for(const w of f.values())if(!w)return;i&&i()},register:v=>(f.set(v,!1),()=>f.delete(v))}),[e,f,i]);return o&&g&&(b={...b}),k.useMemo(()=>{f.forEach((v,w)=>f.set(w,!1))},[e]),k.useEffect(()=>{!e&&!f.size&&i&&i()},[e]),l==="popLayout"&&(s=m.jsx(SD,{isPresent:e,anchorX:u,root:d,children:s})),m.jsx(xd.Provider,{value:b,children:s})};function TD(){return new Map}function fA(s=!0){const t=k.useContext(xd);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:i,register:a}=t,o=k.useId();k.useEffect(()=>{if(s)return a(o)},[s]);const l=k.useCallback(()=>s&&i&&i(o),[o,i,s]);return!e&&i?[!1,l]:[!0]}const yu=s=>s.key||"";function Gv(s){const t=[];return k.Children.forEach(s,e=>{k.isValidElement(e)&&t.push(e)}),t}const Qn=({children:s,custom:t,initial:e=!0,onExitComplete:i,presenceAffectsLayout:a=!0,mode:o="sync",propagate:l=!1,anchorX:u="left",root:d})=>{const[f,p]=fA(l),g=k.useMemo(()=>Gv(s),[s]),b=l&&!f?[]:g.map(yu),v=k.useRef(!0),w=k.useRef(g),A=cg(()=>new Map),[E,T]=k.useState(g),[_,C]=k.useState(g);w2(()=>{v.current=!1,w.current=g;for(let R=0;R<_.length;R++){const D=yu(_[R]);b.includes(D)?A.delete(D):A.get(D)!==!0&&A.set(D,!1)}},[_,b.length,b.join("-")]);const j=[];if(g!==E){let R=[...g];for(let D=0;D<_.length;D++){const P=_[D],X=yu(P);b.includes(X)||(R.splice(D,0,P),j.push(P))}return o==="wait"&&j.length&&(R=j),C(Gv(R)),T(g),null}const{forceRender:M}=k.useContext(lg);return m.jsx(m.Fragment,{children:_.map(R=>{const D=yu(R),P=l&&!f?!1:g===_||b.includes(D),X=()=>{if(A.has(D))A.set(D,!0);else return;let V=!0;A.forEach(W=>{W||(V=!1)}),V&&(M?.(),C(w.current),l&&p?.(),i&&i())};return m.jsx(ED,{isPresent:P,initial:!v.current||e?void 0:!1,custom:t,presenceAffectsLayout:a,mode:o,root:d,onExitComplete:P?void 0:X,anchorX:u,children:R},D)})})},pA=k.createContext({strict:!1}),$v={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ur={};for(const s in $v)Ur[s]={isEnabled:t=>$v[s].some(e=>!!t[e])};function CD(s){for(const t in s)Ur[t]={...Ur[t],...s[t]}}const _D=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ju(s){return s.startsWith("while")||s.startsWith("drag")&&s!=="draggable"||s.startsWith("layout")||s.startsWith("onTap")||s.startsWith("onPan")||s.startsWith("onLayout")||_D.has(s)}let mA=s=>!Ju(s);function ND(s){typeof s=="function"&&(mA=t=>t.startsWith("on")?!Ju(t):s(t))}try{ND(require("@emotion/is-prop-valid").default)}catch{}function kD(s,t,e){const i={};for(const a in s)a==="values"&&typeof s.values=="object"||(mA(a)||e===!0&&Ju(a)||!t&&!Ju(a)||s.draggable&&a.startsWith("onDrag"))&&(i[a]=s[a]);return i}const yd=k.createContext({});function bd(s){return s!==null&&typeof s=="object"&&typeof s.start=="function"}function Tl(s){return typeof s=="string"||Array.isArray(s)}const Dg=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Rg=["initial",...Dg];function vd(s){return bd(s.animate)||Rg.some(t=>Tl(s[t]))}function gA(s){return!!(vd(s)||s.variants)}function jD(s,t){if(vd(s)){const{initial:e,animate:i}=s;return{initial:e===!1||Tl(e)?e:void 0,animate:Tl(i)?i:void 0}}return s.inherit!==!1?t:{}}function MD(s){const{initial:t,animate:e}=jD(s,k.useContext(yd));return k.useMemo(()=>({initial:t,animate:e}),[Xv(t),Xv(e)])}function Xv(s){return Array.isArray(s)?s.join(" "):s}function Yv(s,t){return t.max===t.min?0:s/(t.max-t.min)*100}const tl={correct:(s,t)=>{if(!t.target)return s;if(typeof s=="string")if(At.test(s))s=parseFloat(s);else return s;const e=Yv(s,t.target.x),i=Yv(s,t.target.y);return`${e}% ${i}%`}},DD={correct:(s,{treeScale:t,projectionDelta:e})=>{const i=s,a=zs.parse(s);if(a.length>5)return i;const o=zs.createTransformer(s),l=typeof a[0]!="number"?1:0,u=e.x.scale*t.x,d=e.y.scale*t.y;a[0+l]/=u,a[1+l]/=d;const f=fe(u,d,.5);return typeof a[2+l]=="number"&&(a[2+l]/=f),typeof a[3+l]=="number"&&(a[3+l]/=f),o(a)}},um={borderRadius:{...tl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:tl,borderTopRightRadius:tl,borderBottomLeftRadius:tl,borderBottomRightRadius:tl,boxShadow:DD};function xA(s,{layout:t,layoutId:e}){return Qr.has(s)||s.startsWith("origin")||(t||e!==void 0)&&(!!um[s]||s==="opacity")}const RD={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},OD=Wr.length;function LD(s,t,e){let i="",a=!0;for(let o=0;o<OD;o++){const l=Wr[o],u=s[l];if(u===void 0)continue;let d=!0;if(typeof u=="number"?d=u===(l.startsWith("scale")?1:0):d=parseFloat(u)===0,!d||e){const f=oA(u,Ng[l]);if(!d){a=!1;const p=RD[l]||l;i+=`${p}(${f}) `}e&&(t[l]=f)}}return i=i.trim(),e?i=e(t,a?"":i):a&&(i="none"),i}function Og(s,t,e){const{style:i,vars:a,transformOrigin:o}=s;let l=!1,u=!1;for(const d in t){const f=t[d];if(Qr.has(d)){l=!0;continue}else if(z2(d)){a[d]=f;continue}else{const p=oA(f,Ng[d]);d.startsWith("origin")?(u=!0,o[d]=p):i[d]=p}}if(t.transform||(l||e?i.transform=LD(t,s.transform,e):i.transform&&(i.transform="none")),u){const{originX:d="50%",originY:f="50%",originZ:p=0}=o;i.transformOrigin=`${d} ${f} ${p}`}}const Lg=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function yA(s,t,e){for(const i in t)!Je(t[i])&&!xA(i,e)&&(s[i]=t[i])}function PD({transformTemplate:s},t){return k.useMemo(()=>{const e=Lg();return Og(e,t,s),Object.assign({},e.vars,e.style)},[t])}function BD(s,t){const e=s.style||{},i={};return yA(i,e,s),Object.assign(i,PD(s,t)),i}function zD(s,t){const e={},i=BD(s,t);return s.drag&&s.dragListener!==!1&&(e.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=s.drag===!0?"none":`pan-${s.drag==="x"?"y":"x"}`),s.tabIndex===void 0&&(s.onTap||s.onTapStart||s.whileTap)&&(e.tabIndex=0),e.style=i,e}const FD={offset:"stroke-dashoffset",array:"stroke-dasharray"},ID={offset:"strokeDashoffset",array:"strokeDasharray"};function UD(s,t,e=1,i=0,a=!0){s.pathLength=1;const o=a?FD:ID;s[o.offset]=At.transform(-i);const l=At.transform(t),u=At.transform(e);s[o.array]=`${l} ${u}`}function bA(s,{attrX:t,attrY:e,attrScale:i,pathLength:a,pathSpacing:o=1,pathOffset:l=0,...u},d,f,p){if(Og(s,u,f),d){s.style.viewBox&&(s.attrs.viewBox=s.style.viewBox);return}s.attrs=s.style,s.style={};const{attrs:g,style:b}=s;g.transform&&(b.transform=g.transform,delete g.transform),(b.transform||g.transformOrigin)&&(b.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),b.transform&&(b.transformBox=p?.transformBox??"fill-box",delete g.transformBox),t!==void 0&&(g.x=t),e!==void 0&&(g.y=e),i!==void 0&&(g.scale=i),a!==void 0&&UD(g,a,o,l,!1)}const vA=()=>({...Lg(),attrs:{}}),wA=s=>typeof s=="string"&&s.toLowerCase()==="svg";function HD(s,t,e,i){const a=k.useMemo(()=>{const o=vA();return bA(o,t,wA(i),s.transformTemplate,s.style),{...o.attrs,style:{...o.style}}},[t]);if(s.style){const o={};yA(o,s.style,s),a.style={...o,...a.style}}return a}const VD=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Pg(s){return typeof s!="string"||s.includes("-")?!1:!!(VD.indexOf(s)>-1||/[A-Z]/u.test(s))}function qD(s,t,e,{latestValues:i},a,o=!1){const u=(Pg(s)?HD:zD)(t,i,a,s),d=kD(t,typeof s=="string",o),f=s!==k.Fragment?{...d,...u,ref:e}:{},{children:p}=t,g=k.useMemo(()=>Je(p)?p.get():p,[p]);return k.createElement(s,{...f,children:g})}function Kv(s){const t=[{},{}];return s?.values.forEach((e,i)=>{t[0][i]=e.get(),t[1][i]=e.getVelocity()}),t}function Bg(s,t,e,i){if(typeof t=="function"){const[a,o]=Kv(i);t=t(e!==void 0?e:s.custom,a,o)}if(typeof t=="string"&&(t=s.variants&&s.variants[t]),typeof t=="function"){const[a,o]=Kv(i);t=t(e!==void 0?e:s.custom,a,o)}return t}function Fu(s){return Je(s)?s.get():s}function GD({scrapeMotionValuesFromProps:s,createRenderState:t},e,i,a){return{latestValues:$D(e,i,a,s),renderState:t()}}function $D(s,t,e,i){const a={},o=i(s,{});for(const b in o)a[b]=Fu(o[b]);let{initial:l,animate:u}=s;const d=vd(s),f=gA(s);t&&f&&!d&&s.inherit!==!1&&(l===void 0&&(l=t.initial),u===void 0&&(u=t.animate));let p=e?e.initial===!1:!1;p=p||l===!1;const g=p?u:l;if(g&&typeof g!="boolean"&&!bd(g)){const b=Array.isArray(g)?g:[g];for(let v=0;v<b.length;v++){const w=Bg(s,b[v]);if(w){const{transitionEnd:A,transition:E,...T}=w;for(const _ in T){let C=T[_];if(Array.isArray(C)){const j=p?C.length-1:0;C=C[j]}C!==null&&(a[_]=C)}for(const _ in A)a[_]=A[_]}}}return a}const AA=s=>(t,e)=>{const i=k.useContext(yd),a=k.useContext(xd),o=()=>GD(s,t,i,a);return e?o():cg(o)};function zg(s,t,e){const{style:i}=s,a={};for(const o in i)(Je(i[o])||t.style&&Je(t.style[o])||xA(o,s)||e?.getValue(o)?.liveStyle!==void 0)&&(a[o]=i[o]);return a}const XD=AA({scrapeMotionValuesFromProps:zg,createRenderState:Lg});function SA(s,t,e){const i=zg(s,t,e);for(const a in s)if(Je(s[a])||Je(t[a])){const o=Wr.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;i[o]=s[a]}return i}const YD=AA({scrapeMotionValuesFromProps:SA,createRenderState:vA}),KD=Symbol.for("motionComponentSymbol");function Er(s){return s&&typeof s=="object"&&Object.prototype.hasOwnProperty.call(s,"current")}function WD(s,t,e){return k.useCallback(i=>{i&&s.onMount&&s.onMount(i),t&&(i?t.mount(i):t.unmount()),e&&(typeof e=="function"?e(i):Er(e)&&(e.current=i))},[t])}const Fg=s=>s.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),QD="framerAppearId",EA="data-"+Fg(QD),TA=k.createContext({});function ZD(s,t,e,i,a){const{visualElement:o}=k.useContext(yd),l=k.useContext(pA),u=k.useContext(xd),d=k.useContext(Mg).reducedMotion,f=k.useRef(null);i=i||l.renderer,!f.current&&i&&(f.current=i(s,{visualState:t,parent:o,props:e,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const p=f.current,g=k.useContext(TA);p&&!p.projection&&a&&(p.type==="html"||p.type==="svg")&&JD(f.current,e,a,g);const b=k.useRef(!1);k.useInsertionEffect(()=>{p&&b.current&&p.update(e,u)});const v=e[EA],w=k.useRef(!!v&&!window.MotionHandoffIsComplete?.(v)&&window.MotionHasOptimisedAnimation?.(v));return w2(()=>{p&&(b.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),p.scheduleRenderMicrotask(),w.current&&p.animationState&&p.animationState.animateChanges())}),k.useEffect(()=>{p&&(!w.current&&p.animationState&&p.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(v)}),w.current=!1),p.enteringChildren=void 0)}),p}function JD(s,t,e,i){const{layoutId:a,layout:o,drag:l,dragConstraints:u,layoutScroll:d,layoutRoot:f,layoutCrossfade:p}=t;s.projection=new e(s.latestValues,t["data-framer-portal-id"]?void 0:CA(s.parent)),s.projection.setOptions({layoutId:a,layout:o,alwaysMeasureLayout:!!l||u&&Er(u),visualElement:s,animationType:typeof o=="string"?o:"both",initialPromotionConfig:i,crossfade:p,layoutScroll:d,layoutRoot:f})}function CA(s){if(s)return s.options.allowProjection!==!1?s.projection:CA(s.parent)}function hp(s,{forwardMotionProps:t=!1}={},e,i){e&&CD(e);const a=Pg(s)?YD:XD;function o(u,d){let f;const p={...k.useContext(Mg),...u,layoutId:tR(u)},{isStatic:g}=p,b=MD(u),v=a(u,g);if(!g&&ug){eR();const w=iR(p);f=w.MeasureLayout,b.visualElement=ZD(s,v,p,i,w.ProjectionNode)}return m.jsxs(yd.Provider,{value:b,children:[f&&b.visualElement?m.jsx(f,{visualElement:b.visualElement,...p}):null,qD(s,u,WD(v,b.visualElement,d),v,g,t)]})}o.displayName=`motion.${typeof s=="string"?s:`create(${s.displayName??s.name??""})`}`;const l=k.forwardRef(o);return l[KD]=s,l}function tR({layoutId:s}){const t=k.useContext(lg).id;return t&&s!==void 0?t+"-"+s:s}function eR(s,t){k.useContext(pA).strict}function iR(s){const{drag:t,layout:e}=Ur;if(!t&&!e)return{};const i={...t,...e};return{MeasureLayout:t?.isEnabled(s)||e?.isEnabled(s)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function nR(s,t){if(typeof Proxy>"u")return hp;const e=new Map,i=(o,l)=>hp(o,l,s,t),a=(o,l)=>i(o,l);return new Proxy(a,{get:(o,l)=>l==="create"?i:(e.has(l)||e.set(l,hp(l,void 0,s,t)),e.get(l))})}function _A({top:s,left:t,right:e,bottom:i}){return{x:{min:t,max:e},y:{min:s,max:i}}}function sR({x:s,y:t}){return{top:t.min,right:s.max,bottom:t.max,left:s.min}}function aR(s,t){if(!t)return s;const e=t({x:s.left,y:s.top}),i=t({x:s.right,y:s.bottom});return{top:e.y,left:e.x,bottom:i.y,right:i.x}}function fp(s){return s===void 0||s===1}function dm({scale:s,scaleX:t,scaleY:e}){return!fp(s)||!fp(t)||!fp(e)}function ua(s){return dm(s)||NA(s)||s.z||s.rotate||s.rotateX||s.rotateY||s.skewX||s.skewY}function NA(s){return Wv(s.x)||Wv(s.y)}function Wv(s){return s&&s!=="0%"}function td(s,t,e){const i=s-e,a=t*i;return e+a}function Qv(s,t,e,i,a){return a!==void 0&&(s=td(s,a,i)),td(s,e,i)+t}function hm(s,t=0,e=1,i,a){s.min=Qv(s.min,t,e,i,a),s.max=Qv(s.max,t,e,i,a)}function kA(s,{x:t,y:e}){hm(s.x,t.translate,t.scale,t.originPoint),hm(s.y,e.translate,e.scale,e.originPoint)}const Zv=.999999999999,Jv=1.0000000000001;function rR(s,t,e,i=!1){const a=e.length;if(!a)return;t.x=t.y=1;let o,l;for(let u=0;u<a;u++){o=e[u],l=o.projectionDelta;const{visualElement:d}=o.options;d&&d.props.style&&d.props.style.display==="contents"||(i&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Cr(s,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),l&&(t.x*=l.x.scale,t.y*=l.y.scale,kA(s,l)),i&&ua(o.latestValues)&&Cr(s,o.latestValues))}t.x<Jv&&t.x>Zv&&(t.x=1),t.y<Jv&&t.y>Zv&&(t.y=1)}function Tr(s,t){s.min=s.min+t,s.max=s.max+t}function t1(s,t,e,i,a=.5){const o=fe(s.min,s.max,a);hm(s,t,e,o,i)}function Cr(s,t){t1(s.x,t.x,t.scaleX,t.scale,t.originX),t1(s.y,t.y,t.scaleY,t.scale,t.originY)}function jA(s,t){return _A(aR(s.getBoundingClientRect(),t))}function oR(s,t,e){const i=jA(s,e),{scroll:a}=t;return a&&(Tr(i.x,a.offset.x),Tr(i.y,a.offset.y)),i}const e1=()=>({translate:0,scale:1,origin:0,originPoint:0}),_r=()=>({x:e1(),y:e1()}),i1=()=>({min:0,max:0}),Re=()=>({x:i1(),y:i1()}),fm={current:null},MA={current:!1};function lR(){if(MA.current=!0,!!ug)if(window.matchMedia){const s=window.matchMedia("(prefers-reduced-motion)"),t=()=>fm.current=s.matches;s.addEventListener("change",t),t()}else fm.current=!1}const cR=new WeakMap;function uR(s,t,e){for(const i in t){const a=t[i],o=e[i];if(Je(a))s.addValue(i,a);else if(Je(o))s.addValue(i,Ir(a,{owner:s}));else if(o!==a)if(s.hasValue(i)){const l=s.getValue(i);l.liveStyle===!0?l.jump(a):l.hasAnimated||l.set(a)}else{const l=s.getStaticValue(i);s.addValue(i,Ir(l!==void 0?l:a,{owner:s}))}}for(const i in e)t[i]===void 0&&s.removeValue(i);return t}const n1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class dR{scrapeMotionValuesFromProps(t,e,i){return{}}constructor({parent:t,props:e,presenceContext:i,reducedMotionConfig:a,blockInitialAnimation:o,visualState:l},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Cg,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=xi.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,oe.render(this.render,!1,!0))};const{latestValues:d,renderState:f}=l;this.latestValues=d,this.baseTarget={...d},this.initialValues=e.initial?{...d}:{},this.renderState=f,this.parent=t,this.props=e,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=u,this.blockInitialAnimation=!!o,this.isControllingVariants=vd(e),this.isVariantNode=gA(e),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:p,...g}=this.scrapeMotionValuesFromProps(e,{},this);for(const b in g){const v=g[b];d[b]!==void 0&&Je(v)&&v.set(d[b])}}mount(t){this.current=t,cR.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,i)=>this.bindToMotionValue(i,e)),MA.current||lR(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:fm.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Bs(this.notifyUpdate),Bs(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,e){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const i=Qr.has(t);i&&this.onBindTransform&&this.onBindTransform();const a=e.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&oe.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,e)),this.valueSubscriptions.set(t,()=>{a(),o&&o(),e.owner&&e.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Ur){const e=Ur[t];if(!e)continue;const{isEnabled:i,Feature:a}=e;if(!this.features[t]&&a&&i(this.props)&&(this.features[t]=new a(this)),this.features[t]){const o=this.features[t];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Re()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,e){this.latestValues[t]=e}update(t,e){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let i=0;i<n1.length;i++){const a=n1[i];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const o="on"+a,l=t[o];l&&(this.propEventSubscriptions[a]=this.on(a,l))}this.prevMotionValues=uR(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(t),()=>e.variantChildren.delete(t)}addValue(t,e){const i=this.values.get(t);e!==i&&(i&&this.removeValue(t),this.bindToMotionValue(t,e),this.values.set(t,e),this.latestValues[t]=e.get())}removeValue(t){this.values.delete(t);const e=this.valueSubscriptions.get(t);e&&(e(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,e){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return i===void 0&&e!==void 0&&(i=Ir(e===null?void 0:e,{owner:this}),this.addValue(t,i)),i}readValue(t,e){let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(A2(i)||E2(i))?i=parseFloat(i):!bD(i)&&zs.test(e)&&(i=rA(t,e)),this.setBaseTarget(t,Je(i)?i.get():i)),Je(i)?i.get():i}setBaseTarget(t,e){this.baseTarget[t]=e}getBaseTarget(t){const{initial:e}=this.props;let i;if(typeof e=="string"||typeof e=="object"){const o=Bg(this.props,e,this.presenceContext?.custom);o&&(i=o[t])}if(e&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!Je(a)?a:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,e){return this.events[t]||(this.events[t]=new mg),this.events[t].add(e)}notify(t,...e){this.events[t]&&this.events[t].notify(...e)}scheduleRenderMicrotask(){kg.render(this.render)}}class DA extends dR{constructor(){super(...arguments),this.KeyframeResolver=oD}sortInstanceNodePosition(t,e){return t.compareDocumentPosition(e)&2?1:-1}getBaseTargetFromProps(t,e){return t.style?t.style[e]:void 0}removeValueFromRenderState(t,{vars:e,style:i}){delete e[t],delete i[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Je(t)&&(this.childSubscription=t.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}function RA(s,{style:t,vars:e},i,a){const o=s.style;let l;for(l in t)o[l]=t[l];a?.applyProjectionStyles(o,i);for(l in e)o.setProperty(l,e[l])}function hR(s){return window.getComputedStyle(s)}class fR extends DA{constructor(){super(...arguments),this.type="html",this.renderInstance=RA}readValueFromInstance(t,e){if(Qr.has(e))return this.projection?.isProjecting?nm(e):CM(t,e);{const i=hR(t),a=(z2(e)?i.getPropertyValue(e):i[e])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:e}){return jA(t,e)}build(t,e,i){Og(t,e,i.transformTemplate)}scrapeMotionValuesFromProps(t,e,i){return zg(t,e,i)}}const OA=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function pR(s,t,e,i){RA(s,t,void 0,i);for(const a in t.attrs)s.setAttribute(OA.has(a)?a:Fg(a),t.attrs[a])}class mR extends DA{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Re}getBaseTargetFromProps(t,e){return t[e]}readValueFromInstance(t,e){if(Qr.has(e)){const i=aA(e);return i&&i.default||0}return e=OA.has(e)?e:Fg(e),t.getAttribute(e)}scrapeMotionValuesFromProps(t,e,i){return SA(t,e,i)}build(t,e,i){bA(t,e,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(t,e,i,a){pR(t,e,i,a)}mount(t){this.isSVGTag=wA(t.tagName),super.mount(t)}}const gR=(s,t)=>Pg(s)?new mR(t):new fR(t,{allowProjection:s!==k.Fragment});function Dr(s,t,e){const i=s.getProps();return Bg(i,t,e!==void 0?e:i.custom,s)}const pm=s=>Array.isArray(s);function xR(s,t,e){s.hasValue(t)?s.getValue(t).set(e):s.addValue(t,Ir(e))}function yR(s){return pm(s)?s[s.length-1]||0:s}function bR(s,t){const e=Dr(s,t);let{transitionEnd:i={},transition:a={},...o}=e||{};o={...o,...i};for(const l in o){const u=yR(o[l]);xR(s,l,u)}}function vR(s){return!!(Je(s)&&s.add)}function mm(s,t){const e=s.getValue("willChange");if(vR(e))return e.add(t);if(!e&&is.WillChange){const i=new is.WillChange("auto");s.addValue("willChange",i),i.add(t)}}function LA(s){return s.props[EA]}const wR=s=>s!==null;function AR(s,{repeat:t,repeatType:e="loop"},i){const a=s.filter(wR),o=t&&e!=="loop"&&t%2===1?0:a.length-1;return a[o]}const SR={type:"spring",stiffness:500,damping:25,restSpeed:10},ER=s=>({type:"spring",stiffness:550,damping:s===0?2*Math.sqrt(550):30,restSpeed:10}),TR={type:"keyframes",duration:.8},CR={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},_R=(s,{keyframes:t})=>t.length>2?TR:Qr.has(s)?s.startsWith("scale")?ER(t[1]):SR:CR;function NR({when:s,delay:t,delayChildren:e,staggerChildren:i,staggerDirection:a,repeat:o,repeatType:l,repeatDelay:u,from:d,elapsed:f,...p}){return!!Object.keys(p).length}const Ig=(s,t,e,i={},a,o)=>l=>{const u=_g(i,s)||{},d=u.delay||i.delay||0;let{elapsed:f=0}=i;f=f-wn(d);const p={keyframes:Array.isArray(e)?e:[null,e],ease:"easeOut",velocity:t.getVelocity(),...u,delay:-f,onUpdate:b=>{t.set(b),u.onUpdate&&u.onUpdate(b)},onComplete:()=>{l(),u.onComplete&&u.onComplete()},name:s,motionValue:t,element:o?void 0:a};NR(u)||Object.assign(p,_R(s,p)),p.duration&&(p.duration=wn(p.duration)),p.repeatDelay&&(p.repeatDelay=wn(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let g=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(lm(p),p.delay===0&&(g=!0)),(is.instantAnimations||is.skipAnimations)&&(g=!0,lm(p),p.delay=0),p.allowFlatten=!u.type&&!u.ease,g&&!o&&t.get()!==void 0){const b=AR(p.keyframes,u);if(b!==void 0){oe.update(()=>{p.onUpdate(b),p.onComplete()});return}}return u.isSync?new Tg(p):new KM(p)};function kR({protectedKeys:s,needsAnimating:t},e){const i=s.hasOwnProperty(e)&&t[e]!==!0;return t[e]=!1,i}function PA(s,t,{delay:e=0,transitionOverride:i,type:a}={}){let{transition:o=s.getDefaultTransition(),transitionEnd:l,...u}=t;i&&(o=i);const d=[],f=a&&s.animationState&&s.animationState.getState()[a];for(const p in u){const g=s.getValue(p,s.latestValues[p]??null),b=u[p];if(b===void 0||f&&kR(f,p))continue;const v={delay:e,..._g(o||{},p)},w=g.get();if(w!==void 0&&!g.isAnimating&&!Array.isArray(b)&&b===w&&!v.velocity)continue;let A=!1;if(window.MotionHandoffAnimation){const T=LA(s);if(T){const _=window.MotionHandoffAnimation(T,p,oe);_!==null&&(v.startTime=_,A=!0)}}mm(s,p),g.start(Ig(p,g,b,s.shouldReduceMotion&&iA.has(p)?{type:!1}:v,s,A));const E=g.animation;E&&d.push(E)}return l&&Promise.all(d).then(()=>{oe.update(()=>{l&&bR(s,l)})}),d}function BA(s,t,e,i=0,a=1){const o=Array.from(s).sort((f,p)=>f.sortNodePosition(p)).indexOf(t),l=s.size,u=(l-1)*i;return typeof e=="function"?e(o,l):a===1?o*i:u-o*i}function gm(s,t,e={}){const i=Dr(s,t,e.type==="exit"?s.presenceContext?.custom:void 0);let{transition:a=s.getDefaultTransition()||{}}=i||{};e.transitionOverride&&(a=e.transitionOverride);const o=i?()=>Promise.all(PA(s,i,e)):()=>Promise.resolve(),l=s.variantChildren&&s.variantChildren.size?(d=0)=>{const{delayChildren:f=0,staggerChildren:p,staggerDirection:g}=a;return jR(s,t,d,f,p,g,e)}:()=>Promise.resolve(),{when:u}=a;if(u){const[d,f]=u==="beforeChildren"?[o,l]:[l,o];return d().then(()=>f())}else return Promise.all([o(),l(e.delay)])}function jR(s,t,e=0,i=0,a=0,o=1,l){const u=[];for(const d of s.variantChildren)d.notify("AnimationStart",t),u.push(gm(d,t,{...l,delay:e+(typeof i=="function"?0:i)+BA(s.variantChildren,d,i,a,o)}).then(()=>d.notify("AnimationComplete",t)));return Promise.all(u)}function MR(s,t,e={}){s.notify("AnimationStart",t);let i;if(Array.isArray(t)){const a=t.map(o=>gm(s,o,e));i=Promise.all(a)}else if(typeof t=="string")i=gm(s,t,e);else{const a=typeof t=="function"?Dr(s,t,e.custom):t;i=Promise.all(PA(s,a,e))}return i.then(()=>{s.notify("AnimationComplete",t)})}function zA(s,t){if(!Array.isArray(t))return!1;const e=t.length;if(e!==s.length)return!1;for(let i=0;i<e;i++)if(t[i]!==s[i])return!1;return!0}const DR=Rg.length;function FA(s){if(!s)return;if(!s.isControllingVariants){const e=s.parent?FA(s.parent)||{}:{};return s.props.initial!==void 0&&(e.initial=s.props.initial),e}const t={};for(let e=0;e<DR;e++){const i=Rg[e],a=s.props[i];(Tl(a)||a===!1)&&(t[i]=a)}return t}const RR=[...Dg].reverse(),OR=Dg.length;function LR(s){return t=>Promise.all(t.map(({animation:e,options:i})=>MR(s,e,i)))}function PR(s){let t=LR(s),e=s1(),i=!0;const a=d=>(f,p)=>{const g=Dr(s,p,d==="exit"?s.presenceContext?.custom:void 0);if(g){const{transition:b,transitionEnd:v,...w}=g;f={...f,...w,...v}}return f};function o(d){t=d(s)}function l(d){const{props:f}=s,p=FA(s.parent)||{},g=[],b=new Set;let v={},w=1/0;for(let E=0;E<OR;E++){const T=RR[E],_=e[T],C=f[T]!==void 0?f[T]:p[T],j=Tl(C),M=T===d?_.isActive:null;M===!1&&(w=E);let R=C===p[T]&&C!==f[T]&&j;if(R&&i&&s.manuallyAnimateOnMount&&(R=!1),_.protectedKeys={...v},!_.isActive&&M===null||!C&&!_.prevProp||bd(C)||typeof C=="boolean")continue;const D=BR(_.prevProp,C);let P=D||T===d&&_.isActive&&!R&&j||E>w&&j,X=!1;const V=Array.isArray(C)?C:[C];let W=V.reduce(a(T),{});M===!1&&(W={});const{prevResolvedValues:rt={}}=_,ft={...rt,...W},et=q=>{P=!0,b.has(q)&&(X=!0,b.delete(q)),_.needsAnimating[q]=!0;const I=s.getValue(q);I&&(I.liveStyle=!1)};for(const q in ft){const I=W[q],it=rt[q];if(v.hasOwnProperty(q))continue;let dt=!1;pm(I)&&pm(it)?dt=!zA(I,it):dt=I!==it,dt?I!=null?et(q):b.add(q):I!==void 0&&b.has(q)?et(q):_.protectedKeys[q]=!0}_.prevProp=C,_.prevResolvedValues=W,_.isActive&&(v={...v,...W}),i&&s.blockInitialAnimation&&(P=!1);const at=R&&D;P&&(!at||X)&&g.push(...V.map(q=>{const I={type:T};if(typeof q=="string"&&i&&!at&&s.manuallyAnimateOnMount&&s.parent){const{parent:it}=s,dt=Dr(it,q);if(it.enteringChildren&&dt){const{delayChildren:O}=dt.transition||{};I.delay=BA(it.enteringChildren,s,O)}}return{animation:q,options:I}}))}if(b.size){const E={};if(typeof f.initial!="boolean"){const T=Dr(s,Array.isArray(f.initial)?f.initial[0]:f.initial);T&&T.transition&&(E.transition=T.transition)}b.forEach(T=>{const _=s.getBaseTarget(T),C=s.getValue(T);C&&(C.liveStyle=!0),E[T]=_??null}),g.push({animation:E})}let A=!!g.length;return i&&(f.initial===!1||f.initial===f.animate)&&!s.manuallyAnimateOnMount&&(A=!1),i=!1,A?t(g):Promise.resolve()}function u(d,f){if(e[d].isActive===f)return Promise.resolve();s.variantChildren?.forEach(g=>g.animationState?.setActive(d,f)),e[d].isActive=f;const p=l(d);for(const g in e)e[g].protectedKeys={};return p}return{animateChanges:l,setActive:u,setAnimateFunction:o,getState:()=>e,reset:()=>{e=s1()}}}function BR(s,t){return typeof t=="string"?t!==s:Array.isArray(t)?!zA(t,s):!1}function ca(s=!1){return{isActive:s,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function s1(){return{animate:ca(!0),whileInView:ca(),whileHover:ca(),whileTap:ca(),whileDrag:ca(),whileFocus:ca(),exit:ca()}}class Us{constructor(t){this.isMounted=!1,this.node=t}update(){}}class zR extends Us{constructor(t){super(t),t.animationState||(t.animationState=PR(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();bd(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let FR=0;class IR extends Us{constructor(){super(...arguments),this.id=FR++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:e}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const a=this.node.animationState.setActive("exit",!t);e&&!t&&a.then(()=>{e(this.id)})}mount(){const{register:t,onExitComplete:e}=this.node.presenceContext||{};e&&e(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const UR={animation:{Feature:zR},exit:{Feature:IR}};function Cl(s,t,e,i={passive:!0}){return s.addEventListener(t,e,i),()=>s.removeEventListener(t,e)}function Il(s){return{point:{x:s.pageX,y:s.pageY}}}const HR=s=>t=>jg(t)&&s(t,Il(t));function pl(s,t,e,i){return Cl(s,t,HR(e),i)}const IA=1e-4,VR=1-IA,qR=1+IA,UA=.01,GR=0-UA,$R=0+UA;function si(s){return s.max-s.min}function XR(s,t,e){return Math.abs(s-t)<=e}function a1(s,t,e,i=.5){s.origin=i,s.originPoint=fe(t.min,t.max,s.origin),s.scale=si(e)/si(t),s.translate=fe(e.min,e.max,s.origin)-s.originPoint,(s.scale>=VR&&s.scale<=qR||isNaN(s.scale))&&(s.scale=1),(s.translate>=GR&&s.translate<=$R||isNaN(s.translate))&&(s.translate=0)}function ml(s,t,e,i){a1(s.x,t.x,e.x,i?i.originX:void 0),a1(s.y,t.y,e.y,i?i.originY:void 0)}function r1(s,t,e){s.min=e.min+t.min,s.max=s.min+si(t)}function YR(s,t,e){r1(s.x,t.x,e.x),r1(s.y,t.y,e.y)}function o1(s,t,e){s.min=t.min-e.min,s.max=s.min+si(t)}function ed(s,t,e){o1(s.x,t.x,e.x),o1(s.y,t.y,e.y)}function Gi(s){return[s("x"),s("y")]}const HA=({current:s})=>s?s.ownerDocument.defaultView:null,l1=(s,t)=>Math.abs(s-t);function KR(s,t){const e=l1(s.x,t.x),i=l1(s.y,t.y);return Math.sqrt(e**2+i**2)}class VA{constructor(t,e,{transformPagePoint:i,contextWindow:a=window,dragSnapToOrigin:o=!1,distanceThreshold:l=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=mp(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,w=KR(b.offset,{x:0,y:0})>=this.distanceThreshold;if(!v&&!w)return;const{point:A}=b,{timestamp:E}=Ye;this.history.push({...A,timestamp:E});const{onStart:T,onMove:_}=this.handlers;v||(T&&T(this.lastMoveEvent,b),this.startEvent=this.lastMoveEvent),_&&_(this.lastMoveEvent,b)},this.handlePointerMove=(b,v)=>{this.lastMoveEvent=b,this.lastMoveEventInfo=pp(v,this.transformPagePoint),oe.update(this.updatePoint,!0)},this.handlePointerUp=(b,v)=>{this.end();const{onEnd:w,onSessionEnd:A,resumeAnimation:E}=this.handlers;if(this.dragSnapToOrigin&&E&&E(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=mp(b.type==="pointercancel"?this.lastMoveEventInfo:pp(v,this.transformPagePoint),this.history);this.startEvent&&w&&w(b,T),A&&A(b,T)},!jg(t))return;this.dragSnapToOrigin=o,this.handlers=e,this.transformPagePoint=i,this.distanceThreshold=l,this.contextWindow=a||window;const u=Il(t),d=pp(u,this.transformPagePoint),{point:f}=d,{timestamp:p}=Ye;this.history=[{...f,timestamp:p}];const{onSessionStart:g}=e;g&&g(t,mp(d,this.history)),this.removeListeners=Bl(pl(this.contextWindow,"pointermove",this.handlePointerMove),pl(this.contextWindow,"pointerup",this.handlePointerUp),pl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Bs(this.updatePoint)}}function pp(s,t){return t?{point:t(s.point)}:s}function c1(s,t){return{x:s.x-t.x,y:s.y-t.y}}function mp({point:s},t){return{point:s,delta:c1(s,qA(t)),offset:c1(s,WR(t)),velocity:QR(t,.1)}}function WR(s){return s[0]}function qA(s){return s[s.length-1]}function QR(s,t){if(s.length<2)return{x:0,y:0};let e=s.length-1,i=null;const a=qA(s);for(;e>=0&&(i=s[e],!(a.timestamp-i.timestamp>wn(t)));)e--;if(!i)return{x:0,y:0};const o=Xi(a.timestamp-i.timestamp);if(o===0)return{x:0,y:0};const l={x:(a.x-i.x)/o,y:(a.y-i.y)/o};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function ZR(s,{min:t,max:e},i){return t!==void 0&&s<t?s=i?fe(t,s,i.min):Math.max(s,t):e!==void 0&&s>e&&(s=i?fe(e,s,i.max):Math.min(s,e)),s}function u1(s,t,e){return{min:t!==void 0?s.min+t:void 0,max:e!==void 0?s.max+e-(s.max-s.min):void 0}}function JR(s,{top:t,left:e,bottom:i,right:a}){return{x:u1(s.x,e,a),y:u1(s.y,t,i)}}function d1(s,t){let e=t.min-s.min,i=t.max-s.max;return t.max-t.min<s.max-s.min&&([e,i]=[i,e]),{min:e,max:i}}function t4(s,t){return{x:d1(s.x,t.x),y:d1(s.y,t.y)}}function e4(s,t){let e=.5;const i=si(s),a=si(t);return a>i?e=Al(t.min,t.max-i,s.min):i>a&&(e=Al(s.min,s.max-a,t.min)),es(0,1,e)}function i4(s,t){const e={};return t.min!==void 0&&(e.min=t.min-s.min),t.max!==void 0&&(e.max=t.max-s.min),e}const xm=.35;function n4(s=xm){return s===!1?s=0:s===!0&&(s=xm),{x:h1(s,"left","right"),y:h1(s,"top","bottom")}}function h1(s,t,e){return{min:f1(s,t),max:f1(s,e)}}function f1(s,t){return typeof s=="number"?s:s[t]||0}const s4=new WeakMap;class a4{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Re(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:e=!1,distanceThreshold:i}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const o=g=>{const{dragSnapToOrigin:b}=this.getProps();b?this.pauseAnimation():this.stopAnimation(),e&&this.snapToCursor(Il(g).point)},l=(g,b)=>{const{drag:v,dragPropagation:w,onDragStart:A}=this.getProps();if(v&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=dD(v),!this.openDragLock))return;this.latestPointerEvent=g,this.latestPanInfo=b,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Gi(T=>{let _=this.getAxisMotionValue(T).get()||0;if(An.test(_)){const{projection:C}=this.visualElement;if(C&&C.layout){const j=C.layout.layoutBox[T];j&&(_=si(j)*(parseFloat(_)/100))}}this.originPoint[T]=_}),A&&oe.postRender(()=>A(g,b)),mm(this.visualElement,"transform");const{animationState:E}=this.visualElement;E&&E.setActive("whileDrag",!0)},u=(g,b)=>{this.latestPointerEvent=g,this.latestPanInfo=b;const{dragPropagation:v,dragDirectionLock:w,onDirectionLock:A,onDrag:E}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:T}=b;if(w&&this.currentDirection===null){this.currentDirection=r4(T),this.currentDirection!==null&&A&&A(this.currentDirection);return}this.updateAxis("x",b.point,T),this.updateAxis("y",b.point,T),this.visualElement.render(),E&&E(g,b)},d=(g,b)=>{this.latestPointerEvent=g,this.latestPanInfo=b,this.stop(g,b),this.latestPointerEvent=null,this.latestPanInfo=null},f=()=>Gi(g=>this.getAnimationState(g)==="paused"&&this.getAxisMotionValue(g).animation?.play()),{dragSnapToOrigin:p}=this.getProps();this.panSession=new VA(t,{onSessionStart:o,onStart:l,onMove:u,onSessionEnd:d,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,distanceThreshold:i,contextWindow:HA(this.visualElement)})}stop(t,e){const i=t||this.latestPointerEvent,a=e||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!a||!i)return;const{velocity:l}=a;this.startAnimation(l);const{onDragEnd:u}=this.getProps();u&&oe.postRender(()=>u(i,a))}cancel(){this.isDragging=!1;const{projection:t,animationState:e}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),e&&e.setActive("whileDrag",!1)}updateAxis(t,e,i){const{drag:a}=this.getProps();if(!i||!bu(t,a,this.currentDirection))return;const o=this.getAxisMotionValue(t);let l=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(l=ZR(l,this.constraints[t],this.elastic[t])),o.set(l)}resolveConstraints(){const{dragConstraints:t,dragElastic:e}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;t&&Er(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=JR(i.layoutBox,t):this.constraints=!1,this.elastic=n4(e),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Gi(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=i4(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:e}=this.getProps();if(!t||!Er(t))return!1;const i=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const o=oR(i,a.root,this.visualElement.getTransformPagePoint());let l=t4(a.layout.layoutBox,o);if(e){const u=e(sR(l));this.hasMutatedConstraints=!!u,u&&(l=_A(u))}return l}startAnimation(t){const{drag:e,dragMomentum:i,dragElastic:a,dragTransition:o,dragSnapToOrigin:l,onDragTransitionEnd:u}=this.getProps(),d=this.constraints||{},f=Gi(p=>{if(!bu(p,e,this.currentDirection))return;let g=d&&d[p]||{};l&&(g={min:0,max:0});const b=a?200:1e6,v=a?40:1e7,w={type:"inertia",velocity:i?t[p]:0,bounceStiffness:b,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...o,...g};return this.startAxisValueAnimation(p,w)});return Promise.all(f).then(u)}startAxisValueAnimation(t,e){const i=this.getAxisMotionValue(t);return mm(this.visualElement,t),i.start(Ig(t,i,0,e,this.visualElement,!1))}stopAnimation(){Gi(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Gi(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const e=`_drag${t.toUpperCase()}`,i=this.visualElement.getProps(),a=i[e];return a||this.visualElement.getValue(t,(i.initial?i.initial[t]:void 0)||0)}snapToCursor(t){Gi(e=>{const{drag:i}=this.getProps();if(!bu(e,i,this.currentDirection))return;const{projection:a}=this.visualElement,o=this.getAxisMotionValue(e);if(a&&a.layout){const{min:l,max:u}=a.layout.layoutBox[e];o.set(t[e]-fe(l,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:e}=this.getProps(),{projection:i}=this.visualElement;if(!Er(e)||!i||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Gi(l=>{const u=this.getAxisMotionValue(l);if(u&&this.constraints!==!1){const d=u.get();a[l]=e4({min:d,max:d},this.constraints[l])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Gi(l=>{if(!bu(l,t,null))return;const u=this.getAxisMotionValue(l),{min:d,max:f}=this.constraints[l];u.set(fe(d,f,a[l]))})}addListeners(){if(!this.visualElement.current)return;s4.set(this.visualElement,this);const t=this.visualElement.current,e=pl(t,"pointerdown",d=>{const{drag:f,dragListener:p=!0}=this.getProps();f&&p&&this.start(d)}),i=()=>{const{dragConstraints:d}=this.getProps();Er(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,o=a.addEventListener("measure",i);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),oe.read(i);const l=Cl(window,"resize",()=>this.scalePositionWithinConstraints()),u=a.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:f})=>{this.isDragging&&f&&(Gi(p=>{const g=this.getAxisMotionValue(p);g&&(this.originPoint[p]+=d[p].translate,g.set(g.get()+d[p].translate))}),this.visualElement.render())}));return()=>{l(),e(),o(),u&&u()}}getProps(){const t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:i=!1,dragPropagation:a=!1,dragConstraints:o=!1,dragElastic:l=xm,dragMomentum:u=!0}=t;return{...t,drag:e,dragDirectionLock:i,dragPropagation:a,dragConstraints:o,dragElastic:l,dragMomentum:u}}}function bu(s,t,e){return(t===!0||t===s)&&(e===null||e===s)}function r4(s,t=10){let e=null;return Math.abs(s.y)>t?e="y":Math.abs(s.x)>t&&(e="x"),e}class o4 extends Us{constructor(t){super(t),this.removeGroupControls=Yi,this.removeListeners=Yi,this.controls=new a4(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Yi}unmount(){this.removeGroupControls(),this.removeListeners()}}const p1=s=>(t,e)=>{s&&oe.postRender(()=>s(t,e))};class l4 extends Us{constructor(){super(...arguments),this.removePointerDownListener=Yi}onPointerDown(t){this.session=new VA(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:HA(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:e,onPan:i,onPanEnd:a}=this.node.getProps();return{onSessionStart:p1(t),onStart:p1(e),onMove:i,onEnd:(o,l)=>{delete this.session,a&&oe.postRender(()=>a(o,l))}}}mount(){this.removePointerDownListener=pl(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Iu={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let gp=!1;class c4 extends k.Component{componentDidMount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:i,layoutId:a}=this.props,{projection:o}=t;o&&(e.group&&e.group.add(o),i&&i.register&&a&&i.register(o),gp&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Iu.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:e,visualElement:i,drag:a,isPresent:o}=this.props,{projection:l}=i;return l&&(l.isPresent=o,gp=!0,a||t.layoutDependency!==e||e===void 0||t.isPresent!==o?l.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?l.promote():l.relegate()||oe.postRender(()=>{const u=l.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),kg.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:i}=this.props,{projection:a}=t;gp=!0,a&&(a.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(a),i&&i.deregister&&i.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function GA(s){const[t,e]=fA(),i=k.useContext(lg);return m.jsx(c4,{...s,layoutGroup:i,switchLayoutGroup:k.useContext(TA),isPresent:t,safeToRemove:e})}function u4(s,t,e){const i=Je(s)?s:Ir(s);return i.start(Ig("",i,t,e)),i.animation}const d4=(s,t)=>s.depth-t.depth;class h4{constructor(){this.children=[],this.isDirty=!1}add(t){dg(this.children,t),this.isDirty=!0}remove(t){hg(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(d4),this.isDirty=!1,this.children.forEach(t)}}function f4(s,t){const e=xi.now(),i=({timestamp:a})=>{const o=a-e;o>=t&&(Bs(i),s(o-t))};return oe.setup(i,!0),()=>Bs(i)}const $A=["TopLeft","TopRight","BottomLeft","BottomRight"],p4=$A.length,m1=s=>typeof s=="string"?parseFloat(s):s,g1=s=>typeof s=="number"||At.test(s);function m4(s,t,e,i,a,o){a?(s.opacity=fe(0,e.opacity??1,g4(i)),s.opacityExit=fe(t.opacity??1,0,x4(i))):o&&(s.opacity=fe(t.opacity??1,e.opacity??1,i));for(let l=0;l<p4;l++){const u=`border${$A[l]}Radius`;let d=x1(t,u),f=x1(e,u);if(d===void 0&&f===void 0)continue;d||(d=0),f||(f=0),d===0||f===0||g1(d)===g1(f)?(s[u]=Math.max(fe(m1(d),m1(f),i),0),(An.test(f)||An.test(d))&&(s[u]+="%")):s[u]=f}(t.rotate||e.rotate)&&(s.rotate=fe(t.rotate||0,e.rotate||0,i))}function x1(s,t){return s[t]!==void 0?s[t]:s.borderRadius}const g4=XA(0,.5,D2),x4=XA(.5,.95,Yi);function XA(s,t,e){return i=>i<s?0:i>t?1:e(Al(s,t,i))}function y1(s,t){s.min=t.min,s.max=t.max}function en(s,t){y1(s.x,t.x),y1(s.y,t.y)}function b1(s,t){s.translate=t.translate,s.scale=t.scale,s.originPoint=t.originPoint,s.origin=t.origin}function v1(s,t,e,i,a){return s-=t,s=td(s,1/e,i),a!==void 0&&(s=td(s,1/a,i)),s}function y4(s,t=0,e=1,i=.5,a,o=s,l=s){if(An.test(t)&&(t=parseFloat(t),t=fe(l.min,l.max,t/100)-l.min),typeof t!="number")return;let u=fe(o.min,o.max,i);s===o&&(u-=t),s.min=v1(s.min,t,e,u,a),s.max=v1(s.max,t,e,u,a)}function w1(s,t,[e,i,a],o,l){y4(s,t[e],t[i],t[a],t.scale,o,l)}const b4=["x","scaleX","originX"],v4=["y","scaleY","originY"];function A1(s,t,e,i){w1(s.x,t,b4,e?e.x:void 0,i?i.x:void 0),w1(s.y,t,v4,e?e.y:void 0,i?i.y:void 0)}function S1(s){return s.translate===0&&s.scale===1}function YA(s){return S1(s.x)&&S1(s.y)}function E1(s,t){return s.min===t.min&&s.max===t.max}function w4(s,t){return E1(s.x,t.x)&&E1(s.y,t.y)}function T1(s,t){return Math.round(s.min)===Math.round(t.min)&&Math.round(s.max)===Math.round(t.max)}function KA(s,t){return T1(s.x,t.x)&&T1(s.y,t.y)}function C1(s){return si(s.x)/si(s.y)}function _1(s,t){return s.translate===t.translate&&s.scale===t.scale&&s.originPoint===t.originPoint}class A4{constructor(){this.members=[]}add(t){dg(this.members,t),t.scheduleRender()}remove(t){if(hg(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(t){const e=this.members.findIndex(a=>t===a);if(e===0)return!1;let i;for(let a=e;a>=0;a--){const o=this.members[a];if(o.isPresent!==!1){i=o;break}}return i?(this.promote(i),!0):!1}promote(t,e){const i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender(),t.resumeFrom=i,e&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:e,resumingFrom:i}=t;e.onExitComplete&&e.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function S4(s,t,e){let i="";const a=s.x.translate/t.x,o=s.y.translate/t.y,l=e?.z||0;if((a||o||l)&&(i=`translate3d(${a}px, ${o}px, ${l}px) `),(t.x!==1||t.y!==1)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),e){const{transformPerspective:f,rotate:p,rotateX:g,rotateY:b,skewX:v,skewY:w}=e;f&&(i=`perspective(${f}px) ${i}`),p&&(i+=`rotate(${p}deg) `),g&&(i+=`rotateX(${g}deg) `),b&&(i+=`rotateY(${b}deg) `),v&&(i+=`skewX(${v}deg) `),w&&(i+=`skewY(${w}deg) `)}const u=s.x.scale*t.x,d=s.y.scale*t.y;return(u!==1||d!==1)&&(i+=`scale(${u}, ${d})`),i||"none"}const xp=["","X","Y","Z"],E4=1e3;let T4=0;function yp(s,t,e,i){const{latestValues:a}=t;a[s]&&(e[s]=a[s],t.setStaticValue(s,0),i&&(i[s]=0))}function WA(s){if(s.hasCheckedOptimisedAppear=!0,s.root===s)return;const{visualElement:t}=s.options;if(!t)return;const e=LA(t);if(window.MotionHasOptimisedAnimation(e,"transform")){const{layout:a,layoutId:o}=s.options;window.MotionCancelOptimisedAnimation(e,"transform",oe,!(a||o))}const{parent:i}=s;i&&!i.hasCheckedOptimisedAppear&&WA(i)}function QA({attachResizeListener:s,defaultParent:t,measureScroll:e,checkIsScrollRoot:i,resetTransform:a}){return class{constructor(l={},u=t?.()){this.id=T4++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(N4),this.nodes.forEach(D4),this.nodes.forEach(R4),this.nodes.forEach(k4)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new h4)}addEventListener(l,u){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new mg),this.eventHandlers.get(l).add(u)}notifyListeners(l,...u){const d=this.eventHandlers.get(l);d&&d.notify(...u)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=hA(l)&&!xD(l),this.instance=l;const{layoutId:u,layout:d,visualElement:f}=this.options;if(f&&!f.current&&f.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||u)&&(this.isLayoutDirty=!0),s){let p,g=0;const b=()=>this.root.updateBlockedByResize=!1;oe.read(()=>{g=window.innerWidth}),s(l,()=>{const v=window.innerWidth;v!==g&&(g=v,this.root.updateBlockedByResize=!0,p&&p(),p=f4(b,250),Iu.hasAnimatedSinceResize&&(Iu.hasAnimatedSinceResize=!1,this.nodes.forEach(j1)))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&f&&(u||d)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:g,hasRelativeLayoutChanged:b,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||f.getDefaultTransition()||z4,{onLayoutAnimationStart:A,onLayoutAnimationComplete:E}=f.getProps(),T=!this.targetLayout||!KA(this.targetLayout,v),_=!g&&b;if(this.options.layoutRoot||this.resumeFrom||_||g&&(T||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const C={..._g(w,"layout"),onPlay:A,onComplete:E};(f.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C),this.setAnimationOrigin(p,_)}else g||j1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Bs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(O4),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&WA(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const g=this.path[p];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:u,layout:d}=this.options;if(u===void 0&&!d)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(N1);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(k1);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(M4),this.nodes.forEach(C4),this.nodes.forEach(_4)):this.nodes.forEach(k1),this.clearAllSnapshots();const u=xi.now();Ye.delta=es(0,1e3/60,u-Ye.timestamp),Ye.timestamp=u,Ye.isProcessing=!0,rp.update.process(Ye),rp.preRender.process(Ye),rp.render.process(Ye),Ye.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,kg.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(j4),this.sharedNodes.forEach(L4)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,oe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){oe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!si(this.snapshot.measuredBox.x)&&!si(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Re(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(u=!1),u&&this.instance){const d=i(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:d,offset:e(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!a)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!YA(this.projectionDelta),d=this.getTransformTemplate(),f=d?d(this.latestValues,""):void 0,p=f!==this.prevTransformTemplateValue;l&&this.instance&&(u||ua(this.latestValues)||p)&&(a(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const u=this.measurePageBox();let d=this.removeElementScroll(u);return l&&(d=this.removeTransform(d)),F4(d),{animationId:this.root.animationId,measuredBox:u,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return Re();const u=l.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(I4))){const{scroll:f}=this.root;f&&(Tr(u.x,f.offset.x),Tr(u.y,f.offset.y))}return u}removeElementScroll(l){const u=Re();if(en(u,l),this.scroll?.wasRoot)return u;for(let d=0;d<this.path.length;d++){const f=this.path[d],{scroll:p,options:g}=f;f!==this.root&&p&&g.layoutScroll&&(p.wasRoot&&en(u,l),Tr(u.x,p.offset.x),Tr(u.y,p.offset.y))}return u}applyTransform(l,u=!1){const d=Re();en(d,l);for(let f=0;f<this.path.length;f++){const p=this.path[f];!u&&p.options.layoutScroll&&p.scroll&&p!==p.root&&Cr(d,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),ua(p.latestValues)&&Cr(d,p.latestValues)}return ua(this.latestValues)&&Cr(d,this.latestValues),d}removeTransform(l){const u=Re();en(u,l);for(let d=0;d<this.path.length;d++){const f=this.path[d];if(!f.instance||!ua(f.latestValues))continue;dm(f.latestValues)&&f.updateSnapshot();const p=Re(),g=f.measurePageBox();en(p,g),A1(u,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,p)}return ua(this.latestValues)&&A1(u,this.latestValues),u}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ye.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==u;if(!(l||d&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:g}=this.options;if(!this.layout||!(p||g))return;this.resolvedRelativeTargetAt=Ye.timestamp;const b=this.getClosestProjectingParent();b&&this.linkedParentVersion!==b.layoutVersion&&!b.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(b&&b.layout?this.createRelativeTarget(b,this.layout.layoutBox,b.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Re(),this.targetWithTransforms=Re()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),YR(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):en(this.target,this.layout.layoutBox),kA(this.target,this.targetDelta)):en(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?this.createRelativeTarget(b,this.target,b.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||dm(this.parent.latestValues)||NA(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(l,u,d){this.relativeParent=l,this.linkedParentVersion=l.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Re(),this.relativeTargetOrigin=Re(),ed(this.relativeTargetOrigin,u,d),en(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const l=this.getLead(),u=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(d=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Ye.timestamp&&(d=!1),d)return;const{layout:f,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||p))return;en(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,b=this.treeScale.y;rR(this.layoutCorrected,this.treeScale,this.path,u),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Re());const{target:v}=l;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(b1(this.prevProjectionDelta.x,this.projectionDelta.x),b1(this.prevProjectionDelta.y,this.projectionDelta.y)),ml(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==b||!_1(this.projectionDelta.x,this.prevProjectionDelta.x)||!_1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.visualElement?.scheduleRender(),l){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=_r(),this.projectionDelta=_r(),this.projectionDeltaWithTransform=_r()}setAnimationOrigin(l,u=!1){const d=this.snapshot,f=d?d.latestValues:{},p={...this.latestValues},g=_r();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const b=Re(),v=d?d.source:void 0,w=this.layout?this.layout.source:void 0,A=v!==w,E=this.getStack(),T=!E||E.members.length<=1,_=!!(A&&!T&&this.options.crossfade===!0&&!this.path.some(B4));this.animationProgress=0;let C;this.mixTargetDelta=j=>{const M=j/1e3;M1(g.x,l.x,M),M1(g.y,l.y,M),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ed(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),P4(this.relativeTarget,this.relativeTargetOrigin,b,M),C&&w4(this.relativeTarget,C)&&(this.isProjectionDirty=!1),C||(C=Re()),en(C,this.relativeTarget)),A&&(this.animationValues=p,m4(p,f,this.latestValues,M,_,T)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=M},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Bs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=oe.update(()=>{Iu.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Ir(0)),this.currentAnimation=u4(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),l.onUpdate&&l.onUpdate(u)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(E4),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:u,target:d,layout:f,latestValues:p}=l;if(!(!u||!d||!f)){if(this!==l&&this.layout&&f&&ZA(this.options.animationType,this.layout.layoutBox,f.layoutBox)){d=this.target||Re();const g=si(this.layout.layoutBox.x);d.x.min=l.target.x.min,d.x.max=d.x.min+g;const b=si(this.layout.layoutBox.y);d.y.min=l.target.y.min,d.y.max=d.y.min+b}en(u,d),Cr(u,p),ml(this.projectionDeltaWithTransform,this.layoutCorrected,u,p)}}registerSharedNode(l,u){this.sharedNodes.has(l)||this.sharedNodes.set(l,new A4),this.sharedNodes.get(l).add(u);const f=u.options.initialPromotionConfig;u.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(u):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){const{layoutId:l}=this.options;return l?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:l}=this.options;return l?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:u,preserveFollowOpacity:d}={}){const f=this.getStack();f&&f.promote(this,d),l&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let u=!1;const{latestValues:d}=l;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(u=!0),!u)return;const f={};d.z&&yp("z",l,f,this.animationValues);for(let p=0;p<xp.length;p++)yp(`rotate${xp[p]}`,l,f,this.animationValues),yp(`skew${xp[p]}`,l,f,this.animationValues);l.render();for(const p in f)l.setStaticValue(p,f[p]),this.animationValues&&(this.animationValues[p]=f[p]);l.scheduleRender()}applyProjectionStyles(l,u){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=Fu(u?.pointerEvents)||"",l.transform=d?d(this.latestValues,""):"none";return}const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=Fu(u?.pointerEvents)||""),this.hasProjected&&!ua(this.latestValues)&&(l.transform=d?d({},""):"none",this.hasProjected=!1);return}l.visibility="";const p=f.animationValues||f.latestValues;this.applyTransformsToTarget();let g=S4(this.projectionDeltaWithTransform,this.treeScale,p);d&&(g=d(p,g)),l.transform=g;const{x:b,y:v}=this.projectionDelta;l.transformOrigin=`${b.origin*100}% ${v.origin*100}% 0`,f.animationValues?l.opacity=f===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:l.opacity=f===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const w in um){if(p[w]===void 0)continue;const{correct:A,applyTo:E,isCSSVariable:T}=um[w],_=g==="none"?p[w]:A(p[w],f);if(E){const C=E.length;for(let j=0;j<C;j++)l[E[j]]=_}else T?this.options.visualElement.renderState.vars[w]=_:l[w]=_}this.options.layoutId&&(l.pointerEvents=f===this?Fu(u?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>l.currentAnimation?.stop()),this.root.nodes.forEach(N1),this.root.sharedNodes.clear()}}}function C4(s){s.updateLayout()}function _4(s){const t=s.resumeFrom?.snapshot||s.snapshot;if(s.isLead()&&s.layout&&t&&s.hasListeners("didUpdate")){const{layoutBox:e,measuredBox:i}=s.layout,{animationType:a}=s.options,o=t.source!==s.layout.source;a==="size"?Gi(p=>{const g=o?t.measuredBox[p]:t.layoutBox[p],b=si(g);g.min=e[p].min,g.max=g.min+b}):ZA(a,t.layoutBox,e)&&Gi(p=>{const g=o?t.measuredBox[p]:t.layoutBox[p],b=si(e[p]);g.max=g.min+b,s.relativeTarget&&!s.currentAnimation&&(s.isProjectionDirty=!0,s.relativeTarget[p].max=s.relativeTarget[p].min+b)});const l=_r();ml(l,e,t.layoutBox);const u=_r();o?ml(u,s.applyTransform(i,!0),t.measuredBox):ml(u,e,t.layoutBox);const d=!YA(l);let f=!1;if(!s.resumeFrom){const p=s.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:g,layout:b}=p;if(g&&b){const v=Re();ed(v,t.layoutBox,g.layoutBox);const w=Re();ed(w,e,b.layoutBox),KA(v,w)||(f=!0),p.options.layoutRoot&&(s.relativeTarget=w,s.relativeTargetOrigin=v,s.relativeParent=p)}}}s.notifyListeners("didUpdate",{layout:e,snapshot:t,delta:u,layoutDelta:l,hasLayoutChanged:d,hasRelativeLayoutChanged:f})}else if(s.isLead()){const{onExitComplete:e}=s.options;e&&e()}s.options.transition=void 0}function N4(s){s.parent&&(s.isProjecting()||(s.isProjectionDirty=s.parent.isProjectionDirty),s.isSharedProjectionDirty||(s.isSharedProjectionDirty=!!(s.isProjectionDirty||s.parent.isProjectionDirty||s.parent.isSharedProjectionDirty)),s.isTransformDirty||(s.isTransformDirty=s.parent.isTransformDirty))}function k4(s){s.isProjectionDirty=s.isSharedProjectionDirty=s.isTransformDirty=!1}function j4(s){s.clearSnapshot()}function N1(s){s.clearMeasurements()}function k1(s){s.isLayoutDirty=!1}function M4(s){const{visualElement:t}=s.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),s.resetTransform()}function j1(s){s.finishAnimation(),s.targetDelta=s.relativeTarget=s.target=void 0,s.isProjectionDirty=!0}function D4(s){s.resolveTargetDelta()}function R4(s){s.calcProjection()}function O4(s){s.resetSkewAndRotation()}function L4(s){s.removeLeadSnapshot()}function M1(s,t,e){s.translate=fe(t.translate,0,e),s.scale=fe(t.scale,1,e),s.origin=t.origin,s.originPoint=t.originPoint}function D1(s,t,e,i){s.min=fe(t.min,e.min,i),s.max=fe(t.max,e.max,i)}function P4(s,t,e,i){D1(s.x,t.x,e.x,i),D1(s.y,t.y,e.y,i)}function B4(s){return s.animationValues&&s.animationValues.opacityExit!==void 0}const z4={duration:.45,ease:[.4,0,.1,1]},R1=s=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(s),O1=R1("applewebkit/")&&!R1("chrome/")?Math.round:Yi;function L1(s){s.min=O1(s.min),s.max=O1(s.max)}function F4(s){L1(s.x),L1(s.y)}function ZA(s,t,e){return s==="position"||s==="preserve-aspect"&&!XR(C1(t),C1(e),.2)}function I4(s){return s!==s.root&&s.scroll?.wasRoot}const U4=QA({attachResizeListener:(s,t)=>Cl(s,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),bp={current:void 0},JA=QA({measureScroll:s=>({x:s.scrollLeft,y:s.scrollTop}),defaultParent:()=>{if(!bp.current){const s=new U4({});s.mount(window),s.setOptions({layoutScroll:!0}),bp.current=s}return bp.current},resetTransform:(s,t)=>{s.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:s=>window.getComputedStyle(s).position==="fixed"}),H4={pan:{Feature:l4},drag:{Feature:o4,ProjectionNode:JA,MeasureLayout:GA}};function P1(s,t,e){const{props:i}=s;s.animationState&&i.whileHover&&s.animationState.setActive("whileHover",e==="Start");const a="onHover"+e,o=i[a];o&&oe.postRender(()=>o(t,Il(t)))}class V4 extends Us{mount(){const{current:t}=this.node;t&&(this.unmount=hD(t,(e,i)=>(P1(this.node,i,"Start"),a=>P1(this.node,a,"End"))))}unmount(){}}class q4 extends Us{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Bl(Cl(this.node.current,"focus",()=>this.onFocus()),Cl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function B1(s,t,e){const{props:i}=s;if(s.current instanceof HTMLButtonElement&&s.current.disabled)return;s.animationState&&i.whileTap&&s.animationState.setActive("whileTap",e==="Start");const a="onTap"+(e==="End"?"":e),o=i[a];o&&oe.postRender(()=>o(t,Il(t)))}class G4 extends Us{mount(){const{current:t}=this.node;t&&(this.unmount=gD(t,(e,i)=>(B1(this.node,i,"Start"),(a,{success:o})=>B1(this.node,a,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const ym=new WeakMap,vp=new WeakMap,$4=s=>{const t=ym.get(s.target);t&&t(s)},X4=s=>{s.forEach($4)};function Y4({root:s,...t}){const e=s||document;vp.has(e)||vp.set(e,{});const i=vp.get(e),a=JSON.stringify(t);return i[a]||(i[a]=new IntersectionObserver(X4,{root:s,...t})),i[a]}function K4(s,t,e){const i=Y4(t);return ym.set(s,e),i.observe(s),()=>{ym.delete(s),i.unobserve(s)}}const W4={some:0,all:1};class Q4 extends Us{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:e,margin:i,amount:a="some",once:o}=t,l={root:e?e.current:void 0,rootMargin:i,threshold:typeof a=="number"?a:W4[a]},u=d=>{const{isIntersecting:f}=d;if(this.isInView===f||(this.isInView=f,o&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:p,onViewportLeave:g}=this.node.getProps(),b=f?p:g;b&&b(d)};return K4(this.node.current,l,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:e}=this.node;["amount","margin","root"].some(Z4(t,e))&&this.startObserver()}unmount(){}}function Z4({viewport:s={}},{viewport:t={}}={}){return e=>s[e]!==t[e]}const J4={inView:{Feature:Q4},tap:{Feature:G4},focus:{Feature:q4},hover:{Feature:V4}},t3={layout:{ProjectionNode:JA,MeasureLayout:GA}},e3={...UR,...J4,...H4,...t3},gt=nR(e3,gR);var tS={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},z1=Zn.createContext&&Zn.createContext(tS),i3=["attr","size","title"];function n3(s,t){if(s==null)return{};var e=s3(s,t),i,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(s);for(a=0;a<o.length;a++)i=o[a],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(s,i)&&(e[i]=s[i])}return e}function s3(s,t){if(s==null)return{};var e={};for(var i in s)if(Object.prototype.hasOwnProperty.call(s,i)){if(t.indexOf(i)>=0)continue;e[i]=s[i]}return e}function id(){return id=Object.assign?Object.assign.bind():function(s){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(s[i]=e[i])}return s},id.apply(this,arguments)}function F1(s,t){var e=Object.keys(s);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(s);t&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(s,a).enumerable})),e.push.apply(e,i)}return e}function nd(s){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?F1(Object(e),!0).forEach(function(i){a3(s,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(e)):F1(Object(e)).forEach(function(i){Object.defineProperty(s,i,Object.getOwnPropertyDescriptor(e,i))})}return s}function a3(s,t,e){return t=r3(t),t in s?Object.defineProperty(s,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):s[t]=e,s}function r3(s){var t=o3(s,"string");return typeof t=="symbol"?t:t+""}function o3(s,t){if(typeof s!="object"||!s)return s;var e=s[Symbol.toPrimitive];if(e!==void 0){var i=e.call(s,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(s)}function eS(s){return s&&s.map((t,e)=>Zn.createElement(t.tag,nd({key:e},t.attr),eS(t.child)))}function Hs(s){return t=>Zn.createElement(l3,id({attr:nd({},s.attr)},t),eS(s.child))}function l3(s){var t=e=>{var{attr:i,size:a,title:o}=s,l=n3(s,i3),u=a||e.size||"1em",d;return e.className&&(d=e.className),s.className&&(d=(d?d+" ":"")+s.className),Zn.createElement("svg",id({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},e.attr,i,l,{className:d,style:nd(nd({color:s.color||e.color},e.style),s.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),o&&Zn.createElement("title",null,o),s.children)};return z1!==void 0?Zn.createElement(z1.Consumer,null,e=>t(e)):t(tS)}function c3(s){return Hs({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(s)}function u3(s){return Hs({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(s)}function d3(s){return Hs({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"},child:[]}]})(s)}function h3(s){return Hs({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(s)}function f3(s){return Hs({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(s)}function p3(s){return Hs({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"},child:[]}]})(s)}function m3(s){return Hs({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(s)}function g3(s){return Hs({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(s)}function x3(){const s=new Date().getFullYear(),t="text-slate-400 hover:text-cyan-400 transition-all duration-300 flex items-center gap-1 group";return m.jsxs("footer",{className:"relative bg-slate-950 border-t border-white/5 pt-20 pb-10 overflow-hidden font-sans",children:[m.jsx("div",{className:"absolute bottom-0 left-1/2 -translate-x-1/2 w-full h-[1px] bg-gradient-to-r from-transparent via-cyan-500/20 to-transparent"}),m.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-12 mb-16",children:[m.jsxs(gt.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"space-y-6",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("div",{className:"bg-blue-600 p-2 rounded-xl shadow-lg shadow-blue-600/20",children:m.jsx(Yr,{size:24,className:"text-white"})}),m.jsxs("h2",{className:"text-2xl font-black text-white tracking-tighter",children:["Jumbo"," ",m.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-blue-500",children:"Xerox"})]})]}),m.jsx("p",{className:"text-slate-400 text-sm leading-relaxed",children:"Revolutionizing online printing with high-quality laser tech and lightning-fast delivery. Upload, pay, and relax."}),m.jsxs("div",{className:"flex space-x-3",children:[m.jsx(wp,{href:"#",icon:m.jsx(d3,{}),color:"hover:bg-green-500/20 hover:text-green-500"}),m.jsx(wp,{href:"#",icon:m.jsx(u3,{}),color:"hover:bg-pink-500/20 hover:text-pink-500"}),m.jsx(wp,{href:"#",icon:m.jsx(c3,{}),color:"hover:bg-blue-500/20 hover:text-blue-500"})]})]}),m.jsxs(gt.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.1},children:[m.jsx("h3",{className:"text-white font-black uppercase text-[10px] tracking-[0.2em] mb-6",children:"Quick Links"}),m.jsxs("ul",{className:"space-y-4 text-sm font-medium",children:[m.jsx("li",{children:m.jsxs(Vt,{to:"/services",className:t,children:[m.jsx(Wn,{size:14,className:"opacity-0 group-hover:opacity-100 -ml-4 group-hover:ml-0 transition-all"})," ","Pricing"]})}),m.jsx("li",{children:m.jsxs(Vt,{to:"/track",className:t,children:[m.jsx(Wn,{size:14,className:"opacity-0 group-hover:opacity-100 -ml-4 group-hover:ml-0 transition-all"})," ","Track Order"]})}),m.jsx("li",{children:m.jsxs(Vt,{to:"/quick-print",className:t,children:[m.jsx(Wn,{size:14,className:"opacity-0 group-hover:opacity-100 -ml-4 group-hover:ml-0 transition-all"})," ","Start Printing"]})}),m.jsx("li",{children:m.jsxs(Vt,{to:"/login",className:t,children:[m.jsx(Wn,{size:14,className:"opacity-0 group-hover:opacity-100 -ml-4 group-hover:ml-0 transition-all"})," ","Partner Login"]})})]})]}),m.jsxs(gt.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.2},children:[m.jsx("h3",{className:"text-white font-black uppercase text-[10px] tracking-[0.2em] mb-6",children:"Legal"}),m.jsxs("ul",{className:"space-y-4 text-sm font-medium",children:[m.jsx("li",{children:m.jsx(Vt,{to:"/terms",className:t,children:"Terms of Service"})}),m.jsx("li",{children:m.jsx(Vt,{to:"/privacy",className:t,children:"Privacy Policy"})}),m.jsx("li",{children:m.jsx(Vt,{to:"/refund",className:t,children:"Refund Policy"})}),m.jsx("li",{children:m.jsx(Vt,{to:"/contact",className:t,children:"Contact Support"})})]})]}),m.jsxs(gt.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.3},className:"space-y-6",children:[m.jsx("h3",{className:"text-white font-black uppercase text-[10px] tracking-[0.2em] mb-6",children:"Store Location"}),m.jsxs("div",{className:"space-y-4",children:[m.jsx(Ap,{icon:m.jsx(ig,{size:18}),text:"Main Road, Guntur, AP - 522002"}),m.jsx(Ap,{icon:m.jsx(ng,{size:18}),text:"+91 98765 43210"}),m.jsx(Ap,{icon:m.jsx(Ll,{size:18}),text:"support@jumbo-xerox.com"})]})]})]}),m.jsxs("div",{className:"pt-10 border-t border-white/5 flex flex-col md:flex-row justify-between items-center gap-4 text-[11px] font-bold uppercase tracking-widest text-slate-600",children:[m.jsxs("p",{children:[" ",s," Jumbo Xerox  Digital Printing Reimagined."]}),m.jsx("div",{className:"flex gap-6",children:m.jsx("span",{className:"hover:text-slate-400 transition-colors cursor-pointer",children:"Built with  for Students"})})]})]})]})}function wp({href:s,icon:t,color:e}){return m.jsx("a",{href:s,className:`w-10 h-10 rounded-xl bg-white/5 flex items-center justify-center text-slate-400 transition-all duration-300 border border-white/5 ${e} hover:-translate-y-1 hover:shadow-lg`,children:t})}function Ap({icon:s,text:t}){return m.jsxs("div",{className:"flex items-start gap-3 group",children:[m.jsx("div",{className:"text-cyan-500 mt-0.5 group-hover:scale-110 transition-transform",children:s}),m.jsx("p",{className:"text-slate-400 text-sm leading-snug group-hover:text-slate-200 transition-colors",children:t})]})}function y3(){return m.jsxs("div",{className:"flex flex-col min-h-screen font-sans bg-gray-50",children:[m.jsx(Sj,{}),m.jsx("main",{className:"flex-grow",children:m.jsx(md,{})}),m.jsx(x3,{})]})}const b3=()=>{const{user:s,loading:t}=k.useContext(ss);return t?m.jsx("div",{className:"text-center mt-20",children:"Loading..."}):s?m.jsx(md,{}):m.jsx(n2,{to:"/login",replace:!0})},v3=()=>{const{user:s,loading:t}=k.useContext(ss);return t?m.jsx("div",{className:"p-10 text-center",children:"Checking Admin Access..."}):s&&s.role==="admin"?m.jsx(md,{}):m.jsx(n2,{replace:!0,to:"/login"})};function iS(s,t){return function(){return s.apply(t,arguments)}}const{toString:w3}=Object.prototype,{getPrototypeOf:Ug}=Object,{iterator:wd,toStringTag:nS}=Symbol,Ad=(s=>t=>{const e=w3.call(t);return s[e]||(s[e]=e.slice(8,-1).toLowerCase())})(Object.create(null)),on=s=>(s=s.toLowerCase(),t=>Ad(t)===s),Sd=s=>t=>typeof t===s,{isArray:Zr}=Array,Hr=Sd("undefined");function Ul(s){return s!==null&&!Hr(s)&&s.constructor!==null&&!Hr(s.constructor)&&yi(s.constructor.isBuffer)&&s.constructor.isBuffer(s)}const sS=on("ArrayBuffer");function A3(s){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(s):t=s&&s.buffer&&sS(s.buffer),t}const S3=Sd("string"),yi=Sd("function"),aS=Sd("number"),Hl=s=>s!==null&&typeof s=="object",E3=s=>s===!0||s===!1,Uu=s=>{if(Ad(s)!=="object")return!1;const t=Ug(s);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(nS in s)&&!(wd in s)},T3=s=>{if(!Hl(s)||Ul(s))return!1;try{return Object.keys(s).length===0&&Object.getPrototypeOf(s)===Object.prototype}catch{return!1}},C3=on("Date"),_3=on("File"),N3=on("Blob"),k3=on("FileList"),j3=s=>Hl(s)&&yi(s.pipe),M3=s=>{let t;return s&&(typeof FormData=="function"&&s instanceof FormData||yi(s.append)&&((t=Ad(s))==="formdata"||t==="object"&&yi(s.toString)&&s.toString()==="[object FormData]"))},D3=on("URLSearchParams"),[R3,O3,L3,P3]=["ReadableStream","Request","Response","Headers"].map(on),B3=s=>s.trim?s.trim():s.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Vl(s,t,{allOwnKeys:e=!1}={}){if(s===null||typeof s>"u")return;let i,a;if(typeof s!="object"&&(s=[s]),Zr(s))for(i=0,a=s.length;i<a;i++)t.call(null,s[i],i,s);else{if(Ul(s))return;const o=e?Object.getOwnPropertyNames(s):Object.keys(s),l=o.length;let u;for(i=0;i<l;i++)u=o[i],t.call(null,s[u],u,s)}}function rS(s,t){if(Ul(s))return null;t=t.toLowerCase();const e=Object.keys(s);let i=e.length,a;for(;i-- >0;)if(a=e[i],t===a.toLowerCase())return a;return null}const pa=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,oS=s=>!Hr(s)&&s!==pa;function bm(){const{caseless:s,skipUndefined:t}=oS(this)&&this||{},e={},i=(a,o)=>{const l=s&&rS(e,o)||o;Uu(e[l])&&Uu(a)?e[l]=bm(e[l],a):Uu(a)?e[l]=bm({},a):Zr(a)?e[l]=a.slice():(!t||!Hr(a))&&(e[l]=a)};for(let a=0,o=arguments.length;a<o;a++)arguments[a]&&Vl(arguments[a],i);return e}const z3=(s,t,e,{allOwnKeys:i}={})=>(Vl(t,(a,o)=>{e&&yi(a)?s[o]=iS(a,e):s[o]=a},{allOwnKeys:i}),s),F3=s=>(s.charCodeAt(0)===65279&&(s=s.slice(1)),s),I3=(s,t,e,i)=>{s.prototype=Object.create(t.prototype,i),s.prototype.constructor=s,Object.defineProperty(s,"super",{value:t.prototype}),e&&Object.assign(s.prototype,e)},U3=(s,t,e,i)=>{let a,o,l;const u={};if(t=t||{},s==null)return t;do{for(a=Object.getOwnPropertyNames(s),o=a.length;o-- >0;)l=a[o],(!i||i(l,s,t))&&!u[l]&&(t[l]=s[l],u[l]=!0);s=e!==!1&&Ug(s)}while(s&&(!e||e(s,t))&&s!==Object.prototype);return t},H3=(s,t,e)=>{s=String(s),(e===void 0||e>s.length)&&(e=s.length),e-=t.length;const i=s.indexOf(t,e);return i!==-1&&i===e},V3=s=>{if(!s)return null;if(Zr(s))return s;let t=s.length;if(!aS(t))return null;const e=new Array(t);for(;t-- >0;)e[t]=s[t];return e},q3=(s=>t=>s&&t instanceof s)(typeof Uint8Array<"u"&&Ug(Uint8Array)),G3=(s,t)=>{const i=(s&&s[wd]).call(s);let a;for(;(a=i.next())&&!a.done;){const o=a.value;t.call(s,o[0],o[1])}},$3=(s,t)=>{let e;const i=[];for(;(e=s.exec(t))!==null;)i.push(e);return i},X3=on("HTMLFormElement"),Y3=s=>s.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,i,a){return i.toUpperCase()+a}),I1=(({hasOwnProperty:s})=>(t,e)=>s.call(t,e))(Object.prototype),K3=on("RegExp"),lS=(s,t)=>{const e=Object.getOwnPropertyDescriptors(s),i={};Vl(e,(a,o)=>{let l;(l=t(a,o,s))!==!1&&(i[o]=l||a)}),Object.defineProperties(s,i)},W3=s=>{lS(s,(t,e)=>{if(yi(s)&&["arguments","caller","callee"].indexOf(e)!==-1)return!1;const i=s[e];if(yi(i)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+e+"'")})}})},Q3=(s,t)=>{const e={},i=a=>{a.forEach(o=>{e[o]=!0})};return Zr(s)?i(s):i(String(s).split(t)),e},Z3=()=>{},J3=(s,t)=>s!=null&&Number.isFinite(s=+s)?s:t;function t5(s){return!!(s&&yi(s.append)&&s[nS]==="FormData"&&s[wd])}const e5=s=>{const t=new Array(10),e=(i,a)=>{if(Hl(i)){if(t.indexOf(i)>=0)return;if(Ul(i))return i;if(!("toJSON"in i)){t[a]=i;const o=Zr(i)?[]:{};return Vl(i,(l,u)=>{const d=e(l,a+1);!Hr(d)&&(o[u]=d)}),t[a]=void 0,o}}return i};return e(s,0)},i5=on("AsyncFunction"),n5=s=>s&&(Hl(s)||yi(s))&&yi(s.then)&&yi(s.catch),cS=((s,t)=>s?setImmediate:t?((e,i)=>(pa.addEventListener("message",({source:a,data:o})=>{a===pa&&o===e&&i.length&&i.shift()()},!1),a=>{i.push(a),pa.postMessage(e,"*")}))(`axios@${Math.random()}`,[]):e=>setTimeout(e))(typeof setImmediate=="function",yi(pa.postMessage)),s5=typeof queueMicrotask<"u"?queueMicrotask.bind(pa):typeof process<"u"&&process.nextTick||cS,a5=s=>s!=null&&yi(s[wd]),Y={isArray:Zr,isArrayBuffer:sS,isBuffer:Ul,isFormData:M3,isArrayBufferView:A3,isString:S3,isNumber:aS,isBoolean:E3,isObject:Hl,isPlainObject:Uu,isEmptyObject:T3,isReadableStream:R3,isRequest:O3,isResponse:L3,isHeaders:P3,isUndefined:Hr,isDate:C3,isFile:_3,isBlob:N3,isRegExp:K3,isFunction:yi,isStream:j3,isURLSearchParams:D3,isTypedArray:q3,isFileList:k3,forEach:Vl,merge:bm,extend:z3,trim:B3,stripBOM:F3,inherits:I3,toFlatObject:U3,kindOf:Ad,kindOfTest:on,endsWith:H3,toArray:V3,forEachEntry:G3,matchAll:$3,isHTMLForm:X3,hasOwnProperty:I1,hasOwnProp:I1,reduceDescriptors:lS,freezeMethods:W3,toObjectSet:Q3,toCamelCase:Y3,noop:Z3,toFiniteNumber:J3,findKey:rS,global:pa,isContextDefined:oS,isSpecCompliantForm:t5,toJSONObject:e5,isAsyncFn:i5,isThenable:n5,setImmediate:cS,asap:s5,isIterable:a5};function Nt(s,t,e,i,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=s,this.name="AxiosError",t&&(this.code=t),e&&(this.config=e),i&&(this.request=i),a&&(this.response=a,this.status=a.status?a.status:null)}Y.inherits(Nt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Y.toJSONObject(this.config),code:this.code,status:this.status}}});const uS=Nt.prototype,dS={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(s=>{dS[s]={value:s}});Object.defineProperties(Nt,dS);Object.defineProperty(uS,"isAxiosError",{value:!0});Nt.from=(s,t,e,i,a,o)=>{const l=Object.create(uS);Y.toFlatObject(s,l,function(p){return p!==Error.prototype},f=>f!=="isAxiosError");const u=s&&s.message?s.message:"Error",d=t==null&&s?s.code:t;return Nt.call(l,u,d,e,i,a),s&&l.cause==null&&Object.defineProperty(l,"cause",{value:s,configurable:!0}),l.name=s&&s.name||"Error",o&&Object.assign(l,o),l};const r5=null;function vm(s){return Y.isPlainObject(s)||Y.isArray(s)}function hS(s){return Y.endsWith(s,"[]")?s.slice(0,-2):s}function U1(s,t,e){return s?s.concat(t).map(function(a,o){return a=hS(a),!e&&o?"["+a+"]":a}).join(e?".":""):t}function o5(s){return Y.isArray(s)&&!s.some(vm)}const l5=Y.toFlatObject(Y,{},null,function(t){return/^is[A-Z]/.test(t)});function Ed(s,t,e){if(!Y.isObject(s))throw new TypeError("target must be an object");t=t||new FormData,e=Y.toFlatObject(e,{metaTokens:!0,dots:!1,indexes:!1},!1,function(A,E){return!Y.isUndefined(E[A])});const i=e.metaTokens,a=e.visitor||p,o=e.dots,l=e.indexes,d=(e.Blob||typeof Blob<"u"&&Blob)&&Y.isSpecCompliantForm(t);if(!Y.isFunction(a))throw new TypeError("visitor must be a function");function f(w){if(w===null)return"";if(Y.isDate(w))return w.toISOString();if(Y.isBoolean(w))return w.toString();if(!d&&Y.isBlob(w))throw new Nt("Blob is not supported. Use a Buffer instead.");return Y.isArrayBuffer(w)||Y.isTypedArray(w)?d&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function p(w,A,E){let T=w;if(w&&!E&&typeof w=="object"){if(Y.endsWith(A,"{}"))A=i?A:A.slice(0,-2),w=JSON.stringify(w);else if(Y.isArray(w)&&o5(w)||(Y.isFileList(w)||Y.endsWith(A,"[]"))&&(T=Y.toArray(w)))return A=hS(A),T.forEach(function(C,j){!(Y.isUndefined(C)||C===null)&&t.append(l===!0?U1([A],j,o):l===null?A:A+"[]",f(C))}),!1}return vm(w)?!0:(t.append(U1(E,A,o),f(w)),!1)}const g=[],b=Object.assign(l5,{defaultVisitor:p,convertValue:f,isVisitable:vm});function v(w,A){if(!Y.isUndefined(w)){if(g.indexOf(w)!==-1)throw Error("Circular reference detected in "+A.join("."));g.push(w),Y.forEach(w,function(T,_){(!(Y.isUndefined(T)||T===null)&&a.call(t,T,Y.isString(_)?_.trim():_,A,b))===!0&&v(T,A?A.concat(_):[_])}),g.pop()}}if(!Y.isObject(s))throw new TypeError("data must be an object");return v(s),t}function H1(s){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(s).replace(/[!'()~]|%20|%00/g,function(i){return t[i]})}function Hg(s,t){this._pairs=[],s&&Ed(s,this,t)}const fS=Hg.prototype;fS.append=function(t,e){this._pairs.push([t,e])};fS.toString=function(t){const e=t?function(i){return t.call(this,i,H1)}:H1;return this._pairs.map(function(a){return e(a[0])+"="+e(a[1])},"").join("&")};function c5(s){return encodeURIComponent(s).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function pS(s,t,e){if(!t)return s;const i=e&&e.encode||c5;Y.isFunction(e)&&(e={serialize:e});const a=e&&e.serialize;let o;if(a?o=a(t,e):o=Y.isURLSearchParams(t)?t.toString():new Hg(t,e).toString(i),o){const l=s.indexOf("#");l!==-1&&(s=s.slice(0,l)),s+=(s.indexOf("?")===-1?"?":"&")+o}return s}class V1{constructor(){this.handlers=[]}use(t,e,i){return this.handlers.push({fulfilled:t,rejected:e,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Y.forEach(this.handlers,function(i){i!==null&&t(i)})}}const mS={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},u5=typeof URLSearchParams<"u"?URLSearchParams:Hg,d5=typeof FormData<"u"?FormData:null,h5=typeof Blob<"u"?Blob:null,f5={isBrowser:!0,classes:{URLSearchParams:u5,FormData:d5,Blob:h5},protocols:["http","https","file","blob","url","data"]},Vg=typeof window<"u"&&typeof document<"u",wm=typeof navigator=="object"&&navigator||void 0,p5=Vg&&(!wm||["ReactNative","NativeScript","NS"].indexOf(wm.product)<0),m5=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",g5=Vg&&window.location.href||"http://localhost",x5=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Vg,hasStandardBrowserEnv:p5,hasStandardBrowserWebWorkerEnv:m5,navigator:wm,origin:g5},Symbol.toStringTag,{value:"Module"})),Ze={...x5,...f5};function y5(s,t){return Ed(s,new Ze.classes.URLSearchParams,{visitor:function(e,i,a,o){return Ze.isNode&&Y.isBuffer(e)?(this.append(i,e.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...t})}function b5(s){return Y.matchAll(/\w+|\[(\w*)]/g,s).map(t=>t[0]==="[]"?"":t[1]||t[0])}function v5(s){const t={},e=Object.keys(s);let i;const a=e.length;let o;for(i=0;i<a;i++)o=e[i],t[o]=s[o];return t}function gS(s){function t(e,i,a,o){let l=e[o++];if(l==="__proto__")return!0;const u=Number.isFinite(+l),d=o>=e.length;return l=!l&&Y.isArray(a)?a.length:l,d?(Y.hasOwnProp(a,l)?a[l]=[a[l],i]:a[l]=i,!u):((!a[l]||!Y.isObject(a[l]))&&(a[l]=[]),t(e,i,a[l],o)&&Y.isArray(a[l])&&(a[l]=v5(a[l])),!u)}if(Y.isFormData(s)&&Y.isFunction(s.entries)){const e={};return Y.forEachEntry(s,(i,a)=>{t(b5(i),a,e,0)}),e}return null}function w5(s,t,e){if(Y.isString(s))try{return(t||JSON.parse)(s),Y.trim(s)}catch(i){if(i.name!=="SyntaxError")throw i}return(e||JSON.stringify)(s)}const ql={transitional:mS,adapter:["xhr","http","fetch"],transformRequest:[function(t,e){const i=e.getContentType()||"",a=i.indexOf("application/json")>-1,o=Y.isObject(t);if(o&&Y.isHTMLForm(t)&&(t=new FormData(t)),Y.isFormData(t))return a?JSON.stringify(gS(t)):t;if(Y.isArrayBuffer(t)||Y.isBuffer(t)||Y.isStream(t)||Y.isFile(t)||Y.isBlob(t)||Y.isReadableStream(t))return t;if(Y.isArrayBufferView(t))return t.buffer;if(Y.isURLSearchParams(t))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let u;if(o){if(i.indexOf("application/x-www-form-urlencoded")>-1)return y5(t,this.formSerializer).toString();if((u=Y.isFileList(t))||i.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return Ed(u?{"files[]":t}:t,d&&new d,this.formSerializer)}}return o||a?(e.setContentType("application/json",!1),w5(t)):t}],transformResponse:[function(t){const e=this.transitional||ql.transitional,i=e&&e.forcedJSONParsing,a=this.responseType==="json";if(Y.isResponse(t)||Y.isReadableStream(t))return t;if(t&&Y.isString(t)&&(i&&!this.responseType||a)){const l=!(e&&e.silentJSONParsing)&&a;try{return JSON.parse(t,this.parseReviver)}catch(u){if(l)throw u.name==="SyntaxError"?Nt.from(u,Nt.ERR_BAD_RESPONSE,this,null,this.response):u}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ze.classes.FormData,Blob:Ze.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Y.forEach(["delete","get","head","post","put","patch"],s=>{ql.headers[s]={}});const A5=Y.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),S5=s=>{const t={};let e,i,a;return s&&s.split(`
`).forEach(function(l){a=l.indexOf(":"),e=l.substring(0,a).trim().toLowerCase(),i=l.substring(a+1).trim(),!(!e||t[e]&&A5[e])&&(e==="set-cookie"?t[e]?t[e].push(i):t[e]=[i]:t[e]=t[e]?t[e]+", "+i:i)}),t},q1=Symbol("internals");function el(s){return s&&String(s).trim().toLowerCase()}function Hu(s){return s===!1||s==null?s:Y.isArray(s)?s.map(Hu):String(s)}function E5(s){const t=Object.create(null),e=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=e.exec(s);)t[i[1]]=i[2];return t}const T5=s=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(s.trim());function Sp(s,t,e,i,a){if(Y.isFunction(i))return i.call(this,t,e);if(a&&(t=e),!!Y.isString(t)){if(Y.isString(i))return t.indexOf(i)!==-1;if(Y.isRegExp(i))return i.test(t)}}function C5(s){return s.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,e,i)=>e.toUpperCase()+i)}function _5(s,t){const e=Y.toCamelCase(" "+t);["get","set","has"].forEach(i=>{Object.defineProperty(s,i+e,{value:function(a,o,l){return this[i].call(this,t,a,o,l)},configurable:!0})})}let bi=class{constructor(t){t&&this.set(t)}set(t,e,i){const a=this;function o(u,d,f){const p=el(d);if(!p)throw new Error("header name must be a non-empty string");const g=Y.findKey(a,p);(!g||a[g]===void 0||f===!0||f===void 0&&a[g]!==!1)&&(a[g||d]=Hu(u))}const l=(u,d)=>Y.forEach(u,(f,p)=>o(f,p,d));if(Y.isPlainObject(t)||t instanceof this.constructor)l(t,e);else if(Y.isString(t)&&(t=t.trim())&&!T5(t))l(S5(t),e);else if(Y.isObject(t)&&Y.isIterable(t)){let u={},d,f;for(const p of t){if(!Y.isArray(p))throw TypeError("Object iterator must return a key-value pair");u[f=p[0]]=(d=u[f])?Y.isArray(d)?[...d,p[1]]:[d,p[1]]:p[1]}l(u,e)}else t!=null&&o(e,t,i);return this}get(t,e){if(t=el(t),t){const i=Y.findKey(this,t);if(i){const a=this[i];if(!e)return a;if(e===!0)return E5(a);if(Y.isFunction(e))return e.call(this,a,i);if(Y.isRegExp(e))return e.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,e){if(t=el(t),t){const i=Y.findKey(this,t);return!!(i&&this[i]!==void 0&&(!e||Sp(this,this[i],i,e)))}return!1}delete(t,e){const i=this;let a=!1;function o(l){if(l=el(l),l){const u=Y.findKey(i,l);u&&(!e||Sp(i,i[u],u,e))&&(delete i[u],a=!0)}}return Y.isArray(t)?t.forEach(o):o(t),a}clear(t){const e=Object.keys(this);let i=e.length,a=!1;for(;i--;){const o=e[i];(!t||Sp(this,this[o],o,t,!0))&&(delete this[o],a=!0)}return a}normalize(t){const e=this,i={};return Y.forEach(this,(a,o)=>{const l=Y.findKey(i,o);if(l){e[l]=Hu(a),delete e[o];return}const u=t?C5(o):String(o).trim();u!==o&&delete e[o],e[u]=Hu(a),i[u]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const e=Object.create(null);return Y.forEach(this,(i,a)=>{i!=null&&i!==!1&&(e[a]=t&&Y.isArray(i)?i.join(", "):i)}),e}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,e])=>t+": "+e).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...e){const i=new this(t);return e.forEach(a=>i.set(a)),i}static accessor(t){const i=(this[q1]=this[q1]={accessors:{}}).accessors,a=this.prototype;function o(l){const u=el(l);i[u]||(_5(a,l),i[u]=!0)}return Y.isArray(t)?t.forEach(o):o(t),this}};bi.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Y.reduceDescriptors(bi.prototype,({value:s},t)=>{let e=t[0].toUpperCase()+t.slice(1);return{get:()=>s,set(i){this[e]=i}}});Y.freezeMethods(bi);function Ep(s,t){const e=this||ql,i=t||e,a=bi.from(i.headers);let o=i.data;return Y.forEach(s,function(u){o=u.call(e,o,a.normalize(),t?t.status:void 0)}),a.normalize(),o}function xS(s){return!!(s&&s.__CANCEL__)}function Jr(s,t,e){Nt.call(this,s??"canceled",Nt.ERR_CANCELED,t,e),this.name="CanceledError"}Y.inherits(Jr,Nt,{__CANCEL__:!0});function yS(s,t,e){const i=e.config.validateStatus;!e.status||!i||i(e.status)?s(e):t(new Nt("Request failed with status code "+e.status,[Nt.ERR_BAD_REQUEST,Nt.ERR_BAD_RESPONSE][Math.floor(e.status/100)-4],e.config,e.request,e))}function N5(s){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(s);return t&&t[1]||""}function k5(s,t){s=s||10;const e=new Array(s),i=new Array(s);let a=0,o=0,l;return t=t!==void 0?t:1e3,function(d){const f=Date.now(),p=i[o];l||(l=f),e[a]=d,i[a]=f;let g=o,b=0;for(;g!==a;)b+=e[g++],g=g%s;if(a=(a+1)%s,a===o&&(o=(o+1)%s),f-l<t)return;const v=p&&f-p;return v?Math.round(b*1e3/v):void 0}}function j5(s,t){let e=0,i=1e3/t,a,o;const l=(f,p=Date.now())=>{e=p,a=null,o&&(clearTimeout(o),o=null),s(...f)};return[(...f)=>{const p=Date.now(),g=p-e;g>=i?l(f,p):(a=f,o||(o=setTimeout(()=>{o=null,l(a)},i-g)))},()=>a&&l(a)]}const sd=(s,t,e=3)=>{let i=0;const a=k5(50,250);return j5(o=>{const l=o.loaded,u=o.lengthComputable?o.total:void 0,d=l-i,f=a(d),p=l<=u;i=l;const g={loaded:l,total:u,progress:u?l/u:void 0,bytes:d,rate:f||void 0,estimated:f&&u&&p?(u-l)/f:void 0,event:o,lengthComputable:u!=null,[t?"download":"upload"]:!0};s(g)},e)},G1=(s,t)=>{const e=s!=null;return[i=>t[0]({lengthComputable:e,total:s,loaded:i}),t[1]]},$1=s=>(...t)=>Y.asap(()=>s(...t)),M5=Ze.hasStandardBrowserEnv?((s,t)=>e=>(e=new URL(e,Ze.origin),s.protocol===e.protocol&&s.host===e.host&&(t||s.port===e.port)))(new URL(Ze.origin),Ze.navigator&&/(msie|trident)/i.test(Ze.navigator.userAgent)):()=>!0,D5=Ze.hasStandardBrowserEnv?{write(s,t,e,i,a,o,l){if(typeof document>"u")return;const u=[`${s}=${encodeURIComponent(t)}`];Y.isNumber(e)&&u.push(`expires=${new Date(e).toUTCString()}`),Y.isString(i)&&u.push(`path=${i}`),Y.isString(a)&&u.push(`domain=${a}`),o===!0&&u.push("secure"),Y.isString(l)&&u.push(`SameSite=${l}`),document.cookie=u.join("; ")},read(s){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+s+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(s){this.write(s,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function R5(s){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(s)}function O5(s,t){return t?s.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):s}function bS(s,t,e){let i=!R5(t);return s&&(i||e==!1)?O5(s,t):t}const X1=s=>s instanceof bi?{...s}:s;function Aa(s,t){t=t||{};const e={};function i(f,p,g,b){return Y.isPlainObject(f)&&Y.isPlainObject(p)?Y.merge.call({caseless:b},f,p):Y.isPlainObject(p)?Y.merge({},p):Y.isArray(p)?p.slice():p}function a(f,p,g,b){if(Y.isUndefined(p)){if(!Y.isUndefined(f))return i(void 0,f,g,b)}else return i(f,p,g,b)}function o(f,p){if(!Y.isUndefined(p))return i(void 0,p)}function l(f,p){if(Y.isUndefined(p)){if(!Y.isUndefined(f))return i(void 0,f)}else return i(void 0,p)}function u(f,p,g){if(g in t)return i(f,p);if(g in s)return i(void 0,f)}const d={url:o,method:o,data:o,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:u,headers:(f,p,g)=>a(X1(f),X1(p),g,!0)};return Y.forEach(Object.keys({...s,...t}),function(p){const g=d[p]||a,b=g(s[p],t[p],p);Y.isUndefined(b)&&g!==u||(e[p]=b)}),e}const vS=s=>{const t=Aa({},s);let{data:e,withXSRFToken:i,xsrfHeaderName:a,xsrfCookieName:o,headers:l,auth:u}=t;if(t.headers=l=bi.from(l),t.url=pS(bS(t.baseURL,t.url,t.allowAbsoluteUrls),s.params,s.paramsSerializer),u&&l.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):""))),Y.isFormData(e)){if(Ze.hasStandardBrowserEnv||Ze.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(Y.isFunction(e.getHeaders)){const d=e.getHeaders(),f=["content-type","content-length"];Object.entries(d).forEach(([p,g])=>{f.includes(p.toLowerCase())&&l.set(p,g)})}}if(Ze.hasStandardBrowserEnv&&(i&&Y.isFunction(i)&&(i=i(t)),i||i!==!1&&M5(t.url))){const d=a&&o&&D5.read(o);d&&l.set(a,d)}return t},L5=typeof XMLHttpRequest<"u",P5=L5&&function(s){return new Promise(function(e,i){const a=vS(s);let o=a.data;const l=bi.from(a.headers).normalize();let{responseType:u,onUploadProgress:d,onDownloadProgress:f}=a,p,g,b,v,w;function A(){v&&v(),w&&w(),a.cancelToken&&a.cancelToken.unsubscribe(p),a.signal&&a.signal.removeEventListener("abort",p)}let E=new XMLHttpRequest;E.open(a.method.toUpperCase(),a.url,!0),E.timeout=a.timeout;function T(){if(!E)return;const C=bi.from("getAllResponseHeaders"in E&&E.getAllResponseHeaders()),M={data:!u||u==="text"||u==="json"?E.responseText:E.response,status:E.status,statusText:E.statusText,headers:C,config:s,request:E};yS(function(D){e(D),A()},function(D){i(D),A()},M),E=null}"onloadend"in E?E.onloadend=T:E.onreadystatechange=function(){!E||E.readyState!==4||E.status===0&&!(E.responseURL&&E.responseURL.indexOf("file:")===0)||setTimeout(T)},E.onabort=function(){E&&(i(new Nt("Request aborted",Nt.ECONNABORTED,s,E)),E=null)},E.onerror=function(j){const M=j&&j.message?j.message:"Network Error",R=new Nt(M,Nt.ERR_NETWORK,s,E);R.event=j||null,i(R),E=null},E.ontimeout=function(){let j=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const M=a.transitional||mS;a.timeoutErrorMessage&&(j=a.timeoutErrorMessage),i(new Nt(j,M.clarifyTimeoutError?Nt.ETIMEDOUT:Nt.ECONNABORTED,s,E)),E=null},o===void 0&&l.setContentType(null),"setRequestHeader"in E&&Y.forEach(l.toJSON(),function(j,M){E.setRequestHeader(M,j)}),Y.isUndefined(a.withCredentials)||(E.withCredentials=!!a.withCredentials),u&&u!=="json"&&(E.responseType=a.responseType),f&&([b,w]=sd(f,!0),E.addEventListener("progress",b)),d&&E.upload&&([g,v]=sd(d),E.upload.addEventListener("progress",g),E.upload.addEventListener("loadend",v)),(a.cancelToken||a.signal)&&(p=C=>{E&&(i(!C||C.type?new Jr(null,s,E):C),E.abort(),E=null)},a.cancelToken&&a.cancelToken.subscribe(p),a.signal&&(a.signal.aborted?p():a.signal.addEventListener("abort",p)));const _=N5(a.url);if(_&&Ze.protocols.indexOf(_)===-1){i(new Nt("Unsupported protocol "+_+":",Nt.ERR_BAD_REQUEST,s));return}E.send(o||null)})},B5=(s,t)=>{const{length:e}=s=s?s.filter(Boolean):[];if(t||e){let i=new AbortController,a;const o=function(f){if(!a){a=!0,u();const p=f instanceof Error?f:this.reason;i.abort(p instanceof Nt?p:new Jr(p instanceof Error?p.message:p))}};let l=t&&setTimeout(()=>{l=null,o(new Nt(`timeout ${t} of ms exceeded`,Nt.ETIMEDOUT))},t);const u=()=>{s&&(l&&clearTimeout(l),l=null,s.forEach(f=>{f.unsubscribe?f.unsubscribe(o):f.removeEventListener("abort",o)}),s=null)};s.forEach(f=>f.addEventListener("abort",o));const{signal:d}=i;return d.unsubscribe=()=>Y.asap(u),d}},z5=function*(s,t){let e=s.byteLength;if(e<t){yield s;return}let i=0,a;for(;i<e;)a=i+t,yield s.slice(i,a),i=a},F5=async function*(s,t){for await(const e of I5(s))yield*z5(e,t)},I5=async function*(s){if(s[Symbol.asyncIterator]){yield*s;return}const t=s.getReader();try{for(;;){const{done:e,value:i}=await t.read();if(e)break;yield i}}finally{await t.cancel()}},Y1=(s,t,e,i)=>{const a=F5(s,t);let o=0,l,u=d=>{l||(l=!0,i&&i(d))};return new ReadableStream({async pull(d){try{const{done:f,value:p}=await a.next();if(f){u(),d.close();return}let g=p.byteLength;if(e){let b=o+=g;e(b)}d.enqueue(new Uint8Array(p))}catch(f){throw u(f),f}},cancel(d){return u(d),a.return()}},{highWaterMark:2})},K1=64*1024,{isFunction:vu}=Y,U5=(({Request:s,Response:t})=>({Request:s,Response:t}))(Y.global),{ReadableStream:W1,TextEncoder:Q1}=Y.global,Z1=(s,...t)=>{try{return!!s(...t)}catch{return!1}},H5=s=>{s=Y.merge.call({skipUndefined:!0},U5,s);const{fetch:t,Request:e,Response:i}=s,a=t?vu(t):typeof fetch=="function",o=vu(e),l=vu(i);if(!a)return!1;const u=a&&vu(W1),d=a&&(typeof Q1=="function"?(w=>A=>w.encode(A))(new Q1):async w=>new Uint8Array(await new e(w).arrayBuffer())),f=o&&u&&Z1(()=>{let w=!1;const A=new e(Ze.origin,{body:new W1,method:"POST",get duplex(){return w=!0,"half"}}).headers.has("Content-Type");return w&&!A}),p=l&&u&&Z1(()=>Y.isReadableStream(new i("").body)),g={stream:p&&(w=>w.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(w=>{!g[w]&&(g[w]=(A,E)=>{let T=A&&A[w];if(T)return T.call(A);throw new Nt(`Response type '${w}' is not supported`,Nt.ERR_NOT_SUPPORT,E)})});const b=async w=>{if(w==null)return 0;if(Y.isBlob(w))return w.size;if(Y.isSpecCompliantForm(w))return(await new e(Ze.origin,{method:"POST",body:w}).arrayBuffer()).byteLength;if(Y.isArrayBufferView(w)||Y.isArrayBuffer(w))return w.byteLength;if(Y.isURLSearchParams(w)&&(w=w+""),Y.isString(w))return(await d(w)).byteLength},v=async(w,A)=>{const E=Y.toFiniteNumber(w.getContentLength());return E??b(A)};return async w=>{let{url:A,method:E,data:T,signal:_,cancelToken:C,timeout:j,onDownloadProgress:M,onUploadProgress:R,responseType:D,headers:P,withCredentials:X="same-origin",fetchOptions:V}=vS(w),W=t||fetch;D=D?(D+"").toLowerCase():"text";let rt=B5([_,C&&C.toAbortSignal()],j),ft=null;const et=rt&&rt.unsubscribe&&(()=>{rt.unsubscribe()});let at;try{if(R&&f&&E!=="get"&&E!=="head"&&(at=await v(P,T))!==0){let O=new e(A,{method:"POST",body:T,duplex:"half"}),$;if(Y.isFormData(T)&&($=O.headers.get("content-type"))&&P.setContentType($),O.body){const[J,nt]=G1(at,sd($1(R)));T=Y1(O.body,K1,J,nt)}}Y.isString(X)||(X=X?"include":"omit");const z=o&&"credentials"in e.prototype,q={...V,signal:rt,method:E.toUpperCase(),headers:P.normalize().toJSON(),body:T,duplex:"half",credentials:z?X:void 0};ft=o&&new e(A,q);let I=await(o?W(ft,V):W(A,q));const it=p&&(D==="stream"||D==="response");if(p&&(M||it&&et)){const O={};["status","statusText","headers"].forEach(pt=>{O[pt]=I[pt]});const $=Y.toFiniteNumber(I.headers.get("content-length")),[J,nt]=M&&G1($,sd($1(M),!0))||[];I=new i(Y1(I.body,K1,J,()=>{nt&&nt(),et&&et()}),O)}D=D||"text";let dt=await g[Y.findKey(g,D)||"text"](I,w);return!it&&et&&et(),await new Promise((O,$)=>{yS(O,$,{data:dt,headers:bi.from(I.headers),status:I.status,statusText:I.statusText,config:w,request:ft})})}catch(z){throw et&&et(),z&&z.name==="TypeError"&&/Load failed|fetch/i.test(z.message)?Object.assign(new Nt("Network Error",Nt.ERR_NETWORK,w,ft),{cause:z.cause||z}):Nt.from(z,z&&z.code,w,ft)}}},V5=new Map,wS=s=>{let t=s&&s.env||{};const{fetch:e,Request:i,Response:a}=t,o=[i,a,e];let l=o.length,u=l,d,f,p=V5;for(;u--;)d=o[u],f=p.get(d),f===void 0&&p.set(d,f=u?new Map:H5(t)),p=f;return f};wS();const qg={http:r5,xhr:P5,fetch:{get:wS}};Y.forEach(qg,(s,t)=>{if(s){try{Object.defineProperty(s,"name",{value:t})}catch{}Object.defineProperty(s,"adapterName",{value:t})}});const J1=s=>`- ${s}`,q5=s=>Y.isFunction(s)||s===null||s===!1;function G5(s,t){s=Y.isArray(s)?s:[s];const{length:e}=s;let i,a;const o={};for(let l=0;l<e;l++){i=s[l];let u;if(a=i,!q5(i)&&(a=qg[(u=String(i)).toLowerCase()],a===void 0))throw new Nt(`Unknown adapter '${u}'`);if(a&&(Y.isFunction(a)||(a=a.get(t))))break;o[u||"#"+l]=a}if(!a){const l=Object.entries(o).map(([d,f])=>`adapter ${d} `+(f===!1?"is not supported by the environment":"is not available in the build"));let u=e?l.length>1?`since :
`+l.map(J1).join(`
`):" "+J1(l[0]):"as no adapter specified";throw new Nt("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return a}const AS={getAdapter:G5,adapters:qg};function Tp(s){if(s.cancelToken&&s.cancelToken.throwIfRequested(),s.signal&&s.signal.aborted)throw new Jr(null,s)}function tw(s){return Tp(s),s.headers=bi.from(s.headers),s.data=Ep.call(s,s.transformRequest),["post","put","patch"].indexOf(s.method)!==-1&&s.headers.setContentType("application/x-www-form-urlencoded",!1),AS.getAdapter(s.adapter||ql.adapter,s)(s).then(function(i){return Tp(s),i.data=Ep.call(s,s.transformResponse,i),i.headers=bi.from(i.headers),i},function(i){return xS(i)||(Tp(s),i&&i.response&&(i.response.data=Ep.call(s,s.transformResponse,i.response),i.response.headers=bi.from(i.response.headers))),Promise.reject(i)})}const SS="1.13.2",Td={};["object","boolean","number","function","string","symbol"].forEach((s,t)=>{Td[s]=function(i){return typeof i===s||"a"+(t<1?"n ":" ")+s}});const ew={};Td.transitional=function(t,e,i){function a(o,l){return"[Axios v"+SS+"] Transitional option '"+o+"'"+l+(i?". "+i:"")}return(o,l,u)=>{if(t===!1)throw new Nt(a(l," has been removed"+(e?" in "+e:"")),Nt.ERR_DEPRECATED);return e&&!ew[l]&&(ew[l]=!0,console.warn(a(l," has been deprecated since v"+e+" and will be removed in the near future"))),t?t(o,l,u):!0}};Td.spelling=function(t){return(e,i)=>(console.warn(`${i} is likely a misspelling of ${t}`),!0)};function $5(s,t,e){if(typeof s!="object")throw new Nt("options must be an object",Nt.ERR_BAD_OPTION_VALUE);const i=Object.keys(s);let a=i.length;for(;a-- >0;){const o=i[a],l=t[o];if(l){const u=s[o],d=u===void 0||l(u,o,s);if(d!==!0)throw new Nt("option "+o+" must be "+d,Nt.ERR_BAD_OPTION_VALUE);continue}if(e!==!0)throw new Nt("Unknown option "+o,Nt.ERR_BAD_OPTION)}}const Vu={assertOptions:$5,validators:Td},pn=Vu.validators;let wa=class{constructor(t){this.defaults=t||{},this.interceptors={request:new V1,response:new V1}}async request(t,e){try{return await this._request(t,e)}catch(i){if(i instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const o=a.stack?a.stack.replace(/^.+\n/,""):"";try{i.stack?o&&!String(i.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+o):i.stack=o}catch{}}throw i}}_request(t,e){typeof t=="string"?(e=e||{},e.url=t):e=t||{},e=Aa(this.defaults,e);const{transitional:i,paramsSerializer:a,headers:o}=e;i!==void 0&&Vu.assertOptions(i,{silentJSONParsing:pn.transitional(pn.boolean),forcedJSONParsing:pn.transitional(pn.boolean),clarifyTimeoutError:pn.transitional(pn.boolean)},!1),a!=null&&(Y.isFunction(a)?e.paramsSerializer={serialize:a}:Vu.assertOptions(a,{encode:pn.function,serialize:pn.function},!0)),e.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?e.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:e.allowAbsoluteUrls=!0),Vu.assertOptions(e,{baseUrl:pn.spelling("baseURL"),withXsrfToken:pn.spelling("withXSRFToken")},!0),e.method=(e.method||this.defaults.method||"get").toLowerCase();let l=o&&Y.merge(o.common,o[e.method]);o&&Y.forEach(["delete","get","head","post","put","patch","common"],w=>{delete o[w]}),e.headers=bi.concat(l,o);const u=[];let d=!0;this.interceptors.request.forEach(function(A){typeof A.runWhen=="function"&&A.runWhen(e)===!1||(d=d&&A.synchronous,u.unshift(A.fulfilled,A.rejected))});const f=[];this.interceptors.response.forEach(function(A){f.push(A.fulfilled,A.rejected)});let p,g=0,b;if(!d){const w=[tw.bind(this),void 0];for(w.unshift(...u),w.push(...f),b=w.length,p=Promise.resolve(e);g<b;)p=p.then(w[g++],w[g++]);return p}b=u.length;let v=e;for(;g<b;){const w=u[g++],A=u[g++];try{v=w(v)}catch(E){A.call(this,E);break}}try{p=tw.call(this,v)}catch(w){return Promise.reject(w)}for(g=0,b=f.length;g<b;)p=p.then(f[g++],f[g++]);return p}getUri(t){t=Aa(this.defaults,t);const e=bS(t.baseURL,t.url,t.allowAbsoluteUrls);return pS(e,t.params,t.paramsSerializer)}};Y.forEach(["delete","get","head","options"],function(t){wa.prototype[t]=function(e,i){return this.request(Aa(i||{},{method:t,url:e,data:(i||{}).data}))}});Y.forEach(["post","put","patch"],function(t){function e(i){return function(o,l,u){return this.request(Aa(u||{},{method:t,headers:i?{"Content-Type":"multipart/form-data"}:{},url:o,data:l}))}}wa.prototype[t]=e(),wa.prototype[t+"Form"]=e(!0)});let X5=class ES{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let e;this.promise=new Promise(function(o){e=o});const i=this;this.promise.then(a=>{if(!i._listeners)return;let o=i._listeners.length;for(;o-- >0;)i._listeners[o](a);i._listeners=null}),this.promise.then=a=>{let o;const l=new Promise(u=>{i.subscribe(u),o=u}).then(a);return l.cancel=function(){i.unsubscribe(o)},l},t(function(o,l,u){i.reason||(i.reason=new Jr(o,l,u),e(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const e=this._listeners.indexOf(t);e!==-1&&this._listeners.splice(e,1)}toAbortSignal(){const t=new AbortController,e=i=>{t.abort(i)};return this.subscribe(e),t.signal.unsubscribe=()=>this.unsubscribe(e),t.signal}static source(){let t;return{token:new ES(function(a){t=a}),cancel:t}}};function Y5(s){return function(e){return s.apply(null,e)}}function K5(s){return Y.isObject(s)&&s.isAxiosError===!0}const Am={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Am).forEach(([s,t])=>{Am[t]=s});function TS(s){const t=new wa(s),e=iS(wa.prototype.request,t);return Y.extend(e,wa.prototype,t,{allOwnKeys:!0}),Y.extend(e,t,null,{allOwnKeys:!0}),e.create=function(a){return TS(Aa(s,a))},e}const ce=TS(ql);ce.Axios=wa;ce.CanceledError=Jr;ce.CancelToken=X5;ce.isCancel=xS;ce.VERSION=SS;ce.toFormData=Ed;ce.AxiosError=Nt;ce.Cancel=ce.CanceledError;ce.all=function(t){return Promise.all(t)};ce.spread=Y5;ce.isAxiosError=K5;ce.mergeConfig=Aa;ce.AxiosHeaders=bi;ce.formToJSON=s=>gS(Y.isHTMLForm(s)?new FormData(s):s);ce.getAdapter=AS.getAdapter;ce.HttpStatusCode=Am;ce.default=ce;const{Axios:lB,AxiosError:cB,CanceledError:uB,isCancel:dB,CancelToken:hB,VERSION:fB,all:pB,Cancel:mB,isAxiosError:gB,spread:xB,toFormData:yB,AxiosHeaders:bB,HttpStatusCode:vB,formToJSON:wB,getAdapter:AB,mergeConfig:SB}=ce,pe=ce.create({baseURL:"/api"});pe.interceptors.request.use(s=>{const t=localStorage.getItem("token");return console.log(`[DEBUG-API-REQ] URL: ${s.url} | Token Present: ${!!t}`),t&&(s.headers.Authorization=`Bearer ${t}`),s},s=>(console.error("[DEBUG-API-ERR] Request Interceptor Error"),Promise.reject(s)));let W5={data:""},Q5=s=>{if(typeof window=="object"){let t=(s?s.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(s||document.head).appendChild(t),t.firstChild}return s||W5},Z5=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,J5=/\/\*[^]*?\*\/|  +/g,iw=/\n+/g,Os=(s,t)=>{let e="",i="",a="";for(let o in s){let l=s[o];o[0]=="@"?o[1]=="i"?e=o+" "+l+";":i+=o[1]=="f"?Os(l,o):o+"{"+Os(l,o[1]=="k"?"":t)+"}":typeof l=="object"?i+=Os(l,t?t.replace(/([^,])+/g,u=>o.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,d=>/&/.test(d)?d.replace(/&/g,u):u?u+" "+d:d)):o):l!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=Os.p?Os.p(o,l):o+":"+l+";")}return e+(t&&a?t+"{"+a+"}":a)+i},Gn={},CS=s=>{if(typeof s=="object"){let t="";for(let e in s)t+=e+CS(s[e]);return t}return s},tO=(s,t,e,i,a)=>{let o=CS(s),l=Gn[o]||(Gn[o]=(d=>{let f=0,p=11;for(;f<d.length;)p=101*p+d.charCodeAt(f++)>>>0;return"go"+p})(o));if(!Gn[l]){let d=o!==s?s:(f=>{let p,g,b=[{}];for(;p=Z5.exec(f.replace(J5,""));)p[4]?b.shift():p[3]?(g=p[3].replace(iw," ").trim(),b.unshift(b[0][g]=b[0][g]||{})):b[0][p[1]]=p[2].replace(iw," ").trim();return b[0]})(s);Gn[l]=Os(a?{["@keyframes "+l]:d}:d,e?"":"."+l)}let u=e&&Gn.g?Gn.g:null;return e&&(Gn.g=Gn[l]),((d,f,p,g)=>{g?f.data=f.data.replace(g,d):f.data.indexOf(d)===-1&&(f.data=p?d+f.data:f.data+d)})(Gn[l],t,i,u),l},eO=(s,t,e)=>s.reduce((i,a,o)=>{let l=t[o];if(l&&l.call){let u=l(e),d=u&&u.props&&u.props.className||/^go/.test(u)&&u;l=d?"."+d:u&&typeof u=="object"?u.props?"":Os(u,""):u===!1?"":u}return i+a+(l??"")},"");function Cd(s){let t=this||{},e=s.call?s(t.p):s;return tO(e.unshift?e.raw?eO(e,[].slice.call(arguments,1),t.p):e.reduce((i,a)=>Object.assign(i,a&&a.call?a(t.p):a),{}):e,Q5(t.target),t.g,t.o,t.k)}let _S,Sm,Em;Cd.bind({g:1});let ns=Cd.bind({k:1});function iO(s,t,e,i){Os.p=t,_S=s,Sm=e,Em=i}function Vs(s,t){let e=this||{};return function(){let i=arguments;function a(o,l){let u=Object.assign({},o),d=u.className||a.className;e.p=Object.assign({theme:Sm&&Sm()},u),e.o=/ *go\d+/.test(d),u.className=Cd.apply(e,i)+(d?" "+d:"");let f=s;return s[0]&&(f=u.as||s,delete u.as),Em&&f[0]&&Em(u),_S(f,u)}return a}}var nO=s=>typeof s=="function",ad=(s,t)=>nO(s)?s(t):s,sO=(()=>{let s=0;return()=>(++s).toString()})(),NS=(()=>{let s;return()=>{if(s===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");s=!t||t.matches}return s}})(),aO=20,Gg="default",kS=(s,t)=>{let{toastLimit:e}=s.settings;switch(t.type){case 0:return{...s,toasts:[t.toast,...s.toasts].slice(0,e)};case 1:return{...s,toasts:s.toasts.map(l=>l.id===t.toast.id?{...l,...t.toast}:l)};case 2:let{toast:i}=t;return kS(s,{type:s.toasts.find(l=>l.id===i.id)?1:0,toast:i});case 3:let{toastId:a}=t;return{...s,toasts:s.toasts.map(l=>l.id===a||a===void 0?{...l,dismissed:!0,visible:!1}:l)};case 4:return t.toastId===void 0?{...s,toasts:[]}:{...s,toasts:s.toasts.filter(l=>l.id!==t.toastId)};case 5:return{...s,pausedAt:t.time};case 6:let o=t.time-(s.pausedAt||0);return{...s,pausedAt:void 0,toasts:s.toasts.map(l=>({...l,pauseDuration:l.pauseDuration+o}))}}},qu=[],jS={toasts:[],pausedAt:void 0,settings:{toastLimit:aO}},vn={},MS=(s,t=Gg)=>{vn[t]=kS(vn[t]||jS,s),qu.forEach(([e,i])=>{e===t&&i(vn[t])})},DS=s=>Object.keys(vn).forEach(t=>MS(s,t)),rO=s=>Object.keys(vn).find(t=>vn[t].toasts.some(e=>e.id===s)),_d=(s=Gg)=>t=>{MS(t,s)},oO={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},lO=(s={},t=Gg)=>{let[e,i]=k.useState(vn[t]||jS),a=k.useRef(vn[t]);k.useEffect(()=>(a.current!==vn[t]&&i(vn[t]),qu.push([t,i]),()=>{let l=qu.findIndex(([u])=>u===t);l>-1&&qu.splice(l,1)}),[t]);let o=e.toasts.map(l=>{var u,d,f;return{...s,...s[l.type],...l,removeDelay:l.removeDelay||((u=s[l.type])==null?void 0:u.removeDelay)||s?.removeDelay,duration:l.duration||((d=s[l.type])==null?void 0:d.duration)||s?.duration||oO[l.type],style:{...s.style,...(f=s[l.type])==null?void 0:f.style,...l.style}}});return{...e,toasts:o}},cO=(s,t="blank",e)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:s,pauseDuration:0,...e,id:e?.id||sO()}),Gl=s=>(t,e)=>{let i=cO(t,s,e);return _d(i.toasterId||rO(i.id))({type:2,toast:i}),i.id},Xt=(s,t)=>Gl("blank")(s,t);Xt.error=Gl("error");Xt.success=Gl("success");Xt.loading=Gl("loading");Xt.custom=Gl("custom");Xt.dismiss=(s,t)=>{let e={type:3,toastId:s};t?_d(t)(e):DS(e)};Xt.dismissAll=s=>Xt.dismiss(void 0,s);Xt.remove=(s,t)=>{let e={type:4,toastId:s};t?_d(t)(e):DS(e)};Xt.removeAll=s=>Xt.remove(void 0,s);Xt.promise=(s,t,e)=>{let i=Xt.loading(t.loading,{...e,...e?.loading});return typeof s=="function"&&(s=s()),s.then(a=>{let o=t.success?ad(t.success,a):void 0;return o?Xt.success(o,{id:i,...e,...e?.success}):Xt.dismiss(i),a}).catch(a=>{let o=t.error?ad(t.error,a):void 0;o?Xt.error(o,{id:i,...e,...e?.error}):Xt.dismiss(i)}),s};var uO=1e3,dO=(s,t="default")=>{let{toasts:e,pausedAt:i}=lO(s,t),a=k.useRef(new Map).current,o=k.useCallback((g,b=uO)=>{if(a.has(g))return;let v=setTimeout(()=>{a.delete(g),l({type:4,toastId:g})},b);a.set(g,v)},[]);k.useEffect(()=>{if(i)return;let g=Date.now(),b=e.map(v=>{if(v.duration===1/0)return;let w=(v.duration||0)+v.pauseDuration-(g-v.createdAt);if(w<0){v.visible&&Xt.dismiss(v.id);return}return setTimeout(()=>Xt.dismiss(v.id,t),w)});return()=>{b.forEach(v=>v&&clearTimeout(v))}},[e,i,t]);let l=k.useCallback(_d(t),[t]),u=k.useCallback(()=>{l({type:5,time:Date.now()})},[l]),d=k.useCallback((g,b)=>{l({type:1,toast:{id:g,height:b}})},[l]),f=k.useCallback(()=>{i&&l({type:6,time:Date.now()})},[i,l]),p=k.useCallback((g,b)=>{let{reverseOrder:v=!1,gutter:w=8,defaultPosition:A}=b||{},E=e.filter(C=>(C.position||A)===(g.position||A)&&C.height),T=E.findIndex(C=>C.id===g.id),_=E.filter((C,j)=>j<T&&C.visible).length;return E.filter(C=>C.visible).slice(...v?[_+1]:[0,_]).reduce((C,j)=>C+(j.height||0)+w,0)},[e]);return k.useEffect(()=>{e.forEach(g=>{if(g.dismissed)o(g.id,g.removeDelay);else{let b=a.get(g.id);b&&(clearTimeout(b),a.delete(g.id))}})},[e,o]),{toasts:e,handlers:{updateHeight:d,startPause:u,endPause:f,calculateOffset:p}}},hO=ns`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,fO=ns`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,pO=ns`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,mO=Vs("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${s=>s.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${hO} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${fO} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${s=>s.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${pO} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,gO=ns`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,xO=Vs("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${s=>s.secondary||"#e0e0e0"};
  border-right-color: ${s=>s.primary||"#616161"};
  animation: ${gO} 1s linear infinite;
`,yO=ns`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,bO=ns`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,vO=Vs("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${s=>s.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${yO} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${bO} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${s=>s.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,wO=Vs("div")`
  position: absolute;
`,AO=Vs("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,SO=ns`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,EO=Vs("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${SO} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,TO=({toast:s})=>{let{icon:t,type:e,iconTheme:i}=s;return t!==void 0?typeof t=="string"?k.createElement(EO,null,t):t:e==="blank"?null:k.createElement(AO,null,k.createElement(xO,{...i}),e!=="loading"&&k.createElement(wO,null,e==="error"?k.createElement(mO,{...i}):k.createElement(vO,{...i})))},CO=s=>`
0% {transform: translate3d(0,${s*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,_O=s=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${s*-150}%,-1px) scale(.6); opacity:0;}
`,NO="0%{opacity:0;} 100%{opacity:1;}",kO="0%{opacity:1;} 100%{opacity:0;}",jO=Vs("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,MO=Vs("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,DO=(s,t)=>{let e=s.includes("top")?1:-1,[i,a]=NS()?[NO,kO]:[CO(e),_O(e)];return{animation:t?`${ns(i)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${ns(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},RO=k.memo(({toast:s,position:t,style:e,children:i})=>{let a=s.height?DO(s.position||t||"top-center",s.visible):{opacity:0},o=k.createElement(TO,{toast:s}),l=k.createElement(MO,{...s.ariaProps},ad(s.message,s));return k.createElement(jO,{className:s.className,style:{...a,...e,...s.style}},typeof i=="function"?i({icon:o,message:l}):k.createElement(k.Fragment,null,o,l))});iO(k.createElement);var OO=({id:s,className:t,style:e,onHeightUpdate:i,children:a})=>{let o=k.useCallback(l=>{if(l){let u=()=>{let d=l.getBoundingClientRect().height;i(s,d)};u(),new MutationObserver(u).observe(l,{subtree:!0,childList:!0,characterData:!0})}},[s,i]);return k.createElement("div",{ref:o,className:t,style:e},a)},LO=(s,t)=>{let e=s.includes("top"),i=e?{top:0}:{bottom:0},a=s.includes("center")?{justifyContent:"center"}:s.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:NS()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(e?1:-1)}px)`,...i,...a}},PO=Cd`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,wu=16,BO=({reverseOrder:s,position:t="top-center",toastOptions:e,gutter:i,children:a,toasterId:o,containerStyle:l,containerClassName:u})=>{let{toasts:d,handlers:f}=dO(e,o);return k.createElement("div",{"data-rht-toaster":o||"",style:{position:"fixed",zIndex:9999,top:wu,left:wu,right:wu,bottom:wu,pointerEvents:"none",...l},className:u,onMouseEnter:f.startPause,onMouseLeave:f.endPause},d.map(p=>{let g=p.position||t,b=f.calculateOffset(p,{reverseOrder:s,gutter:i,defaultPosition:t}),v=LO(g,b);return k.createElement(OO,{id:p.id,key:p.id,onHeightUpdate:f.updateHeight,className:p.visible?PO:"",style:v},p.type==="custom"?ad(p.message,p):a?a(p):k.createElement(RO,{toast:p,position:g}))}))},qt=Xt;const zO=({onMenuClick:s})=>{const{user:t,logout:e}=k.useContext(ss),i=rn(),a=En(),[o,l]=k.useState(""),[u,d]=k.useState(!1),[f,p]=k.useState({orders:[],users:[]}),[g,b]=k.useState(!1),[v,w]=k.useState(!1),[A,E]=k.useState(!1),[T,_]=k.useState(!1),[C,j]=k.useState({name:t?.name||"",email:t?.email||""}),[M,R]=k.useState([]),[D,P]=k.useState(0),X=k.useRef(null),V=k.useRef(null);k.useEffect(()=>{const et=at=>{X.current&&!X.current.contains(at.target)&&w(!1),V.current&&!V.current.contains(at.target)&&E(!1)};return document.addEventListener("mousedown",et),()=>document.removeEventListener("mousedown",et)},[]),k.useEffect(()=>{(async()=>{try{const{data:at}=await pe.get("/admin/stats"),z=[];at.todayOrders?.pending>0&&z.push({id:1,type:"warning",title:"Pending Orders",msg:`${at.todayOrders.pending} orders need processing.`,icon:m.jsx(sg,{size:14}),link:"/admin/orders"}),at.disk?.isLowSpace?z.push({id:2,type:"critical",title:"Storage Critical",msg:`Server storage full (${at.disk.percentFree} free).`,icon:m.jsx(rg,{size:14}),link:"/admin/settings"}):z.push({id:3,type:"success",title:"System Stable",msg:"Workers active. Storage healthy.",icon:m.jsx(Ta,{size:14}),link:"/admin"}),R(z),P(z.length)}catch(at){console.error(at)}})()},[]);const W=async et=>{if(et.preventDefault(),!!o.trim()){b(!0),d(!0);try{const{data:at}=await pe.get(`/admin/search?query=${o}`);p(at)}catch(at){console.error(at)}finally{b(!1)}}},rt=et=>{et.preventDefault(),qt.success("Admin Profile Updated!"),_(!1)},ft=i.pathname.split("/").filter(et=>et);return m.jsxs(m.Fragment,{children:[m.jsxs("header",{className:"h-20 bg-slate-950/80 backdrop-blur-xl border-b border-white/5 flex items-center justify-between px-4 md:px-8 sticky top-0 z-40 shadow-sm",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("button",{onClick:s,className:"lg:hidden p-2 bg-white/5 rounded-xl text-slate-400 border border-white/10",children:m.jsx(p2,{size:20})}),m.jsxs("nav",{className:"hidden md:flex items-center text-[10px] font-black uppercase tracking-[0.2em]",children:[m.jsxs(Vt,{to:"/admin",className:"text-slate-500 hover:text-blue-400 transition-colors flex items-center gap-2",children:[m.jsx(ck,{size:14}),m.jsx("span",{children:"Admin"})]}),ft.map((et,at)=>et==="admin"?null:m.jsxs("div",{className:"flex items-center",children:[m.jsx(Wn,{size:12,className:"mx-3 text-slate-700"}),m.jsx("span",{className:`${at===ft.length-1?"text-blue-400":"text-slate-500"}`,children:et})]},at))]})]}),m.jsxs("div",{className:"flex items-center gap-3 md:gap-6",children:[m.jsxs("form",{onSubmit:W,className:"relative hidden lg:block group",children:[m.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-500 group-focus-within:text-blue-400 transition-colors",children:m.jsx(Mr,{size:16})}),m.jsx("input",{type:"text",placeholder:"Search...",className:"pl-12 pr-12 py-2.5 bg-white/5 border border-white/10 rounded-2xl text-sm text-white focus:outline-none focus:ring-2 focus:ring-blue-500/30 focus:bg-slate-900 transition-all w-64 focus:w-80 placeholder:text-slate-600",value:o,onChange:et=>l(et.target.value)})]}),m.jsx("button",{onClick:()=>d(!0),className:"lg:hidden p-2.5 bg-white/5 rounded-xl border border-white/5 text-slate-400",children:m.jsx(Mr,{size:20})}),m.jsxs("div",{className:"flex items-center gap-3 md:gap-4",children:[m.jsxs(Vt,{to:"/",className:"hidden md:flex items-center gap-2 text-[10px] font-black uppercase tracking-widest text-slate-400 hover:text-white bg-white/5 px-4 py-2.5 rounded-xl border border-white/5 hover:bg-white/10 transition-all",children:[m.jsx(ak,{size:14,className:"text-blue-400"})," Site"]}),m.jsxs("div",{className:"relative",ref:V,children:[m.jsxs("button",{onClick:()=>E(!A),className:"relative p-2.5 bg-white/5 rounded-xl border border-white/5 hover:bg-white/10 transition-all group",children:[m.jsx(DN,{size:20,className:"text-slate-400 group-hover:text-white transition-colors"}),D>0&&m.jsx("span",{className:"absolute top-2 right-2.5 bg-red-500 w-2 h-2 rounded-full animate-pulse shadow-[0_0_10px_#ef4444]"})]}),m.jsx(Qn,{children:A&&m.jsxs(gt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"absolute right-0 top-14 w-80 bg-slate-900 border border-white/10 rounded-2xl shadow-2xl p-2 z-50 overflow-hidden",children:[m.jsx("h4",{className:"px-4 py-3 text-[10px] font-black uppercase tracking-widest text-slate-500 border-b border-white/5 bg-slate-950/50",children:"System Alerts"}),m.jsx("div",{className:"py-1",children:M.map(et=>m.jsxs(Vt,{to:et.link,onClick:()=>E(!1),className:"flex items-start gap-3 px-4 py-3 hover:bg-white/5 transition-colors",children:[m.jsx("div",{className:`mt-1 ${et.type==="critical"?"text-red-500":et.type==="warning"?"text-yellow-500":"text-emerald-500"}`,children:et.icon}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm font-bold text-slate-200",children:et.title}),m.jsx("p",{className:"text-xs text-slate-500",children:et.msg})]})]},et.id))})]})})]}),m.jsxs("div",{className:"relative pl-0 md:pl-4 border-l-0 md:border-l border-white/5",ref:X,children:[m.jsx(gt.button,{whileHover:{scale:1.05},onClick:()=>w(!v),className:"w-10 h-10 rounded-2xl bg-gradient-to-br from-blue-600 to-indigo-600 p-[2px] shadow-lg shadow-blue-500/20",children:m.jsx("div",{className:"w-full h-full bg-slate-900 rounded-[14px] flex items-center justify-center text-white",children:m.jsx(zr,{size:20})})}),m.jsx(Qn,{children:v&&m.jsxs(gt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"absolute right-0 top-14 w-56 bg-slate-900 border border-white/10 rounded-2xl shadow-2xl p-2 z-50",children:[m.jsxs("div",{className:"px-4 py-3 border-b border-white/5 mb-2",children:[m.jsx("p",{className:"text-xs text-slate-500 font-bold uppercase tracking-wider",children:"Signed in as"}),m.jsx("p",{className:"text-sm text-white font-bold truncate",children:t?.name})]}),m.jsxs("button",{onClick:()=>{_(!0),w(!1)},className:"w-full flex items-center gap-3 px-4 py-2.5 text-sm text-slate-300 hover:text-white hover:bg-white/5 rounded-xl transition-colors font-bold text-left",children:[m.jsx(y2,{size:16})," Admin Settings"]}),m.jsx("div",{className:"h-[1px] bg-white/5 my-2"}),m.jsxs("button",{onClick:e,className:"w-full flex items-center gap-3 px-4 py-2.5 text-sm text-red-400 hover:bg-red-500/10 rounded-xl transition-colors font-bold text-left",children:[m.jsx(vl,{size:16})," Logout"]})]})})]})]})]})]}),m.jsx(Qn,{children:T&&m.jsx("div",{className:"fixed inset-0 z-[100] bg-black/60 backdrop-blur-sm flex items-center justify-center p-4",children:m.jsxs(gt.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-slate-900 border border-white/10 w-full max-w-md rounded-3xl shadow-2xl overflow-hidden",children:[m.jsxs("div",{className:"p-6 border-b border-white/5 flex justify-between items-center bg-slate-900/50",children:[m.jsx("h3",{className:"text-xl font-black text-white",children:"Admin Profile"}),m.jsx("button",{onClick:()=>_(!1),className:"p-2 hover:bg-white/10 rounded-full text-slate-400",children:m.jsx(Fr,{size:20})})]}),m.jsxs("form",{onSubmit:rt,className:"p-6 space-y-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-500 ml-1",children:"Admin Name"}),m.jsx("input",{type:"text",value:C.name,onChange:et=>j({...C,name:et.target.value}),className:"w-full bg-white/5 border border-white/10 rounded-xl p-3 text-white focus:ring-2 focus:ring-blue-500/50 outline-none font-bold"})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-500 ml-1",children:"Email (Read Only)"}),m.jsx("input",{type:"email",value:C.email,disabled:!0,className:"w-full bg-white/5 border border-white/5 rounded-xl p-3 text-slate-500 font-bold cursor-not-allowed"})]}),m.jsx("div",{className:"pt-4",children:m.jsxs("button",{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-500 text-white font-bold py-3 rounded-xl flex items-center justify-center gap-2 transition-all shadow-lg shadow-blue-900/20",children:[m.jsx(Bk,{size:18})," Save Changes"]})})]})]})})}),m.jsx(Qn,{children:u&&m.jsx("div",{className:"fixed inset-0 z-[100] bg-black/60 backdrop-blur-sm flex items-start justify-center pt-24 px-4",onClick:()=>d(!1),children:m.jsxs(gt.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-slate-900 border border-white/10 w-full max-w-2xl rounded-3xl shadow-2xl overflow-hidden",onClick:et=>et.stopPropagation(),children:[m.jsxs("div",{className:"p-4 border-b border-white/5 flex items-center gap-4",children:[m.jsx(Mr,{className:"text-blue-400",size:20}),m.jsx("input",{autoFocus:!0,type:"text",className:"flex-1 bg-transparent text-lg text-white font-bold outline-none placeholder:text-slate-600",placeholder:"Type to search...",value:o,onChange:et=>l(et.target.value),onKeyDown:et=>et.key==="Enter"&&W(et)}),m.jsx("button",{onClick:()=>d(!1),className:"p-2 hover:bg-white/10 rounded-full text-slate-400",children:m.jsx(Fr,{size:20})})]}),m.jsx("div",{className:"max-h-[60vh] overflow-y-auto p-2 custom-scrollbar",children:g?m.jsxs("div",{className:"p-10 text-center text-slate-500",children:[m.jsx(Ca,{className:"animate-spin inline mr-2"})," ","Searching..."]}):m.jsxs(m.Fragment,{children:[f.orders?.length>0&&m.jsxs("div",{className:"mb-2",children:[m.jsx("h4",{className:"px-4 py-2 text-[10px] font-black uppercase tracking-widest text-slate-500",children:"Orders"}),f.orders.map(et=>m.jsxs("div",{onClick:()=>{a("/admin/orders"),d(!1)},className:"flex gap-4 p-3 hover:bg-white/5 rounded-xl cursor-pointer group",children:[m.jsx("div",{className:"p-2 bg-blue-500/10 text-blue-400 rounded-lg",children:m.jsx(bl,{size:18})}),m.jsxs("div",{children:[m.jsxs("p",{className:"text-white font-bold text-sm",children:["Order #",et._id.slice(-6)]}),m.jsxs("p",{className:"text-xs text-slate-500",children:[et.user?.name,"  ",et.totalAmount]})]}),m.jsx(Wn,{size:16,className:"ml-auto text-slate-600 group-hover:text-white"})]},et._id))]}),f.users?.length>0&&m.jsxs("div",{children:[m.jsx("h4",{className:"px-4 py-2 text-[10px] font-black uppercase tracking-widest text-slate-500",children:"Users"}),f.users.map(et=>m.jsxs("div",{onClick:()=>{a("/admin/users"),d(!1)},className:"flex gap-4 p-3 hover:bg-white/5 rounded-xl cursor-pointer group",children:[m.jsx("div",{className:"p-2 bg-purple-500/10 text-purple-400 rounded-lg",children:m.jsx(UserIcon,{size:18})}),m.jsxs("div",{children:[m.jsx("p",{className:"text-white font-bold text-sm",children:et.name}),m.jsx("p",{className:"text-xs text-slate-500",children:et.email})]}),m.jsx(Wn,{size:16,className:"ml-auto text-slate-600 group-hover:text-white"})]},et._id))]})]})})]})})})]})},FO=()=>{const{logout:s}=k.useContext(ss),t=rn(),[e,i]=k.useState(!1),a=[{name:"Dashboard",path:"/admin",icon:m.jsx(Ku,{size:18})},{name:"Orders",path:"/admin/orders",icon:m.jsx(sg,{size:18})},{name:"Payments",path:"/admin/payments",icon:m.jsx(tg,{size:18})},{name:"Shipping",path:"/admin/shipping",icon:m.jsx(Pl,{size:18})},{name:"Users",path:"/admin/users",icon:m.jsx(og,{size:18})},{name:"Settings",path:"/admin/settings",icon:m.jsx(y2,{size:18})}],o=({item:l,onClick:u})=>{const d=l.path==="/admin"?t.pathname==="/admin":t.pathname.startsWith(l.path);return m.jsxs(Vt,{to:l.path,onClick:u,className:`flex items-center justify-between gap-3 px-4 py-3.5 rounded-2xl transition-all duration-300 group relative overflow-hidden ${d?"bg-blue-600/10 text-blue-400 border border-blue-500/20":"text-slate-500 hover:text-slate-200 hover:bg-white/5 border border-transparent"}`,children:[m.jsxs("div",{className:"flex items-center gap-3 relative z-10",children:[m.jsx("span",{className:`${d?"text-blue-400":"text-slate-500 group-hover:text-slate-300"} transition-colors`,children:l.icon}),m.jsx("span",{className:"text-sm font-bold tracking-tight",children:l.name})]}),d&&m.jsx(gt.div,{layoutId:"activeTab",className:"absolute left-0 w-1 h-6 bg-blue-500 rounded-r-full"})]})};return m.jsxs("div",{className:"flex h-screen bg-slate-950 font-sans text-slate-100 overflow-hidden",children:[m.jsxs("aside",{className:"w-72 bg-slate-900/50 backdrop-blur-2xl border-r border-white/5 hidden lg:flex flex-col z-50 shadow-2xl h-full",children:[m.jsx("div",{className:"p-8",children:m.jsxs(Vt,{to:"/",className:"flex items-center gap-3 group",children:[m.jsx("div",{className:"bg-blue-600 p-2 rounded-xl shadow-lg shadow-blue-600/30 group-hover:scale-110 transition-transform",children:m.jsx(Yr,{size:24,className:"text-white"})}),m.jsxs("div",{className:"flex flex-col",children:[m.jsxs("span",{className:"text-xl font-black text-white tracking-tighter leading-none",children:["Jumbo ",m.jsx("span",{className:"text-blue-500",children:"Xerox"})]}),m.jsx("span",{className:"text-[9px] font-black text-slate-500 uppercase tracking-[0.3em] pl-0.5 mt-1",children:"Admin Console"})]})]})}),m.jsxs("div",{className:"flex-1 px-4 overflow-y-auto custom-scrollbar",children:[m.jsx("p",{className:"px-4 text-[10px] font-black text-slate-500 uppercase tracking-[0.2em] mb-4",children:"Main Menu"}),m.jsx("nav",{className:"space-y-1.5",children:a.map(l=>m.jsx(o,{item:l},l.path))})]}),m.jsx("div",{className:"p-6 border-t border-white/5",children:m.jsxs("button",{onClick:s,className:"flex items-center gap-3 p-4 text-slate-500 hover:text-red-400 hover:bg-red-400/5 w-full rounded-2xl transition-all font-bold text-sm group",children:[m.jsx("div",{className:"p-2 bg-slate-800 rounded-lg group-hover:bg-red-400/10 transition-colors",children:m.jsx(vl,{size:18})}),"Logout Session"]})})]}),m.jsx(Qn,{children:e&&m.jsxs("div",{className:"fixed inset-0 z-[100] lg:hidden",children:[m.jsx(gt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:()=>i(!1)}),m.jsxs(gt.aside,{initial:{x:"-100%"},animate:{x:0},exit:{x:"-100%"},transition:{type:"spring",damping:25,stiffness:200},className:"absolute top-0 left-0 h-full w-72 bg-slate-900 border-r border-white/10 shadow-2xl flex flex-col",children:[m.jsxs("div",{className:"p-6 flex justify-between items-center border-b border-white/5",children:[m.jsx("span",{className:"text-lg font-black text-white",children:"Jumbo Xerox"}),m.jsx("button",{onClick:()=>i(!1),className:"p-2 bg-white/5 rounded-full",children:m.jsx(Fr,{size:20})})]}),m.jsx("div",{className:"flex-1 px-4 py-6 overflow-y-auto",children:m.jsx("nav",{className:"space-y-2",children:a.map(l=>m.jsx(o,{item:l,onClick:()=>i(!1)},l.path))})}),m.jsx("div",{className:"p-6 border-t border-white/5",children:m.jsx("button",{onClick:s,className:"w-full py-3 bg-red-500/10 text-red-500 font-bold rounded-xl",children:"Logout"})})]})]})}),m.jsxs("div",{className:"flex-1 flex flex-col h-full overflow-hidden relative",children:[m.jsx("div",{className:"absolute top-0 left-0 w-full h-96 bg-gradient-to-b from-blue-600/5 to-transparent pointer-events-none z-0"}),m.jsx(zO,{onMenuClick:()=>i(!0)}),m.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-10 relative z-10 custom-scrollbar",children:[m.jsx(gt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.4},children:m.jsx(md,{})}),m.jsx("footer",{className:"mt-10 py-6 text-center text-slate-600 text-[10px] font-bold uppercase tracking-widest border-t border-white/5",children:" 2025 Jumbo Xerox  System Architecture v2.0"})]})]})]})};function IO(){const[s,t]=k.useState(""),[e,i]=k.useState(""),[a,o]=k.useState(!1),{login:l}=k.useContext(ss),u=async d=>{d.preventDefault(),o(!0);try{const{data:f}=await pe.post("/auth/login",{email:s,password:e});Xt.success(`Welcome back, ${f.name}!`),l(f.token)}catch(f){const p=f.response?.data?.message||"Invalid credentials";Xt.error(p)}finally{o(!1)}};return m.jsxs("div",{className:"min-h-screen bg-[#030712] flex items-center justify-center p-6 relative overflow-hidden",children:[m.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[40%] h-[40%] bg-blue-600/10 rounded-full blur-[120px]"}),m.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[40%] h-[40%] bg-indigo-600/10 rounded-full blur-[120px]"}),m.jsxs(gt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"relative w-full max-w-[440px]",children:[m.jsx("div",{className:"flex justify-center mb-8",children:m.jsx(gt.div,{whileHover:{rotate:15},className:"p-4 bg-blue-600 rounded-[2rem] shadow-2xl shadow-blue-500/20 text-white",children:m.jsx(Yr,{size:32})})}),m.jsxs("div",{className:"bg-white/[0.03] backdrop-blur-2xl border border-white/10 p-8 md:p-10 rounded-[3rem] shadow-2xl",children:[m.jsxs("div",{className:"text-center mb-10",children:[m.jsx("h2",{className:"text-3xl font-black text-white tracking-tight mb-2",children:"Welcome Back"}),m.jsx("p",{className:"text-slate-500 text-sm font-medium italic",children:'"Quality prints are just a login away."'})]}),m.jsxs("form",{className:"space-y-6",onSubmit:u,children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-slate-500 ml-2",children:"Email Address"}),m.jsxs("div",{className:"relative group",children:[m.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-500 group-focus-within:text-blue-400 transition-colors",children:m.jsx(Ll,{size:18})}),m.jsx("input",{type:"email",value:s,onChange:d=>t(d.target.value),placeholder:"you@example.com",required:!0,className:"w-full bg-slate-900/50 border border-white/5 p-4 pl-12 rounded-2xl text-white outline-none focus:ring-2 focus:ring-blue-500/50 transition-all placeholder:text-slate-700"})]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsxs("div",{className:"flex justify-between items-center px-2",children:[m.jsx("label",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-slate-500",children:"Password"}),m.jsx(Vt,{to:"/forgot-password",size:10,className:"text-[10px] font-black uppercase text-blue-500 hover:underline",children:"Forgot?"})]}),m.jsxs("div",{className:"relative group",children:[m.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-500 group-focus-within:text-blue-400 transition-colors",children:m.jsx(eg,{size:18})}),m.jsx("input",{type:"password",value:e,onChange:d=>i(d.target.value),placeholder:"",required:!0,className:"w-full bg-slate-900/50 border border-white/5 p-4 pl-12 rounded-2xl text-white outline-none focus:ring-2 focus:ring-blue-500/50 transition-all placeholder:text-slate-700"})]})]}),m.jsxs("button",{type:"submit",disabled:a,className:"w-full relative group bg-blue-600 hover:bg-blue-500 text-white py-4 rounded-2xl font-black text-sm uppercase tracking-widest transition-all shadow-xl shadow-blue-900/20 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed overflow-hidden",children:[m.jsx("div",{className:"relative z-10 flex items-center justify-center gap-2",children:a?m.jsx(Ca,{className:"animate-spin",size:20}):m.jsxs(m.Fragment,{children:["Sign In"," ",m.jsx(Jm,{size:18,className:"group-hover:translate-x-1 transition-transform"})]})}),m.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000"})]})]}),m.jsxs("div",{className:"mt-8 pt-8 border-t border-white/5 flex flex-col items-center gap-4",children:[m.jsxs("div",{className:"flex items-center gap-2 text-[10px] font-bold text-slate-600 uppercase tracking-widest",children:[m.jsx(wl,{size:14,className:"text-emerald-500"})," Secure Encryption Active"]}),m.jsxs("p",{className:"text-slate-500 text-sm font-medium",children:["New to Jumbo Xerox?"," ",m.jsx(Vt,{to:"/register",className:"text-white font-black hover:text-blue-400 transition-colors",children:"Create Account"})]})]})]}),m.jsx("div",{className:"absolute -top-6 -right-6 text-blue-500/20 animate-pulse",children:m.jsx(tj,{size:40})})]})]})}function UO(){const[s,t]=k.useState({name:"",email:"",password:"",confirmPassword:""}),[e,i]=k.useState(!1),{login:a}=k.useContext(ss),{name:o,email:l,password:u,confirmPassword:d}=s,f=g=>{t({...s,[g.target.name]:g.target.value})},p=async g=>{if(g.preventDefault(),u!==d)return Xt.error("Passwords do not match!");i(!0);try{const{data:b}=await pe.post("/auth/register",{name:o,email:l,password:u});Xt.success("Registration Successful!"),a(b.token)}catch(b){const v=b.response?.data?.message||"Registration failed";Xt.error(v)}finally{i(!1)}};return m.jsxs("div",{className:"min-h-screen bg-slate-950 text-slate-100 flex items-center justify-center px-4 py-20 relative overflow-hidden font-sans",children:[m.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[m.jsx("div",{className:"absolute top-[-10%] right-[-10%] w-[500px] h-[500px] bg-blue-600/10 rounded-full blur-[120px]"}),m.jsx("div",{className:"absolute bottom-[-10%] left-[-10%] w-[500px] h-[500px] bg-indigo-600/10 rounded-full blur-[120px]"})]}),m.jsxs(gt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"relative z-10 w-full max-w-md",children:[m.jsxs(Vt,{to:"/",className:"inline-flex items-center gap-2 text-slate-500 hover:text-white transition-colors mb-8 group text-sm font-bold uppercase tracking-widest",children:[m.jsx(_N,{size:16,className:"group-hover:-translate-x-1 transition-transform"})," ","Back to home"]}),m.jsxs("div",{className:"bg-white/5 backdrop-blur-2xl p-8 md:p-10 rounded-[3rem] border border-white/10 shadow-2xl",children:[m.jsxs("div",{className:"text-center mb-10",children:[m.jsx("div",{className:"bg-blue-600 w-16 h-16 rounded-2xl flex items-center justify-center mx-auto mb-6 shadow-lg shadow-blue-600/20",children:m.jsx(Kp,{size:32,className:"text-white"})}),m.jsx("h2",{className:"text-3xl font-black tracking-tighter mb-2",children:"Create Account"}),m.jsx("p",{className:"text-slate-400 text-sm font-medium",children:"Join Jumbo Xerox for seamless printing"})]}),m.jsxs("form",{className:"space-y-5",onSubmit:p,children:[m.jsx(Au,{label:"Full Name",icon:m.jsx(zr,{size:18}),type:"text",name:"name",value:o,onChange:f,placeholder:"John Doe"}),m.jsx(Au,{label:"Email Address",icon:m.jsx(Ll,{size:18}),type:"email",name:"email",value:l,onChange:f,placeholder:"name@example.com"}),m.jsx(Au,{label:"Password",icon:m.jsx(eg,{size:18}),type:"password",name:"password",value:u,onChange:f,placeholder:""}),m.jsx(Au,{label:"Confirm Password",icon:m.jsx(Ta,{size:18}),type:"password",name:"confirmPassword",value:d,onChange:f,placeholder:""}),m.jsx(gt.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",disabled:e,className:"w-full relative overflow-hidden bg-blue-600 py-4 rounded-2xl font-black text-white shadow-xl shadow-blue-900/40 transition-all mt-4 flex items-center justify-center gap-2 group disabled:opacity-70",children:e?m.jsx(Ca,{className:"animate-spin",size:20}):m.jsxs(m.Fragment,{children:["Sign Up"," ",m.jsx(Kp,{size:20,className:"group-hover:translate-x-1 transition-transform"})]})})]}),m.jsxs("p",{className:"text-center text-slate-500 mt-8 text-sm font-medium",children:["Already have an account?"," ",m.jsx(Vt,{to:"/login",className:"text-blue-400 font-bold hover:text-blue-300 transition-colors",children:"Log in"})]})]}),m.jsx("p",{className:"text-center text-slate-600 text-[10px] uppercase tracking-[0.2em] font-black mt-8",children:"Secure 256-bit SSL Encryption"})]})]})}const Au=({label:s,icon:t,type:e,name:i,value:a,onChange:o,placeholder:l})=>m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-slate-500 ml-2",children:s}),m.jsxs("div",{className:"relative group",children:[m.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-500 group-focus-within:text-blue-400 transition-colors",children:t}),m.jsx("input",{type:e,name:i,value:a,onChange:o,placeholder:l,required:!0,className:"w-full bg-slate-900/50 border border-white/5 rounded-2xl py-4 pl-12 pr-4 text-white focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:bg-slate-900 transition-all placeholder:text-slate-700 font-medium"})]})]}),br={hidden:{opacity:0,y:30},visible:{opacity:1,y:0,transition:{duration:.8,ease:[.16,1,.3,1]}}},nw={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.15}}},HO=()=>m.jsxs("div",{className:"bg-slate-950 min-h-screen text-slate-100 font-sans overflow-x-hidden",children:[m.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[m.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[50%] h-[50%] bg-blue-600/10 rounded-full blur-[120px]"}),m.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[50%] h-[50%] bg-indigo-600/10 rounded-full blur-[120px]"})]}),m.jsx("section",{className:"relative max-w-7xl mx-auto px-6 pt-32 pb-20 text-center",children:m.jsxs(gt.div,{initial:"hidden",animate:"visible",variants:nw,children:[m.jsxs(gt.div,{variants:br,className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-white/5 border border-white/10 text-cyan-400 text-sm font-semibold mb-8 shadow-xl",children:[m.jsx(Wp,{size:16,className:"fill-current"})," Next-Gen Online Printing"]}),m.jsxs(gt.h1,{variants:br,className:"text-5xl md:text-8xl font-black leading-[1.1] mb-8 tracking-tight",children:["Print Anything. ",m.jsx("br",{}),m.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 via-blue-500 to-indigo-500",children:"Delivered Anywhere."})]}),m.jsx(gt.p,{variants:br,className:"text-lg md:text-xl text-slate-400 mb-12 max-w-3xl mx-auto leading-relaxed",children:"Join the smart way of printing. Upload documents from your phone, choose custom options, and get them delivered to your door."}),m.jsxs(gt.div,{variants:br,className:"flex justify-center gap-5 flex-wrap",children:[m.jsxs(Vt,{to:"/quick-print",className:"group relative px-10 py-4 rounded-2xl font-bold bg-blue-600 text-white hover:bg-blue-500 transition-all shadow-[0_0_30px_rgba(37,99,235,0.4)] flex items-center gap-2 active:scale-95",children:["Start Printing"," ",m.jsx(Jm,{size:20,className:"group-hover:translate-x-1 transition-transform"})]}),m.jsx(Vt,{to:"/services",className:"px-10 py-4 rounded-2xl font-bold border border-slate-700 text-slate-200 hover:bg-white/5 transition-all active:scale-95",children:"Check Prices"})]})]})}),m.jsx(gt.section,{initial:{opacity:0,scale:.95},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{duration:.8},className:"max-w-7xl mx-auto px-6 py-10",children:m.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8 bg-white/5 backdrop-blur-md rounded-[3rem] p-10 border border-white/10 shadow-2xl",children:[m.jsx(Su,{number:"10k+",label:"Pages Printed"}),m.jsx(Su,{number:"2k+",label:"Happy Students"}),m.jsx(Su,{number:"500+",label:"Daily Deliveries"}),m.jsx(Su,{number:"4.9/5",label:"User Rating"})]})}),m.jsxs("section",{className:"relative max-w-7xl mx-auto px-6 py-24",children:[m.jsxs(gt.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:br,className:"text-center mb-16",children:[m.jsx("h2",{className:"text-3xl md:text-5xl font-black mb-6 tracking-tight",children:"Features You'll Love"}),m.jsx("div",{className:"w-24 h-2 bg-gradient-to-r from-cyan-500 to-blue-500 mx-auto rounded-full"})]}),m.jsxs(gt.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0,margin:"-100px"},variants:nw,className:"grid md:grid-cols-3 gap-8",children:[m.jsx(Cp,{icon:m.jsx(Yp,{size:32,className:"text-cyan-400"}),title:"Instant Upload",desc:"Easily upload PDFs or Word files from WhatsApp or your File Manager."}),m.jsx(Cp,{icon:m.jsx(f2,{size:32,className:"text-emerald-400"}),title:"Bulk Discounts",desc:"More pages, less price. Special rates for study materials & notes."}),m.jsx(Cp,{icon:m.jsx(Pl,{size:32,className:"text-blue-400"}),title:"Fast Delivery",desc:"Get your prints within hours. We deliver to hostels, offices, and homes."})]})]}),m.jsx("section",{className:"bg-white/[0.02] border-y border-white/5 py-24 overflow-hidden",children:m.jsx("div",{className:"max-w-7xl mx-auto px-6",children:m.jsxs("div",{className:"grid lg:grid-cols-2 gap-16 items-center",children:[m.jsxs(gt.div,{initial:{opacity:0,x:-50},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.8},children:[m.jsx("h2",{className:"text-4xl md:text-5xl font-black mb-8 leading-tight",children:"Trusted by thousands of students."}),m.jsxs("div",{className:"space-y-4",children:[m.jsx(_p,{text:"High-Quality Laser Printing"}),m.jsx(_p,{text:"Secure Document Handling"}),m.jsx(_p,{text:"Easy Order Tracking"})]})]}),m.jsxs("div",{className:"grid gap-6",children:[m.jsx(sw,{name:"Rohan Varma",role:"Engineering Student",text:"Saved my time during exam submissions! Best online printing service."}),m.jsx(sw,{name:"Sneha Reddy",role:"Project Manager",text:"Very professional and transparent pricing. Highly recommended."})]})]})})}),m.jsx("section",{className:"max-w-5xl mx-auto px-6 py-32",children:m.jsxs(gt.div,{whileHover:{scale:1.02},transition:{type:"spring",stiffness:300},className:"bg-gradient-to-br from-blue-700 to-indigo-800 rounded-[3rem] p-12 text-center shadow-[0_20px_50px_rgba(37,99,235,0.3)] relative overflow-hidden",children:[m.jsxs("div",{className:"relative z-10",children:[m.jsx("h2",{className:"text-4xl md:text-6xl font-black text-white mb-8 tracking-tighter",children:"Ready to Start?"}),m.jsx(Vt,{to:"/register",className:"inline-block bg-white text-blue-700 px-12 py-5 rounded-2xl font-black text-xl hover:shadow-2xl transition-all active:scale-95",children:"Create Account  Free"})]}),m.jsx(Yr,{className:"absolute bottom-[-20px] right-[-20px] text-white/10 w-64 h-64 rotate-12"})]})}),m.jsx("footer",{className:"py-10 text-center text-slate-500 border-t border-white/5",children:m.jsxs("p",{children:[" ",new Date().getFullYear()," Jumbo Xerox. All rights reserved."]})})]});function Su({number:s,label:t}){return m.jsxs("div",{className:"text-center",children:[m.jsx("h4",{className:"text-3xl font-black text-white",children:s}),m.jsx("p",{className:"text-sm text-slate-500 mt-1 uppercase tracking-widest",children:t})]})}function Cp({icon:s,title:t,desc:e}){return m.jsxs(gt.div,{variants:br,whileHover:{y:-12},className:"group bg-white/5 p-10 rounded-[2.5rem] border border-white/10 hover:border-cyan-500/50 hover:bg-white/10 transition-all duration-500",children:[m.jsx("div",{className:"mb-6 p-4 bg-slate-900 rounded-2xl inline-block border border-white/5 group-hover:scale-110 transition-transform duration-500",children:s}),m.jsx("h3",{className:"text-2xl font-bold mb-4",children:t}),m.jsx("p",{className:"text-slate-400 leading-relaxed text-lg",children:e})]})}function _p({text:s}){return m.jsxs("div",{className:"flex items-center gap-3 text-lg font-medium text-slate-300",children:[m.jsx(d2,{className:"text-cyan-500",size:24}),m.jsx("span",{children:s})]})}function sw({name:s,role:t,text:e}){return m.jsxs(gt.div,{initial:{opacity:0,x:30},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6},className:"bg-white/5 p-8 rounded-3xl border border-white/5 hover:bg-white/10 transition-colors",children:[m.jsx("div",{className:"flex gap-1 text-yellow-500 mb-4",children:[...Array(5)].map((i,a)=>m.jsx(b2,{size:16,fill:"currentColor"},a))}),m.jsxs("p",{className:"text-slate-200 italic mb-6 leading-relaxed",children:['"',e,'"']}),m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-full flex items-center justify-center font-black text-xl shadow-lg",children:s[0]}),m.jsxs("div",{children:[m.jsx("h5",{className:"font-bold text-slate-100",children:s}),m.jsx("p",{className:"text-sm text-slate-500",children:t})]})]})]})}function VO(){return m.jsxs("section",{className:"w-full",children:[m.jsxs("div",{className:"relative bg-gradient-to-br from-pink-50 via-purple-50 to-white overflow-hidden",children:[m.jsx("div",{className:"absolute -left-40 -top-40 w-96 h-96 rounded-full bg-pink-100 opacity-40"}),m.jsx("div",{className:"absolute right-0 top-10 w-72 h-72 rounded-full bg-purple-100 opacity-40"}),m.jsxs("div",{className:"relative max-w-7xl mx-auto px-6 py-28 text-center",children:[m.jsx("h1",{className:"text-4xl md:text-6xl font-extrabold text-gray-900",children:"About Us"}),m.jsxs("div",{className:"mt-6 inline-flex items-center gap-2 bg-white px-6 py-2 rounded-full shadow-sm",children:[m.jsx(Xn,{to:"/",className:"text-pink-500 font-medium hover:underline",children:"Home"}),m.jsx("span",{className:"text-pink-400",children:""}),m.jsx("span",{className:"text-pink-500 font-medium",children:"About Us"})]})]})]}),m.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-20 grid md:grid-cols-2 gap-12 items-center",children:[m.jsxs("div",{children:[m.jsx("span",{className:"inline-block mb-4 px-4 py-1 rounded-full bg-pink-100 text-pink-600 text-sm font-semibold",children:"MORE ABOUT US"}),m.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-6",children:"Printing Made Simple & Reliable"}),m.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:"Whether you're a student, business owner, or professional, Jumbo Xerox delivers fast, reliable, and hassle-free printing solutions right to your fingertips."}),m.jsx("p",{className:"text-gray-700 leading-relaxed mb-6",children:"Upload your files, calculate prices instantly, and get doorstep delivery across Guntur. From A4 printouts and plan prints to binding, cards, flyers, and brochures  we do it all with care and quality."}),m.jsx("button",{className:"px-8 py-3 rounded-full bg-gradient-to-r from-pink-500 to-purple-500 text-white font-semibold shadow hover:opacity-90",children:"MORE ABOUT US"})]}),m.jsx("div",{className:"relative",children:m.jsx("div",{className:"rounded-2xl bg-gradient-to-br from-teal-200 to-cyan-200 h-80 flex items-center justify-center shadow",children:m.jsx("span",{className:"text-gray-700 font-semibold",children:"Printing Samples Image"})})})]})]})}function Np({title:s,price:t,sub:e,features:i,highlight:a=!1,saving:o=""}){return m.jsxs(gt.div,{whileHover:{y:-12,scale:1.02},initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},className:`group relative p-1 rounded-[2.6rem] transition-all duration-500 overflow-hidden flex flex-col h-full ${a?"bg-gradient-to-b from-blue-500 to-cyan-600 shadow-[0_0_50px_rgba(37,99,235,0.25)]":"bg-white/10 hover:bg-white/20 border border-white/10 shadow-xl"}`,children:[m.jsx("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-700 pointer-events-none",children:m.jsx("div",{className:"absolute inset-[-100%] bg-gradient-to-r from-transparent via-white/10 to-transparent rotate-[35deg] animate-[shine_3s_infinite]"})}),m.jsxs("div",{className:`relative h-full p-8 rounded-[2.5rem] flex flex-col justify-between ${a?"bg-slate-950":"bg-slate-900/90 backdrop-blur-3xl"}`,children:[m.jsxs("div",{children:[(a||o)&&m.jsxs("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 flex gap-2",children:[a&&m.jsxs("span",{className:"bg-blue-600 text-white text-[10px] font-black uppercase tracking-widest px-4 py-1.5 rounded-full shadow-lg flex items-center gap-1 whitespace-nowrap",children:[m.jsx(Wp,{size:10,className:"fill-current"})," Best Value"]}),o&&m.jsxs("span",{className:"bg-emerald-500 text-white text-[10px] font-black uppercase tracking-widest px-4 py-1.5 rounded-full shadow-lg whitespace-nowrap",children:["Save ",o]})]}),m.jsx("div",{className:"flex justify-between items-start mb-6",children:m.jsx("div",{className:`p-3 rounded-2xl ${a?"bg-blue-500/10":"bg-white/5"}`,children:a?m.jsx(b2,{className:"text-blue-400",size:24}):m.jsx(Wp,{className:"text-slate-400",size:24})})}),m.jsx("h3",{className:`text-lg font-bold mb-2 tracking-tight ${a?"text-blue-400":"text-slate-200"}`,children:s}),m.jsx("div",{className:"mb-8",children:m.jsxs("div",{className:"flex items-baseline gap-1",children:[m.jsx("span",{className:"text-2xl font-bold text-slate-500 italic",children:""}),m.jsx("span",{className:"text-6xl font-black tracking-tighter text-white",children:t}),m.jsxs("span",{className:"text-slate-500 text-xs font-bold uppercase tracking-widest",children:["/ ",e]})]})}),m.jsx("ul",{className:"space-y-4 mb-10",children:i.map((l,u)=>m.jsxs("li",{className:"flex items-start gap-3 group/item",children:[m.jsx("div",{className:`mt-0.5 p-1 rounded-full transition-colors ${a?"bg-blue-500/20 text-blue-400":"bg-white/5 text-slate-500 group-hover/item:text-cyan-400"}`,children:m.jsx(Ta,{size:14})}),m.jsx("span",{className:"text-sm font-medium text-slate-400 group-hover/item:text-slate-200 transition-colors",children:l})]},u))})]}),m.jsx("div",{className:"mt-auto",children:m.jsxs("button",{className:`w-full group/btn relative flex items-center justify-center gap-2 py-4 rounded-2xl font-black text-sm uppercase tracking-widest transition-all duration-300 active:scale-95 overflow-hidden ${a?"bg-blue-600 text-white hover:bg-blue-500 shadow-[0_10px_30px_rgba(37,99,235,0.3)]":"bg-white/5 text-white hover:bg-white/10 border border-white/10"}`,children:[m.jsxs("span",{children:["Select ",s]}),m.jsx(Jm,{size:16,className:"group-hover/btn:translate-x-1 transition-transform"})]})})]}),a&&m.jsx("div",{className:"absolute -inset-10 bg-blue-600/10 blur-[60px] -z-10 rounded-full animate-pulse"})]})}var kp={exports:{}},jp,aw;function qO(){if(aw)return jp;aw=1;var s="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return jp=s,jp}var Mp,rw;function GO(){if(rw)return Mp;rw=1;var s=qO();function t(){}function e(){}return e.resetWarningCache=t,Mp=function(){function i(l,u,d,f,p,g){if(g!==s){var b=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw b.name="Invariant Violation",b}}i.isRequired=i;function a(){return i}var o={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:a,element:i,elementType:i,instanceOf:a,node:i,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:e,resetWarningCache:t};return o.PropTypes=o,o},Mp}var ow;function $O(){return ow||(ow=1,kp.exports=GO()()),kp.exports}var XO=$O();const Jt=fd(XO);function _a(s,t,e,i){function a(o){return o instanceof e?o:new e(function(l){l(o)})}return new(e||(e=Promise))(function(o,l){function u(p){try{f(i.next(p))}catch(g){l(g)}}function d(p){try{f(i.throw(p))}catch(g){l(g)}}function f(p){p.done?o(p.value):a(p.value).then(u,d)}f((i=i.apply(s,t||[])).next())})}const YO=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function Vr(s,t,e){const i=KO(s),{webkitRelativePath:a}=s,o=typeof t=="string"?t:typeof a=="string"&&a.length>0?a:`./${s.name}`;return typeof i.path!="string"&&lw(i,"path",o),lw(i,"relativePath",o),i}function KO(s){const{name:t}=s;if(t&&t.lastIndexOf(".")!==-1&&!s.type){const i=t.split(".").pop().toLowerCase(),a=YO.get(i);a&&Object.defineProperty(s,"type",{value:a,writable:!1,configurable:!1,enumerable:!0})}return s}function lw(s,t,e){Object.defineProperty(s,t,{value:e,writable:!1,configurable:!1,enumerable:!0})}const WO=[".DS_Store","Thumbs.db"];function QO(s){return _a(this,void 0,void 0,function*(){return rd(s)&&ZO(s.dataTransfer)?iL(s.dataTransfer,s.type):JO(s)?tL(s):Array.isArray(s)&&s.every(t=>"getFile"in t&&typeof t.getFile=="function")?eL(s):[]})}function ZO(s){return rd(s)}function JO(s){return rd(s)&&rd(s.target)}function rd(s){return typeof s=="object"&&s!==null}function tL(s){return Tm(s.target.files).map(t=>Vr(t))}function eL(s){return _a(this,void 0,void 0,function*(){return(yield Promise.all(s.map(e=>e.getFile()))).map(e=>Vr(e))})}function iL(s,t){return _a(this,void 0,void 0,function*(){if(s.items){const e=Tm(s.items).filter(a=>a.kind==="file");if(t!=="drop")return e;const i=yield Promise.all(e.map(nL));return cw(RS(i))}return cw(Tm(s.files).map(e=>Vr(e)))})}function cw(s){return s.filter(t=>WO.indexOf(t.name)===-1)}function Tm(s){if(s===null)return[];const t=[];for(let e=0;e<s.length;e++){const i=s[e];t.push(i)}return t}function nL(s){if(typeof s.webkitGetAsEntry!="function")return uw(s);const t=s.webkitGetAsEntry();return t&&t.isDirectory?OS(t):uw(s,t)}function RS(s){return s.reduce((t,e)=>[...t,...Array.isArray(e)?RS(e):[e]],[])}function uw(s,t){return _a(this,void 0,void 0,function*(){var e;if(globalThis.isSecureContext&&typeof s.getAsFileSystemHandle=="function"){const o=yield s.getAsFileSystemHandle();if(o===null)throw new Error(`${s} is not a File`);if(o!==void 0){const l=yield o.getFile();return l.handle=o,Vr(l)}}const i=s.getAsFile();if(!i)throw new Error(`${s} is not a File`);return Vr(i,(e=t?.fullPath)!==null&&e!==void 0?e:void 0)})}function sL(s){return _a(this,void 0,void 0,function*(){return s.isDirectory?OS(s):aL(s)})}function OS(s){const t=s.createReader();return new Promise((e,i)=>{const a=[];function o(){t.readEntries(l=>_a(this,void 0,void 0,function*(){if(l.length){const u=Promise.all(l.map(sL));a.push(u),o()}else try{const u=yield Promise.all(a);e(u)}catch(u){i(u)}}),l=>{i(l)})}o()})}function aL(s){return _a(this,void 0,void 0,function*(){return new Promise((t,e)=>{s.file(i=>{const a=Vr(i,s.fullPath);t(a)},i=>{e(i)})})})}var Eu={},dw;function rL(){return dw||(dw=1,Eu.__esModule=!0,Eu.default=function(s,t){if(s&&t){var e=Array.isArray(t)?t:t.split(",");if(e.length===0)return!0;var i=s.name||"",a=(s.type||"").toLowerCase(),o=a.replace(/\/.*$/,"");return e.some(function(l){var u=l.trim().toLowerCase();return u.charAt(0)==="."?i.toLowerCase().endsWith(u):u.endsWith("/*")?o===u.replace(/\/.*$/,""):a===u})}return!0}),Eu}var oL=rL();const Dp=fd(oL);function hw(s){return uL(s)||cL(s)||PS(s)||lL()}function lL(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cL(s){if(typeof Symbol<"u"&&s[Symbol.iterator]!=null||s["@@iterator"]!=null)return Array.from(s)}function uL(s){if(Array.isArray(s))return Cm(s)}function fw(s,t){var e=Object.keys(s);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(s);t&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(s,a).enumerable})),e.push.apply(e,i)}return e}function pw(s){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?fw(Object(e),!0).forEach(function(i){LS(s,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(e)):fw(Object(e)).forEach(function(i){Object.defineProperty(s,i,Object.getOwnPropertyDescriptor(e,i))})}return s}function LS(s,t,e){return t in s?Object.defineProperty(s,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):s[t]=e,s}function _l(s,t){return fL(s)||hL(s,t)||PS(s,t)||dL()}function dL(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PS(s,t){if(s){if(typeof s=="string")return Cm(s,t);var e=Object.prototype.toString.call(s).slice(8,-1);if(e==="Object"&&s.constructor&&(e=s.constructor.name),e==="Map"||e==="Set")return Array.from(s);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return Cm(s,t)}}function Cm(s,t){(t==null||t>s.length)&&(t=s.length);for(var e=0,i=new Array(t);e<t;e++)i[e]=s[e];return i}function hL(s,t){var e=s==null?null:typeof Symbol<"u"&&s[Symbol.iterator]||s["@@iterator"];if(e!=null){var i=[],a=!0,o=!1,l,u;try{for(e=e.call(s);!(a=(l=e.next()).done)&&(i.push(l.value),!(t&&i.length===t));a=!0);}catch(d){o=!0,u=d}finally{try{!a&&e.return!=null&&e.return()}finally{if(o)throw u}}return i}}function fL(s){if(Array.isArray(s))return s}var pL=typeof Dp=="function"?Dp:Dp.default,mL="file-invalid-type",gL="file-too-large",xL="file-too-small",yL="too-many-files",bL=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",e=t.split(","),i=e.length>1?"one of ".concat(e.join(", ")):e[0];return{code:mL,message:"File type must be ".concat(i)}},mw=function(t){return{code:gL,message:"File is larger than ".concat(t," ").concat(t===1?"byte":"bytes")}},gw=function(t){return{code:xL,message:"File is smaller than ".concat(t," ").concat(t===1?"byte":"bytes")}},vL={code:yL,message:"Too many files"};function BS(s,t){var e=s.type==="application/x-moz-file"||pL(s,t);return[e,e?null:bL(t)]}function zS(s,t,e){if(da(s.size))if(da(t)&&da(e)){if(s.size>e)return[!1,mw(e)];if(s.size<t)return[!1,gw(t)]}else{if(da(t)&&s.size<t)return[!1,gw(t)];if(da(e)&&s.size>e)return[!1,mw(e)]}return[!0,null]}function da(s){return s!=null}function wL(s){var t=s.files,e=s.accept,i=s.minSize,a=s.maxSize,o=s.multiple,l=s.maxFiles,u=s.validator;return!o&&t.length>1||o&&l>=1&&t.length>l?!1:t.every(function(d){var f=BS(d,e),p=_l(f,1),g=p[0],b=zS(d,i,a),v=_l(b,1),w=v[0],A=u?u(d):null;return g&&w&&!A})}function od(s){return typeof s.isPropagationStopped=="function"?s.isPropagationStopped():typeof s.cancelBubble<"u"?s.cancelBubble:!1}function Tu(s){return s.dataTransfer?Array.prototype.some.call(s.dataTransfer.types,function(t){return t==="Files"||t==="application/x-moz-file"}):!!s.target&&!!s.target.files}function xw(s){s.preventDefault()}function AL(s){return s.indexOf("MSIE")!==-1||s.indexOf("Trident/")!==-1}function SL(s){return s.indexOf("Edge/")!==-1}function EL(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return AL(s)||SL(s)}function mn(){for(var s=arguments.length,t=new Array(s),e=0;e<s;e++)t[e]=arguments[e];return function(i){for(var a=arguments.length,o=new Array(a>1?a-1:0),l=1;l<a;l++)o[l-1]=arguments[l];return t.some(function(u){return!od(i)&&u&&u.apply(void 0,[i].concat(o)),od(i)})}}function TL(){return"showOpenFilePicker"in window}function CL(s){if(da(s)){var t=Object.entries(s).filter(function(e){var i=_l(e,2),a=i[0],o=i[1],l=!0;return FS(a)||(console.warn('Skipped "'.concat(a,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),l=!1),(!Array.isArray(o)||!o.every(IS))&&(console.warn('Skipped "'.concat(a,'" because an invalid file extension was provided.')),l=!1),l}).reduce(function(e,i){var a=_l(i,2),o=a[0],l=a[1];return pw(pw({},e),{},LS({},o,l))},{});return[{description:"Files",accept:t}]}return s}function _L(s){if(da(s))return Object.entries(s).reduce(function(t,e){var i=_l(e,2),a=i[0],o=i[1];return[].concat(hw(t),[a],hw(o))},[]).filter(function(t){return FS(t)||IS(t)}).join(",")}function NL(s){return s instanceof DOMException&&(s.name==="AbortError"||s.code===s.ABORT_ERR)}function kL(s){return s instanceof DOMException&&(s.name==="SecurityError"||s.code===s.SECURITY_ERR)}function FS(s){return s==="audio/*"||s==="video/*"||s==="image/*"||s==="text/*"||s==="application/*"||/\w+\/[-+.\w]+/g.test(s)}function IS(s){return/^.*\.[\w]+$/.test(s)}var jL=["children"],ML=["open"],DL=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],RL=["refKey","onChange","onClick"];function OL(s){return BL(s)||PL(s)||US(s)||LL()}function LL(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PL(s){if(typeof Symbol<"u"&&s[Symbol.iterator]!=null||s["@@iterator"]!=null)return Array.from(s)}function BL(s){if(Array.isArray(s))return _m(s)}function Rp(s,t){return IL(s)||FL(s,t)||US(s,t)||zL()}function zL(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function US(s,t){if(s){if(typeof s=="string")return _m(s,t);var e=Object.prototype.toString.call(s).slice(8,-1);if(e==="Object"&&s.constructor&&(e=s.constructor.name),e==="Map"||e==="Set")return Array.from(s);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return _m(s,t)}}function _m(s,t){(t==null||t>s.length)&&(t=s.length);for(var e=0,i=new Array(t);e<t;e++)i[e]=s[e];return i}function FL(s,t){var e=s==null?null:typeof Symbol<"u"&&s[Symbol.iterator]||s["@@iterator"];if(e!=null){var i=[],a=!0,o=!1,l,u;try{for(e=e.call(s);!(a=(l=e.next()).done)&&(i.push(l.value),!(t&&i.length===t));a=!0);}catch(d){o=!0,u=d}finally{try{!a&&e.return!=null&&e.return()}finally{if(o)throw u}}return i}}function IL(s){if(Array.isArray(s))return s}function yw(s,t){var e=Object.keys(s);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(s);t&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(s,a).enumerable})),e.push.apply(e,i)}return e}function he(s){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?yw(Object(e),!0).forEach(function(i){Nm(s,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(e)):yw(Object(e)).forEach(function(i){Object.defineProperty(s,i,Object.getOwnPropertyDescriptor(e,i))})}return s}function Nm(s,t,e){return t in s?Object.defineProperty(s,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):s[t]=e,s}function ld(s,t){if(s==null)return{};var e=UL(s,t),i,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(s);for(a=0;a<o.length;a++)i=o[a],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(s,i)&&(e[i]=s[i])}return e}function UL(s,t){if(s==null)return{};var e={},i=Object.keys(s),a,o;for(o=0;o<i.length;o++)a=i[o],!(t.indexOf(a)>=0)&&(e[a]=s[a]);return e}var $g=k.forwardRef(function(s,t){var e=s.children,i=ld(s,jL),a=VS(i),o=a.open,l=ld(a,ML);return k.useImperativeHandle(t,function(){return{open:o}},[o]),Zn.createElement(k.Fragment,null,e(he(he({},l),{},{open:o})))});$g.displayName="Dropzone";var HS={disabled:!1,getFilesFromEvent:QO,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};$g.defaultProps=HS;$g.propTypes={children:Jt.func,accept:Jt.objectOf(Jt.arrayOf(Jt.string)),multiple:Jt.bool,preventDropOnDocument:Jt.bool,noClick:Jt.bool,noKeyboard:Jt.bool,noDrag:Jt.bool,noDragEventsBubbling:Jt.bool,minSize:Jt.number,maxSize:Jt.number,maxFiles:Jt.number,disabled:Jt.bool,getFilesFromEvent:Jt.func,onFileDialogCancel:Jt.func,onFileDialogOpen:Jt.func,useFsAccessApi:Jt.bool,autoFocus:Jt.bool,onDragEnter:Jt.func,onDragLeave:Jt.func,onDragOver:Jt.func,onDrop:Jt.func,onDropAccepted:Jt.func,onDropRejected:Jt.func,onError:Jt.func,validator:Jt.func};var km={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function VS(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=he(he({},HS),s),e=t.accept,i=t.disabled,a=t.getFilesFromEvent,o=t.maxSize,l=t.minSize,u=t.multiple,d=t.maxFiles,f=t.onDragEnter,p=t.onDragLeave,g=t.onDragOver,b=t.onDrop,v=t.onDropAccepted,w=t.onDropRejected,A=t.onFileDialogCancel,E=t.onFileDialogOpen,T=t.useFsAccessApi,_=t.autoFocus,C=t.preventDropOnDocument,j=t.noClick,M=t.noKeyboard,R=t.noDrag,D=t.noDragEventsBubbling,P=t.onError,X=t.validator,V=k.useMemo(function(){return _L(e)},[e]),W=k.useMemo(function(){return CL(e)},[e]),rt=k.useMemo(function(){return typeof E=="function"?E:bw},[E]),ft=k.useMemo(function(){return typeof A=="function"?A:bw},[A]),et=k.useRef(null),at=k.useRef(null),z=k.useReducer(HL,km),q=Rp(z,2),I=q[0],it=q[1],dt=I.isFocused,O=I.isFileDialogActive,$=k.useRef(typeof window<"u"&&window.isSecureContext&&T&&TL()),J=function(){!$.current&&O&&setTimeout(function(){if(at.current){var wt=at.current.files;wt.length||(it({type:"closeDialog"}),ft())}},300)};k.useEffect(function(){return window.addEventListener("focus",J,!1),function(){window.removeEventListener("focus",J,!1)}},[at,O,ft,$]);var nt=k.useRef([]),pt=function(wt){et.current&&et.current.contains(wt.target)||(wt.preventDefault(),nt.current=[])};k.useEffect(function(){return C&&(document.addEventListener("dragover",xw,!1),document.addEventListener("drop",pt,!1)),function(){C&&(document.removeEventListener("dragover",xw),document.removeEventListener("drop",pt))}},[et,C]),k.useEffect(function(){return!i&&_&&et.current&&et.current.focus(),function(){}},[et,_,i]);var mt=k.useCallback(function(st){P?P(st):console.error(st)},[P]),bt=k.useCallback(function(st){st.preventDefault(),st.persist(),ls(st),nt.current=[].concat(OL(nt.current),[st.target]),Tu(st)&&Promise.resolve(a(st)).then(function(wt){if(!(od(st)&&!D)){var ue=wt.length,we=ue>0&&wL({files:wt,accept:V,minSize:l,maxSize:o,multiple:u,maxFiles:d,validator:X}),Oe=ue>0&&!we;it({isDragAccept:we,isDragReject:Oe,isDragActive:!0,type:"setDraggedFiles"}),f&&f(st)}}).catch(function(wt){return mt(wt)})},[a,f,mt,D,V,l,o,u,d,X]),ne=k.useCallback(function(st){st.preventDefault(),st.persist(),ls(st);var wt=Tu(st);if(wt&&st.dataTransfer)try{st.dataTransfer.dropEffect="copy"}catch{}return wt&&g&&g(st),!1},[g,D]),Ht=k.useCallback(function(st){st.preventDefault(),st.persist(),ls(st);var wt=nt.current.filter(function(we){return et.current&&et.current.contains(we)}),ue=wt.indexOf(st.target);ue!==-1&&wt.splice(ue,1),nt.current=wt,!(wt.length>0)&&(it({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),Tu(st)&&p&&p(st))},[et,p,D]),ji=k.useCallback(function(st,wt){var ue=[],we=[];st.forEach(function(Oe){var qs=BS(Oe,V),Tn=Rp(qs,2),eo=Tn[0],io=Tn[1],Cn=zS(Oe,l,o),Le=Rp(Cn,2),Di=Le[0],Ie=Le[1],no=X?X(Oe):null;if(eo&&Di&&!no)ue.push(Oe);else{var so=[io,Ie];no&&(so=so.concat(no)),we.push({file:Oe,errors:so.filter(function(Bd){return Bd})})}}),(!u&&ue.length>1||u&&d>=1&&ue.length>d)&&(ue.forEach(function(Oe){we.push({file:Oe,errors:[vL]})}),ue.splice(0)),it({acceptedFiles:ue,fileRejections:we,isDragReject:we.length>0,type:"setFiles"}),b&&b(ue,we,wt),we.length>0&&w&&w(we,wt),ue.length>0&&v&&v(ue,wt)},[it,u,V,l,o,d,b,v,w,X]),vi=k.useCallback(function(st){st.preventDefault(),st.persist(),ls(st),nt.current=[],Tu(st)&&Promise.resolve(a(st)).then(function(wt){od(st)&&!D||ji(wt,st)}).catch(function(wt){return mt(wt)}),it({type:"reset"})},[a,ji,mt,D]),ri=k.useCallback(function(){if($.current){it({type:"openDialog"}),rt();var st={multiple:u,types:W};window.showOpenFilePicker(st).then(function(wt){return a(wt)}).then(function(wt){ji(wt,null),it({type:"closeDialog"})}).catch(function(wt){NL(wt)?(ft(wt),it({type:"closeDialog"})):kL(wt)?($.current=!1,at.current?(at.current.value=null,at.current.click()):mt(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):mt(wt)});return}at.current&&(it({type:"openDialog"}),rt(),at.current.value=null,at.current.click())},[it,rt,ft,T,ji,mt,W,u]),as=k.useCallback(function(st){!et.current||!et.current.isEqualNode(st.target)||(st.key===" "||st.key==="Enter"||st.keyCode===32||st.keyCode===13)&&(st.preventDefault(),ri())},[et,ri]),Mi=k.useCallback(function(){it({type:"focus"})},[]),ja=k.useCallback(function(){it({type:"blur"})},[]),Ma=k.useCallback(function(){j||(EL()?setTimeout(ri,0):ri())},[j,ri]),rs=function(wt){return i?null:wt},Da=function(wt){return M?null:rs(wt)},os=function(wt){return R?null:rs(wt)},ls=function(wt){D&&wt.stopPropagation()},to=k.useMemo(function(){return function(){var st=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},wt=st.refKey,ue=wt===void 0?"ref":wt,we=st.role,Oe=st.onKeyDown,qs=st.onFocus,Tn=st.onBlur,eo=st.onClick,io=st.onDragEnter,Cn=st.onDragOver,Le=st.onDragLeave,Di=st.onDrop,Ie=ld(st,DL);return he(he(Nm({onKeyDown:Da(mn(Oe,as)),onFocus:Da(mn(qs,Mi)),onBlur:Da(mn(Tn,ja)),onClick:rs(mn(eo,Ma)),onDragEnter:os(mn(io,bt)),onDragOver:os(mn(Cn,ne)),onDragLeave:os(mn(Le,Ht)),onDrop:os(mn(Di,vi)),role:typeof we=="string"&&we!==""?we:"presentation"},ue,et),!i&&!M?{tabIndex:0}:{}),Ie)}},[et,as,Mi,ja,Ma,bt,ne,Ht,vi,M,R,i]),Ld=k.useCallback(function(st){st.stopPropagation()},[]),Pd=k.useMemo(function(){return function(){var st=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},wt=st.refKey,ue=wt===void 0?"ref":wt,we=st.onChange,Oe=st.onClick,qs=ld(st,RL),Tn=Nm({accept:V,multiple:u,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:rs(mn(we,vi)),onClick:rs(mn(Oe,Ld)),tabIndex:-1},ue,at);return he(he({},Tn),qs)}},[at,e,u,vi,i]);return he(he({},I),{},{isFocused:dt&&!i,getRootProps:to,getInputProps:Pd,rootRef:et,inputRef:at,open:rs(ri)})}function HL(s,t){switch(t.type){case"focus":return he(he({},s),{},{isFocused:!0});case"blur":return he(he({},s),{},{isFocused:!1});case"openDialog":return he(he({},km),{},{isFileDialogActive:!0});case"closeDialog":return he(he({},s),{},{isFileDialogActive:!1});case"setDraggedFiles":return he(he({},s),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return he(he({},s),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections,isDragReject:t.isDragReject});case"reset":return he({},km);default:return s}}function bw(){}const VL=()=>{const[s,t]=k.useState({}),[e,i]=k.useState({type:"Checking...",color:"text-gray-400"}),a=k.useRef(!1),o=k.useRef(null);k.useEffect(()=>{const d=()=>{const f=navigator.connection||{},p=(f.effectiveType||"unknown").toUpperCase(),g=f.downlink||0;let b={type:p,color:"text-red-500"};g>5||p==="WIFI"?b.color="text-green-500":g>1.5&&(b.color="text-yellow-500"),i(b)};d(),navigator.connection&&(navigator.connection.onchange=d)},[]);const l=async()=>{try{"wakeLock"in navigator&&!o.current&&(o.current=await navigator.wakeLock.request("screen"))}catch{console.warn("WakeLock failed")}};return{uploadFile:async(d,{onAlert:f,onProgress:p,onEta:g,stats:b})=>{await l();let v=localStorage.getItem(`upId_${d.name}`),w=0,A=0;if(v)try{const{data:T}=await pe.get(`/upload/status?uploadId=${v}`);w=T.uploadedChunks,A=w*(1024*1024)}catch{v=`${Date.now()}_${Math.random().toString(36).slice(2,7)}`}else v=`${Date.now()}_${Math.random().toString(36).slice(2,7)}`,localStorage.setItem(`upId_${d.name}`,v);let E=1024*1024;for(;A<d.size;){if(a.current)return{paused:!0};const T=d.slice(A,A+E),_=new FormData;_.append("chunk",T),_.append("chunkIndex",w),_.append("uploadId",v);let C=!1,j=0;const M=[1e3,3e3,5e3];for(;!C&&j<3;)try{const D=performance.now();await pe.post("/upload/chunk",_);const P=(performance.now()-D)/1e3;P<.8?E=Math.min(E*2,10*1024*1024):P>3&&(E=Math.max(E/2,512*1024));const X=T.size/P;if(g&&b){const V=b.uploadedSoFar+A+T.size,W=b.totalSize-V,rt=Math.round(W/X);rt>=0&&g(new Date(rt*1e3).toISOString().substr(11,8))}C=!0}catch{if(j++,j>=3)return a.current=!0,f&&f("Network Error: 3 retries failed."),{paused:!0};await new Promise(P=>setTimeout(P,M[j-1]))}A+=T.size,w++;const R=Math.round(A/d.size*100);t(D=>({...D,[d.name]:R})),p&&p(R,A)}try{const T=await pe.post("/upload/merge",{uploadId:v,fileName:d.name,totalChunks:w});return localStorage.removeItem(`upId_${d.name}`),{success:!0,url:T.data.url,fileName:d.name}}catch{return{success:!1}}},progress:s,netHealth:e,pauseRef:a}},gl={grayscale:{A4:{"75gsm":{name:"A4 Paper (75 GSM)",single:1,double:.65},"100gsm":{name:"A4 Paper (100 GSM)",single:1.5,double:1},bond_100:{name:"A4 100 Bond (100 GSM)",single:1.5,double:1}},fls:{"75gsm":{name:"FLS Standard (75 GSM)",single:1.3,double:1},green_90:{name:"FLS Green Paper (90 GSM)",single:2,double:1.5}},A3:{"75gsm":{name:"A3 Paper (75 GSM)",single:3,double:2},"100gsm":{name:"A3 Paper (100 GSM)",single:4,double:3}}},color:{A4:{"100gsm":{name:"A4 Paper (100 GSM)",single:8,double:6},"130gsm":{name:"A4 Paper (130 GSM)",single:9,double:7},"170gsm":{name:"A4 Paper (170 GSM)",single:10,double:8},"270gsm":{name:"A4 Paper (270 GSM)",single:12,double:8},photo_180:{name:"A4 Photo Paper (180 GSM)",single:12,double:0},gold_300:{name:"A4 Special Board Gold (300 GSM)",single:22,double:15}},A3:{"75gsm":{name:"A3 Paper (75 GSM)",single:11,double:8},"100gsm":{name:"A3 Paper (100 GSM)",single:11,double:8},"130gsm":{name:"A3 Art Paper 12x18 (130 GSM)",single:11,double:8.5},"170gsm":{name:"A3 Art Paper 12x18 (170 GSM)",single:12,double:9},"270gsm":{name:"A3 Art Paper 12x18 (270 GSM)",single:14,double:10}},"Sticker 12x18":{"130gsm":{name:"A4 Art Paper 12x18 (130 GSM)",single:12,double:9},"170gsm":{name:"A4 Art Paper 12x18 (170 GSM)",single:13,double:9.5},"270gsm":{name:"A4 Art Paper 12x18 (270 GSM)",single:14,double:10},sticker_170:{name:"Sticker 12x18 (170 GSM)",single:14,double:0}},"Sticker 13x19":{"130gsm":{name:"Art Paper 13x19 (130 GSM)",single:13,double:9},"170gsm":{name:"Art Paper 13x19 (170 GSM)",single:14,double:10.5},"270gsm":{name:"Art Paper 13x19 (270 GSM)",single:15,double:11.5},sticker_170:{name:"Sticker 13x19 (170 GSM)",single:15,double:0},sticker_clear:{name:"Clear Sticker 13x19 (170 GSM)",single:30,double:0},sticker_pvc:{name:"PVC White Sticker 13x19 (170 GSM)",single:30,double:0},"Non Tearable":{name:"Non Tearable 13x19 (170 GSM)",single:45,double:0},sticker_gold:{name:"Gold Sticker 13x19 (170 GSM)",single:45,double:0},sticker_silver:{name:"Silver Sticker 13x19 (170 GSM)",single:45,double:0}},A2:{line_90:{name:"A2 Plans Line Drawings (90 GSM)",single:40,double:0},img_90:{name:"A2 Plans Images (90 GSM)",single:80,double:0},cloth:{name:"A2 Plans Cloth (90 GSM)",single:175,double:0},glossy:{name:"A2 Photo Glossy (90 GSM)",single:200,double:0}},A1:{line_90:{name:"A1 Plans Line Drawings (90 GSM)",single:80,double:0},img_90:{name:"A1 Plans Images (90 GSM)",single:160,double:0},cloth:{name:"A1 Plans Cloth (90 GSM)",single:375,double:0},glossy:{name:"A1 Photo Glossy (90 GSM)",single:400,double:0}},A0:{line_90:{name:"A0 Plans Line Drawings (90 GSM)",single:160,double:0},img_90:{name:"A0 Plans Images (90 GSM)",single:290,double:0},cloth:{name:"A0 Plans Cloth (90 GSM)",single:700,double:0},glossy:{name:"A0 Photo Glossy (90 GSM)",single:800,double:0}}},binding:{none:{name:"Loose Sheets",cost:0},corner:{name:"Corner Stapling",cost:0},spiral_binding:{name:"Spiral Binding",cost:40},wiro:{name:"Wiro Binding",cost:60},soft:{name:"Soft Binding",cost:30},hard_morocco:{name:"Hard Binding (Morocco)",cost:100},perfect:{name:"Perfect Binding",cost:100},hard_lam:{name:"Hard Binding (Lam)",cost:100},rexin:{name:"Rexin Binding",cost:250}}},qL=(s,t,e)=>{const{printType:i,size:a,media:o,sides:l,binding:u,lamination:d,cover:f}=e,p=gl[i]?.[a]?.[o];if(!p)return 0;const g=l==="double"&&p.double>0?p.double:p.single;let b=s*g*t;if(!["A0","A1","A2","A3","fls","Sticker 12x18","Sticker 13x19"].includes(a)){const w=gl.binding[u]?.cost||0;b+=w*t,u!=="none"&&u!=="corner"&&(d!=="None"&&(b+=20*t),f!=="No Cover Page"&&(b+=50*t))}return b},ii=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),jm=[.001,0,0,.001,0,0],Op=1.35,Ni={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Ls={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},Nl="pdfjs_internal_editor_",Ct={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},Lt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},GL={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Mm={TRIANGLES:1,LATTICE:2},$e={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Gu={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},je={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},vr={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Nd={ERRORS:0,WARNINGS:1,INFOS:5},kl={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},il={moveTo:0,lineTo:1,curveTo:2,quadraticCurveTo:3,closePath:4},$L={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let kd=Nd.WARNINGS;function XL(s){Number.isInteger(s)&&(kd=s)}function YL(){return kd}function jd(s){kd>=Nd.INFOS&&console.info(`Info: ${s}`)}function Et(s){kd>=Nd.WARNINGS&&console.warn(`Warning: ${s}`)}function te(s){throw new Error(s)}function Pt(s,t){s||te(t)}function KL(s){switch(s?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function qS(s,t=null,e=null){if(!s)return null;if(e&&typeof s=="string"&&(e.addDefaultProtocol&&s.startsWith("www.")&&s.match(/\./g)?.length>=2&&(s=`http://${s}`),e.tryConvertEncoding))try{s=tP(s)}catch{}const i=t?URL.parse(s,t):URL.parse(s);return KL(i)?i:null}function GS(s,t,e=!1){const i=URL.parse(s);return i?(i.hash=t,i.href):e&&qS(s,"http://example.com")?s.split("#",1)[0]+`${t?`#${t}`:""}`:""}function Tt(s,t,e,i=!1){return Object.defineProperty(s,t,{value:e,enumerable:!i,configurable:!0,writable:!1}),e}const Na=(function(){function t(e,i){this.message=e,this.name=i}return t.prototype=new Error,t.constructor=t,t})();class vw extends Na{constructor(t,e){super(t,"PasswordException"),this.code=e}}class Lp extends Na{constructor(t,e){super(t,"UnknownErrorException"),this.details=e}}class Dm extends Na{constructor(t){super(t,"InvalidPDFException")}}class cd extends Na{constructor(t,e,i){super(t,"ResponseException"),this.status=e,this.missing=i}}class WL extends Na{constructor(t){super(t,"FormatError")}}class Fs extends Na{constructor(t){super(t,"AbortException")}}function $S(s){(typeof s!="object"||s?.length===void 0)&&te("Invalid argument for bytesToString");const t=s.length,e=8192;if(t<e)return String.fromCharCode.apply(null,s);const i=[];for(let a=0;a<t;a+=e){const o=Math.min(a+e,t),l=s.subarray(a,o);i.push(String.fromCharCode.apply(null,l))}return i.join("")}function $l(s){typeof s!="string"&&te("Invalid argument for stringToBytes");const t=s.length,e=new Uint8Array(t);for(let i=0;i<t;++i)e[i]=s.charCodeAt(i)&255;return e}function QL(s){return String.fromCharCode(s>>24&255,s>>16&255,s>>8&255,s&255)}function ZL(){const s=new Uint8Array(4);return s[0]=1,new Uint32Array(s.buffer,0,1)[0]===1}function JL(){try{return new Function(""),!0}catch{return!1}}class We{static get isLittleEndian(){return Tt(this,"isLittleEndian",ZL())}static get isEvalSupported(){return Tt(this,"isEvalSupported",JL())}static get isOffscreenCanvasSupported(){return Tt(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return Tt(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get isFloat16ArraySupported(){return Tt(this,"isFloat16ArraySupported",typeof Float16Array<"u")}static get isSanitizerSupported(){return Tt(this,"isSanitizerSupported",typeof Sanitizer<"u")}static get platform(){const{platform:t,userAgent:e}=navigator;return Tt(this,"platform",{isAndroid:e.includes("Android"),isLinux:t.includes("Linux"),isMac:t.includes("Mac"),isWindows:t.includes("Win"),isFirefox:e.includes("Firefox")})}static get isCSSRoundSupported(){return Tt(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}const Pp=Array.from(Array(256).keys(),s=>s.toString(16).padStart(2,"0"));class ut{static makeHexColor(t,e,i){return`#${Pp[t]}${Pp[e]}${Pp[i]}`}static domMatrixToTransform(t){return[t.a,t.b,t.c,t.d,t.e,t.f]}static scaleMinMax(t,e){let i;t[0]?(t[0]<0&&(i=e[0],e[0]=e[2],e[2]=i),e[0]*=t[0],e[2]*=t[0],t[3]<0&&(i=e[1],e[1]=e[3],e[3]=i),e[1]*=t[3],e[3]*=t[3]):(i=e[0],e[0]=e[1],e[1]=i,i=e[2],e[2]=e[3],e[3]=i,t[1]<0&&(i=e[1],e[1]=e[3],e[3]=i),e[1]*=t[1],e[3]*=t[1],t[2]<0&&(i=e[0],e[0]=e[2],e[2]=i),e[0]*=t[2],e[2]*=t[2]),e[0]+=t[4],e[1]+=t[5],e[2]+=t[4],e[3]+=t[5]}static transform(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}static multiplyByDOMMatrix(t,e){return[t[0]*e.a+t[2]*e.b,t[1]*e.a+t[3]*e.b,t[0]*e.c+t[2]*e.d,t[1]*e.c+t[3]*e.d,t[0]*e.e+t[2]*e.f+t[4],t[1]*e.e+t[3]*e.f+t[5]]}static applyTransform(t,e,i=0){const a=t[i],o=t[i+1];t[i]=a*e[0]+o*e[2]+e[4],t[i+1]=a*e[1]+o*e[3]+e[5]}static applyTransformToBezier(t,e,i=0){const a=e[0],o=e[1],l=e[2],u=e[3],d=e[4],f=e[5];for(let p=0;p<6;p+=2){const g=t[i+p],b=t[i+p+1];t[i+p]=g*a+b*l+d,t[i+p+1]=g*o+b*u+f}}static applyInverseTransform(t,e){const i=t[0],a=t[1],o=e[0]*e[3]-e[1]*e[2];t[0]=(i*e[3]-a*e[2]+e[2]*e[5]-e[4]*e[3])/o,t[1]=(-i*e[1]+a*e[0]+e[4]*e[1]-e[5]*e[0])/o}static axialAlignedBoundingBox(t,e,i){const a=e[0],o=e[1],l=e[2],u=e[3],d=e[4],f=e[5],p=t[0],g=t[1],b=t[2],v=t[3];let w=a*p+d,A=w,E=a*b+d,T=E,_=u*g+f,C=_,j=u*v+f,M=j;if(o!==0||l!==0){const R=o*p,D=o*b,P=l*g,X=l*v;w+=P,T+=P,E+=X,A+=X,_+=R,M+=R,j+=D,C+=D}i[0]=Math.min(i[0],w,E,A,T),i[1]=Math.min(i[1],_,j,C,M),i[2]=Math.max(i[2],w,E,A,T),i[3]=Math.max(i[3],_,j,C,M)}static inverseTransform(t){const e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}static singularValueDecompose2dScale(t,e){const i=t[0],a=t[1],o=t[2],l=t[3],u=i**2+a**2,d=i*o+a*l,f=o**2+l**2,p=(u+f)/2,g=Math.sqrt(p**2-(u*f-d**2));e[0]=Math.sqrt(p+g||1),e[1]=Math.sqrt(p-g||1)}static normalizeRect(t){const e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}static intersect(t,e){const i=Math.max(Math.min(t[0],t[2]),Math.min(e[0],e[2])),a=Math.min(Math.max(t[0],t[2]),Math.max(e[0],e[2]));if(i>a)return null;const o=Math.max(Math.min(t[1],t[3]),Math.min(e[1],e[3])),l=Math.min(Math.max(t[1],t[3]),Math.max(e[1],e[3]));return o>l?null:[i,o,a,l]}static pointBoundingBox(t,e,i){i[0]=Math.min(i[0],t),i[1]=Math.min(i[1],e),i[2]=Math.max(i[2],t),i[3]=Math.max(i[3],e)}static rectBoundingBox(t,e,i,a,o){o[0]=Math.min(o[0],t,i),o[1]=Math.min(o[1],e,a),o[2]=Math.max(o[2],t,i),o[3]=Math.max(o[3],e,a)}static#t(t,e,i,a,o,l,u,d,f,p){if(f<=0||f>=1)return;const g=1-f,b=f*f,v=b*f,w=g*(g*(g*t+3*f*e)+3*b*i)+v*a,A=g*(g*(g*o+3*f*l)+3*b*u)+v*d;p[0]=Math.min(p[0],w),p[1]=Math.min(p[1],A),p[2]=Math.max(p[2],w),p[3]=Math.max(p[3],A)}static#e(t,e,i,a,o,l,u,d,f,p,g,b){if(Math.abs(f)<1e-12){Math.abs(p)>=1e-12&&this.#t(t,e,i,a,o,l,u,d,-g/p,b);return}const v=p**2-4*g*f;if(v<0)return;const w=Math.sqrt(v),A=2*f;this.#t(t,e,i,a,o,l,u,d,(-p+w)/A,b),this.#t(t,e,i,a,o,l,u,d,(-p-w)/A,b)}static bezierBoundingBox(t,e,i,a,o,l,u,d,f){f[0]=Math.min(f[0],t,u),f[1]=Math.min(f[1],e,d),f[2]=Math.max(f[2],t,u),f[3]=Math.max(f[3],e,d),this.#e(t,i,o,u,e,a,l,d,3*(-t+3*(i-o)+u),6*(t-2*i+o),3*(i-t),f),this.#e(t,i,o,u,e,a,l,d,3*(-e+3*(a-l)+d),6*(e-2*a+l),3*(a-e),f)}}function tP(s){return decodeURIComponent(escape(s))}let Bp=null,ww=null;function eP(s){return Bp||(Bp=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,ww=new Map([["","t"]])),s.replaceAll(Bp,(t,e,i)=>e?e.normalize("NFKC"):ww.get(i))}function XS(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const s=new Uint8Array(32);return crypto.getRandomValues(s),$S(s)}const Nr="pdfjs_internal_id_";function iP(s,t,e){if(!Array.isArray(e)||e.length<2)return!1;const[i,a,...o]=e;if(!s(i)&&!Number.isInteger(i)||!t(a))return!1;const l=o.length;let u=!0;switch(a.name){case"XYZ":if(l<2||l>3)return!1;break;case"Fit":case"FitB":return l===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(l>1)return!1;break;case"FitR":if(l!==4)return!1;u=!1;break;default:return!1}for(const d of o)if(!(typeof d=="number"||u&&d===null))return!1;return!0}function ni(s,t,e){return Math.min(Math.max(s,t),e)}function YS(s){return Uint8Array.prototype.toBase64?s.toBase64():btoa($S(s))}function nP(s){return Uint8Array.fromBase64?Uint8Array.fromBase64(s):$l(atob(s))}typeof Promise.try!="function"&&(Promise.try=function(s,...t){return new Promise(e=>{e(s(...t))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(s){return s.reduce((t,e)=>t+e,0)});class jl{static textContent(t){const e=[],i={items:e,styles:Object.create(null)};function a(o){if(!o)return;let l=null;const u=o.name;if(u==="#text")l=o.value;else if(jl.shouldBuildText(u))o?.attributes?.textContent?l=o.attributes.textContent:o.value&&(l=o.value);else return;if(l!==null&&e.push({str:l}),!!o.children)for(const d of o.children)a(d)}return a(t),i}static shouldBuildText(t){return!(t==="textarea"||t==="input"||t==="option"||t==="select")}}class KS{static setupStorage(t,e,i,a,o){const l=a.getValue(e,{value:null});switch(i.name){case"textarea":if(l.value!==null&&(t.textContent=l.value),o==="print")break;t.addEventListener("input",u=>{a.setValue(e,{value:u.target.value})});break;case"input":if(i.attributes.type==="radio"||i.attributes.type==="checkbox"){if(l.value===i.attributes.xfaOn?t.setAttribute("checked",!0):l.value===i.attributes.xfaOff&&t.removeAttribute("checked"),o==="print")break;t.addEventListener("change",u=>{a.setValue(e,{value:u.target.checked?u.target.getAttribute("xfaOn"):u.target.getAttribute("xfaOff")})})}else{if(l.value!==null&&t.setAttribute("value",l.value),o==="print")break;t.addEventListener("input",u=>{a.setValue(e,{value:u.target.value})})}break;case"select":if(l.value!==null){t.setAttribute("value",l.value);for(const u of i.children)u.attributes.value===l.value?u.attributes.selected=!0:u.attributes.hasOwnProperty("selected")&&delete u.attributes.selected}t.addEventListener("input",u=>{const d=u.target.options,f=d.selectedIndex===-1?"":d[d.selectedIndex].value;a.setValue(e,{value:f})});break}}static setAttributes({html:t,element:e,storage:i=null,intent:a,linkService:o}){const{attributes:l}=e,u=t instanceof HTMLAnchorElement;l.type==="radio"&&(l.name=`${l.name}-${a}`);for(const[d,f]of Object.entries(l))if(f!=null)switch(d){case"class":f.length&&t.setAttribute(d,f.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",f);break;case"style":Object.assign(t.style,f);break;case"textContent":t.textContent=f;break;default:(!u||d!=="href"&&d!=="newWindow")&&t.setAttribute(d,f)}u&&o.addLinkAttributes(t,l.href,l.newWindow),i&&l.dataId&&this.setupStorage(t,l.dataId,e,i)}static render(t){const e=t.annotationStorage,i=t.linkService,a=t.xfaHtml,o=t.intent||"display",l=document.createElement(a.name);a.attributes&&this.setAttributes({html:l,element:a,intent:o,linkService:i});const u=o!=="richText",d=t.div;if(d.append(l),t.viewport){const g=`matrix(${t.viewport.transform.join(",")})`;d.style.transform=g}u&&d.setAttribute("class","xfaLayer xfaFont");const f=[];if(a.children.length===0){if(a.value){const g=document.createTextNode(a.value);l.append(g),u&&jl.shouldBuildText(a.name)&&f.push(g)}return{textDivs:f}}const p=[[a,-1,l]];for(;p.length>0;){const[g,b,v]=p.at(-1);if(b+1===g.children.length){p.pop();continue}const w=g.children[++p.at(-1)[1]];if(w===null)continue;const{name:A}=w;if(A==="#text"){const T=document.createTextNode(w.value);f.push(T),v.append(T);continue}const E=w?.attributes?.xmlns?document.createElementNS(w.attributes.xmlns,A):document.createElement(A);if(v.append(E),w.attributes&&this.setAttributes({html:E,element:w,storage:e,intent:o,linkService:i}),w.children?.length>0)p.push([w,-1,E]);else if(w.value){const T=document.createTextNode(w.value);u&&jl.shouldBuildText(A)&&f.push(T),E.append(T)}}for(const g of d.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))g.setAttribute("readOnly",!0);return{textDivs:f}}static update(t){const e=`matrix(${t.viewport.transform.join(",")})`;t.div.style.transform=e,t.div.hidden=!1}}const $n="http://www.w3.org/2000/svg";class qr{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}async function Xl(s,t="text"){if(ll(s,document.baseURI)){const e=await fetch(s);if(!e.ok)throw new Error(e.statusText);switch(t){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"json":return e.json()}return e.text()}return new Promise((e,i)=>{const a=new XMLHttpRequest;a.open("GET",s,!0),a.responseType=t,a.onreadystatechange=()=>{if(a.readyState===XMLHttpRequest.DONE){if(a.status===200||a.status===0){switch(t){case"arraybuffer":case"blob":case"json":e(a.response);return}e(a.responseText);return}i(new Error(a.statusText))}},a.send(null)})}class Yl{constructor({viewBox:t,userUnit:e,scale:i,rotation:a,offsetX:o=0,offsetY:l=0,dontFlip:u=!1}){this.viewBox=t,this.userUnit=e,this.scale=i,this.rotation=a,this.offsetX=o,this.offsetY=l,i*=e;const d=(t[2]+t[0])/2,f=(t[3]+t[1])/2;let p,g,b,v;switch(a%=360,a<0&&(a+=360),a){case 180:p=-1,g=0,b=0,v=1;break;case 90:p=0,g=1,b=1,v=0;break;case 270:p=0,g=-1,b=-1,v=0;break;case 0:p=1,g=0,b=0,v=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}u&&(b=-b,v=-v);let w,A,E,T;p===0?(w=Math.abs(f-t[1])*i+o,A=Math.abs(d-t[0])*i+l,E=(t[3]-t[1])*i,T=(t[2]-t[0])*i):(w=Math.abs(d-t[0])*i+o,A=Math.abs(f-t[1])*i+l,E=(t[2]-t[0])*i,T=(t[3]-t[1])*i),this.transform=[p*i,g*i,b*i,v*i,w-p*i*d-b*i*f,A-g*i*d-v*i*f],this.width=E,this.height=T}get rawDims(){const t=this.viewBox;return Tt(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}clone({scale:t=this.scale,rotation:e=this.rotation,offsetX:i=this.offsetX,offsetY:a=this.offsetY,dontFlip:o=!1}={}){return new Yl({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:t,rotation:e,offsetX:i,offsetY:a,dontFlip:o})}convertToViewportPoint(t,e){const i=[t,e];return ut.applyTransform(i,this.transform),i}convertToViewportRectangle(t){const e=[t[0],t[1]];ut.applyTransform(e,this.transform);const i=[t[2],t[3]];return ut.applyTransform(i,this.transform),[e[0],e[1],i[0],i[1]]}convertToPdfPoint(t,e){const i=[t,e];return ut.applyInverseTransform(i,this.transform),i}}class Xg extends Na{constructor(t,e=0){super(t,"RenderingCancelledException"),this.extraDelay=e}}function Md(s){const t=s.length;let e=0;for(;e<t&&s[e].trim()==="";)e++;return s.substring(e,e+5).toLowerCase()==="data:"}function Yg(s){return typeof s=="string"&&/\.pdf$/i.test(s)}function sP(s){return[s]=s.split(/[#?]/,1),s.substring(s.lastIndexOf("/")+1)}function aP(s,t="document.pdf"){if(typeof s!="string")return t;if(Md(s))return Et('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const i=(u=>{try{return new URL(u)}catch{try{return new URL(decodeURIComponent(u))}catch{try{return new URL(u,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(u),"https://foo.bar")}catch{return null}}}}})(s);if(!i)return t;const a=u=>{try{let d=decodeURIComponent(u);return d.includes("/")?(d=d.split("/").at(-1),d.test(/^\.pdf$/i)?d:u):d}catch{return u}},o=/\.pdf$/i,l=i.pathname.split("/").at(-1);if(o.test(l))return a(l);if(i.searchParams.size>0){const u=Array.from(i.searchParams.values()).reverse();for(const f of u)if(o.test(f))return a(f);const d=Array.from(i.searchParams.keys()).reverse();for(const f of d)if(o.test(f))return a(f)}if(i.hash){const d=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(i.hash);if(d)return a(d[0])}return t}class Aw{started=Object.create(null);times=[];time(t){t in this.started&&Et(`Timer is already running for ${t}`),this.started[t]=Date.now()}timeEnd(t){t in this.started||Et(`Timer has not been started for ${t}`),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let e=0;for(const{name:i}of this.times)e=Math.max(i.length,e);for(const{name:i,start:a,end:o}of this.times)t.push(`${i.padEnd(e)} ${o-a}ms
`);return t.join("")}}function ll(s,t){const e=t?URL.parse(s,t):URL.parse(s);return e?.protocol==="http:"||e?.protocol==="https:"}function Wi(s){s.preventDefault()}function ve(s){s.preventDefault(),s.stopPropagation()}function rP(s){console.log("Deprecated API usage: "+s)}class Rm{static#t;static toDateObject(t){if(t instanceof Date)return t;if(!t||typeof t!="string")return null;this.#t||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const e=this.#t.exec(t);if(!e)return null;const i=parseInt(e[1],10);let a=parseInt(e[2],10);a=a>=1&&a<=12?a-1:0;let o=parseInt(e[3],10);o=o>=1&&o<=31?o:1;let l=parseInt(e[4],10);l=l>=0&&l<=23?l:0;let u=parseInt(e[5],10);u=u>=0&&u<=59?u:0;let d=parseInt(e[6],10);d=d>=0&&d<=59?d:0;const f=e[7]||"Z";let p=parseInt(e[8],10);p=p>=0&&p<=23?p:0;let g=parseInt(e[9],10)||0;return g=g>=0&&g<=59?g:0,f==="-"?(l+=p,u+=g):f==="+"&&(l-=p,u-=g),new Date(Date.UTC(i,a,o,l,u,d))}}function oP(s,{scale:t=1,rotation:e=0}){const{width:i,height:a}=s.attributes.style,o=[0,0,parseInt(i),parseInt(a)];return new Yl({viewBox:o,userUnit:1,scale:t,rotation:e})}function Kl(s){if(s.startsWith("#")){const t=parseInt(s.slice(1),16);return[(t&16711680)>>16,(t&65280)>>8,t&255]}return s.startsWith("rgb(")?s.slice(4,-1).split(",").map(t=>parseInt(t)):s.startsWith("rgba(")?s.slice(5,-1).split(",").map(t=>parseInt(t)).slice(0,3):(Et(`Not a valid color format: "${s}"`),[0,0,0])}function lP(s){const t=document.createElement("span");t.style.visibility="hidden",t.style.colorScheme="only light",document.body.append(t);for(const e of s.keys()){t.style.color=e;const i=window.getComputedStyle(t).color;s.set(e,Kl(i))}t.remove()}function de(s){const{a:t,b:e,c:i,d:a,e:o,f:l}=s.getTransform();return[t,e,i,a,o,l]}function gn(s){const{a:t,b:e,c:i,d:a,e:o,f:l}=s.getTransform().invertSelf();return[t,e,i,a,o,l]}function Sa(s,t,e=!1,i=!0){if(t instanceof Yl){const{pageWidth:a,pageHeight:o}=t.rawDims,{style:l}=s,u=We.isCSSRoundSupported,d=`var(--total-scale-factor) * ${a}px`,f=`var(--total-scale-factor) * ${o}px`,p=u?`round(down, ${d}, var(--scale-round-x))`:`calc(${d})`,g=u?`round(down, ${f}, var(--scale-round-y))`:`calc(${f})`;!e||t.rotation%180===0?(l.width=p,l.height=g):(l.width=g,l.height=p)}i&&s.setAttribute("data-main-rotation",t.rotation)}class Sn{constructor(){const{pixelRatio:t}=Sn;this.sx=t,this.sy=t}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(t,e,i,a,o=-1){let l=1/0,u=1/0,d=1/0;i=Sn.capPixels(i,o),i>0&&(l=Math.sqrt(i/(t*e))),a!==-1&&(u=a/t,d=a/e);const f=Math.min(l,u,d);return this.sx>f||this.sy>f?(this.sx=f,this.sy=f,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(t,e){if(e>=0){const i=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+e/100));return t>0?Math.min(t,i):i}return t}}const Om=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class cP{static get isDarkMode(){return Tt(this,"isDarkMode",!!window?.matchMedia?.("(prefers-color-scheme: dark)").matches)}}class uP{static get commentForegroundColor(){const t=document.createElement("span");t.classList.add("comment","sidebar");const{style:e}=t;e.width=e.height="0",e.display="none",e.color="var(--comment-fg-color)",document.body.append(t);const{color:i}=window.getComputedStyle(t);return t.remove(),Tt(this,"commentForegroundColor",Kl(i))}}function dP(s,t,e,i){i=Math.min(Math.max(i??1,0),1);const a=255*(1-i);return s=Math.round(s*i+a),t=Math.round(t*i+a),e=Math.round(e*i+a),[s,t,e]}function Sw(s,t){const e=s[0]/255,i=s[1]/255,a=s[2]/255,o=Math.max(e,i,a),l=Math.min(e,i,a),u=(o+l)/2;if(o===l)t[0]=t[1]=0;else{const d=o-l;switch(t[1]=u<.5?d/(o+l):d/(2-o-l),o){case e:t[0]=((i-a)/d+(i<a?6:0))*60;break;case i:t[0]=((a-e)/d+2)*60;break;case a:t[0]=((e-i)/d+4)*60;break}}t[2]=u}function Lm(s,t){const e=s[0],i=s[1],a=s[2],o=(1-Math.abs(2*a-1))*i,l=o*(1-Math.abs(e/60%2-1)),u=a-o/2;switch(Math.floor(e/60)){case 0:t[0]=o+u,t[1]=l+u,t[2]=u;break;case 1:t[0]=l+u,t[1]=o+u,t[2]=u;break;case 2:t[0]=u,t[1]=o+u,t[2]=l+u;break;case 3:t[0]=u,t[1]=l+u,t[2]=o+u;break;case 4:t[0]=l+u,t[1]=u,t[2]=o+u;break;case 5:case 6:t[0]=o+u,t[1]=u,t[2]=l+u;break}}function Ew(s){return s<=.03928?s/12.92:((s+.055)/1.055)**2.4}function Tw(s,t,e){Lm(s,e),e.map(Ew);const i=.2126*e[0]+.7152*e[1]+.0722*e[2];Lm(t,e),e.map(Ew);const a=.2126*e[0]+.7152*e[1]+.0722*e[2];return i>a?(i+.05)/(a+.05):(a+.05)/(i+.05)}const Cw=new Map;function hP(s,t){const e=s[0]+s[1]*256+s[2]*65536+t[0]*16777216+t[1]*4294967296+t[2]*1099511627776;let i=Cw.get(e);if(i)return i;const a=new Float32Array(9),o=a.subarray(0,3),l=a.subarray(3,6);Sw(s,l);const u=a.subarray(6,9);Sw(t,u);const d=u[2]<.5,f=d?12:4.5;if(l[2]=d?Math.sqrt(l[2]):1-Math.sqrt(1-l[2]),Tw(l,u,o)<f){let p,g;d?(p=l[2],g=1):(p=0,g=l[2]);const b=.005;for(;g-p>b;){const v=l[2]=(p+g)/2;d===Tw(l,u,o)<f?p=v:g=v}l[2]=d?g:p}return Lm(l,o),i=ut.makeHexColor(Math.round(o[0]*255),Math.round(o[1]*255),Math.round(o[2]*255)),Cw.set(e,i),i}function WS({html:s,dir:t,className:e},i){const a=document.createDocumentFragment();if(typeof s=="string"){const o=document.createElement("p");o.dir=t||"auto";const l=s.split(/(?:\r\n?|\n)/);for(let u=0,d=l.length;u<d;++u){const f=l[u];o.append(document.createTextNode(f)),u<d-1&&o.append(document.createElement("br"))}a.append(o)}else KS.render({xfaHtml:s,div:a,intent:"richText"});a.firstElementChild.classList.add("richText",e),i.append(a)}function QS(s){const t=new Path2D;if(!s)return t;for(let e=0,i=s.length;e<i;)switch(s[e++]){case il.moveTo:t.moveTo(s[e++],s[e++]);break;case il.lineTo:t.lineTo(s[e++],s[e++]);break;case il.curveTo:t.bezierCurveTo(s[e++],s[e++],s[e++],s[e++],s[e++],s[e++]);break;case il.quadraticCurveTo:t.quadraticCurveTo(s[e++],s[e++],s[e++],s[e++]);break;case il.closePath:t.closePath();break;default:Et(`Unrecognized drawing path operator: ${s[e-1]}`);break}return t}class xl{#t=null;#e=null;#n;#i=null;#r=null;#a=null;#s=null;#o=null;static#c=null;constructor(t){this.#n=t,xl.#c||=Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"})}render(){const t=this.#t=document.createElement("div");t.classList.add("editToolbar","hidden"),t.setAttribute("role","toolbar");const e=this.#n._uiManager._signal;e instanceof AbortSignal&&!e.aborted&&(t.addEventListener("contextmenu",Wi,{signal:e}),t.addEventListener("pointerdown",xl.#l,{signal:e}));const i=this.#i=document.createElement("div");i.className="buttons",t.append(i);const a=this.#n.toolbarPosition;if(a){const{style:o}=t,l=this.#n._uiManager.direction==="ltr"?1-a[0]:a[0];o.insetInlineEnd=`${100*l}%`,o.top=`calc(${100*a[1]}% + var(--editor-toolbar-vert-offset))`}return t}get div(){return this.#t}static#l(t){t.stopPropagation()}#h(t){this.#n._focusEventsAllowed=!1,ve(t)}#d(t){this.#n._focusEventsAllowed=!0,ve(t)}#f(t){const e=this.#n._uiManager._signal;return!(e instanceof AbortSignal)||e.aborted?!1:(t.addEventListener("focusin",this.#h.bind(this),{capture:!0,signal:e}),t.addEventListener("focusout",this.#d.bind(this),{capture:!0,signal:e}),t.addEventListener("contextmenu",Wi,{signal:e}),!0)}hide(){this.#t.classList.add("hidden"),this.#e?.hideDropdown()}show(){this.#t.classList.remove("hidden"),this.#r?.shown(),this.#a?.shown()}addDeleteButton(){const{editorType:t,_uiManager:e}=this.#n,i=document.createElement("button");i.classList.add("basic","deleteButton"),i.tabIndex=0,i.setAttribute("data-l10n-id",xl.#c[t]),this.#f(i)&&i.addEventListener("click",a=>{e.delete()},{signal:e._signal}),this.#i.append(i)}get#g(){const t=document.createElement("div");return t.className="divider",t}async addAltText(t){const e=await t.render();this.#f(e),this.#i.append(e,this.#g),this.#r=t}addComment(t,e=null){if(this.#a)return;const i=t.renderForToolbar();if(!i)return;this.#f(i);const a=this.#s=this.#g;e?(this.#i.insertBefore(i,e),this.#i.insertBefore(a,e)):this.#i.append(i,a),this.#a=t,t.toolbar=this}addColorPicker(t){if(this.#e)return;this.#e=t;const e=t.renderButton();this.#f(e),this.#i.append(e,this.#g)}async addEditSignatureButton(t){const e=this.#o=await t.renderEditButton(this.#n);this.#f(e),this.#i.append(e,this.#g)}removeButton(t){switch(t){case"comment":this.#a?.removeToolbarCommentButton(),this.#a=null,this.#s?.remove(),this.#s=null;break}}async addButton(t,e){switch(t){case"colorPicker":e&&this.addColorPicker(e);break;case"altText":e&&await this.addAltText(e);break;case"editSignature":e&&await this.addEditSignatureButton(e);break;case"delete":this.addDeleteButton();break;case"comment":e&&this.addComment(e);break}}async addButtonBefore(t,e,i){if(!e&&t==="comment")return;const a=this.#i.querySelector(i);a&&t==="comment"&&this.addComment(e,a)}updateEditSignatureButton(t){this.#o&&(this.#o.title=t)}remove(){this.#t.remove(),this.#e?.destroy(),this.#e=null}}class fP{#t=null;#e=null;#n;constructor(t){this.#n=t}#i(){const t=this.#e=document.createElement("div");t.className="editToolbar",t.setAttribute("role","toolbar");const e=this.#n._signal;e instanceof AbortSignal&&!e.aborted&&t.addEventListener("contextmenu",Wi,{signal:e});const i=this.#t=document.createElement("div");return i.className="buttons",t.append(i),this.#n.hasCommentManager()&&this.#a("commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",()=>{this.#n.commentSelection("floating_button")}),this.#a("highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",()=>{this.#n.highlightSelection("floating_button")}),t}#r(t,e){let i=0,a=0;for(const o of t){const l=o.y+o.height;if(l<i)continue;const u=o.x+(e?o.width:0);if(l>i){a=u,i=l;continue}e?u>a&&(a=u):u<a&&(a=u)}return[e?1-a:a,i]}show(t,e,i){const[a,o]=this.#r(e,i),{style:l}=this.#e||=this.#i();t.append(this.#e),l.insetInlineEnd=`${100*a}%`,l.top=`calc(${100*o}% + var(--editor-toolbar-vert-offset))`}hide(){this.#e.remove()}#a(t,e,i,a){const o=document.createElement("button");o.classList.add("basic",t),o.tabIndex=0,o.setAttribute("data-l10n-id",e);const l=document.createElement("span");o.append(l),l.className="visuallyHidden",l.setAttribute("data-l10n-id",i);const u=this.#n._signal;u instanceof AbortSignal&&!u.aborted&&(o.addEventListener("contextmenu",Wi,{signal:u}),o.addEventListener("click",a,{signal:u})),this.#t.append(o)}}function ZS(s,t,e){for(const i of e)t.addEventListener(i,s[i].bind(s))}class Ut{static#t=NaN;static#e=null;static#n=NaN;static#i=null;static initializeAndAddPointerId(t){(Ut.#e||=new Set).add(t)}static setPointer(t,e){Ut.#t||=e,Ut.#i??=t}static setTimeStamp(t){Ut.#n=t}static isSamePointerId(t){return Ut.#t===t}static isSamePointerIdOrRemove(t){return Ut.#t===t?!0:(Ut.#e?.delete(t),!1)}static isSamePointerType(t){return Ut.#i===t}static isInitializedAndDifferentPointerType(t){return Ut.#i!==null&&!Ut.isSamePointerType(t)}static isSameTimeStamp(t){return Ut.#n===t}static isUsingMultiplePointers(){return Ut.#e?.size>=1}static clearPointerType(){Ut.#i=null}static clearPointerIds(){Ut.#t=NaN,Ut.#e=null}static clearTimeStamp(){Ut.#n=NaN}}class pP{#t=0;get id(){return`${Nl}${this.#t++}`}}class Kg{#t=XS();#e=0;#n=null;static get _isSVGFittingCanvas(){const t='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',i=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),a=new Image;a.src=t;const o=a.decode().then(()=>(i.drawImage(a,0,0,1,1,0,0,1,3),new Uint32Array(i.getImageData(0,0,1,1).data.buffer)[0]===0));return Tt(this,"_isSVGFittingCanvas",o)}async#i(t,e){this.#n||=new Map;let i=this.#n.get(t);if(i===null)return null;if(i?.bitmap)return i.refCounter+=1,i;try{i||={bitmap:null,id:`image_${this.#t}_${this.#e++}`,refCounter:0,isSvg:!1};let a;if(typeof e=="string"?(i.url=e,a=await Xl(e,"blob")):e instanceof File?a=i.file=e:e instanceof Blob&&(a=e),a.type==="image/svg+xml"){const o=Kg._isSVGFittingCanvas,l=new FileReader,u=new Image,d=new Promise((f,p)=>{u.onload=()=>{i.bitmap=u,i.isSvg=!0,f()},l.onload=async()=>{const g=i.svgUrl=l.result;u.src=await o?`${g}#svgView(preserveAspectRatio(none))`:g},u.onerror=l.onerror=p});l.readAsDataURL(a),await d}else i.bitmap=await createImageBitmap(a);i.refCounter=1}catch(a){Et(a),i=null}return this.#n.set(t,i),i&&this.#n.set(i.id,i),i}async getFromFile(t){const{lastModified:e,name:i,size:a,type:o}=t;return this.#i(`${e}_${i}_${a}_${o}`,t)}async getFromUrl(t){return this.#i(t,t)}async getFromBlob(t,e){const i=await e;return this.#i(t,i)}async getFromId(t){this.#n||=new Map;const e=this.#n.get(t);if(!e)return null;if(e.bitmap)return e.refCounter+=1,e;if(e.file)return this.getFromFile(e.file);if(e.blobPromise){const{blobPromise:i}=e;return delete e.blobPromise,this.getFromBlob(e.id,i)}return this.getFromUrl(e.url)}getFromCanvas(t,e){this.#n||=new Map;let i=this.#n.get(t);if(i?.bitmap)return i.refCounter+=1,i;const a=new OffscreenCanvas(e.width,e.height);return a.getContext("2d").drawImage(e,0,0),i={bitmap:a.transferToImageBitmap(),id:`image_${this.#t}_${this.#e++}`,refCounter:1,isSvg:!1},this.#n.set(t,i),this.#n.set(i.id,i),i}getSvgUrl(t){const e=this.#n.get(t);return e?.isSvg?e.svgUrl:null}deleteId(t){this.#n||=new Map;const e=this.#n.get(t);if(!e||(e.refCounter-=1,e.refCounter!==0))return;const{bitmap:i}=e;if(!e.url&&!e.file){const a=new OffscreenCanvas(i.width,i.height);a.getContext("bitmaprenderer").transferFromImageBitmap(i),e.blobPromise=a.convertToBlob()}i.close?.(),e.bitmap=null}isValidId(t){return t.startsWith(`image_${this.#t}_`)}}class mP{#t=[];#e=!1;#n;#i=-1;constructor(t=128){this.#n=t}add({cmd:t,undo:e,post:i,mustExec:a,type:o=NaN,overwriteIfSameType:l=!1,keepUndo:u=!1}){if(a&&t(),this.#e)return;const d={cmd:t,undo:e,post:i,type:o};if(this.#i===-1){this.#t.length>0&&(this.#t.length=0),this.#i=0,this.#t.push(d);return}if(l&&this.#t[this.#i].type===o){u&&(d.undo=this.#t[this.#i].undo),this.#t[this.#i]=d;return}const f=this.#i+1;f===this.#n?this.#t.splice(0,1):(this.#i=f,f<this.#t.length&&this.#t.splice(f)),this.#t.push(d)}undo(){if(this.#i===-1)return;this.#e=!0;const{undo:t,post:e}=this.#t[this.#i];t(),e?.(),this.#e=!1,this.#i-=1}redo(){if(this.#i<this.#t.length-1){this.#i+=1,this.#e=!0;const{cmd:t,post:e}=this.#t[this.#i];t(),e?.(),this.#e=!1}}hasSomethingToUndo(){return this.#i!==-1}hasSomethingToRedo(){return this.#i<this.#t.length-1}cleanType(t){if(this.#i!==-1){for(let e=this.#i;e>=0;e--)if(this.#t[e].type!==t){this.#t.splice(e+1,this.#i-e),this.#i=e;return}this.#t.length=0,this.#i=-1}}destroy(){this.#t=null}}class Wl{constructor(t){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:e}=We.platform;for(const[i,a,o={}]of t)for(const l of i){const u=l.startsWith("mac+");e&&u?(this.callbacks.set(l.slice(4),{callback:a,options:o}),this.allKeys.add(l.split("+").at(-1))):!e&&!u&&(this.callbacks.set(l,{callback:a,options:o}),this.allKeys.add(l.split("+").at(-1)))}}#t(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const e=this.buffer.join("+");return this.buffer.length=0,e}exec(t,e){if(!this.allKeys.has(e.key))return;const i=this.callbacks.get(this.#t(e));if(!i)return;const{callback:a,options:{bubbles:o=!1,args:l=[],checker:u=null}}=i;u&&!u(t,e)||(a.bind(t,...l,e)(),o||ve(e))}}class Wg{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return lP(t),Tt(this,"_colors",t)}convert(t){const e=Kl(t);if(!window.matchMedia("(forced-colors: active)").matches)return e;for(const[i,a]of this._colors)if(a.every((o,l)=>o===e[l]))return Wg._colorsMapping.get(i);return e}getHexCode(t){const e=this._colors.get(t);return e?ut.makeHexColor(...e):t}}class Is{#t=new AbortController;#e=null;#n=null;#i=new Map;#r=new Map;#a=null;#s=null;#o=null;#c=new mP;#l=null;#h=null;#d=null;#f=0;#g=new Set;#m=null;#u=null;#p=new Set;_editorUndoBar=null;#x=!1;#b=!1;#y=!1;#T=null;#S=null;#w=null;#_=null;#v=!1;#E=null;#j=new pP;#N=!1;#k=!1;#B=!1;#D=null;#O=null;#z=null;#L=null;#q=null;#C=Ct.NONE;#A=new Set;#R=null;#F=null;#U=null;#X=null;#$=null;#Y={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1};#H=[0,0];#P=null;#G=null;#Z=null;#J=null;#I=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const t=Is.prototype,e=l=>l.#G.contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&l.hasSomethingToControl(),i=(l,{target:u})=>{if(u instanceof HTMLInputElement){const{type:d}=u;return d!=="text"&&d!=="number"}return!0},a=this.TRANSLATE_SMALL,o=this.TRANSLATE_BIG;return Tt(this,"_keyboardManager",new Wl([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:i}],[["ctrl+z","mac+meta+z"],t.undo,{checker:i}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:i}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:i}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(l,{target:u})=>!(u instanceof HTMLButtonElement)&&l.#G.contains(u)&&!l.isEnterHandled}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(l,{target:u})=>!(u instanceof HTMLButtonElement)&&l.#G.contains(document.activeElement)}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-a,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-o,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[a,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[o,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-a],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-o],checker:e}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,a],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,o],checker:e}]]))}constructor(t,e,i,a,o,l,u,d,f,p,g,b,v,w,A,E){const T=this._signal=this.#t.signal;this.#G=t,this.#Z=e,this.#J=i,this.#a=a,this.#l=o,this.#F=l,this.#$=d,this._eventBus=u,u._on("editingaction",this.onEditingAction.bind(this),{signal:T}),u._on("pagechanging",this.onPageChanging.bind(this),{signal:T}),u._on("scalechanging",this.onScaleChanging.bind(this),{signal:T}),u._on("rotationchanging",this.onRotationChanging.bind(this),{signal:T}),u._on("setpreference",this.onSetPreference.bind(this),{signal:T}),u._on("switchannotationeditorparams",_=>this.updateParams(_.type,_.value),{signal:T}),window.addEventListener("pointerdown",()=>{this.#k=!0},{capture:!0,signal:T}),window.addEventListener("pointerup",()=>{this.#k=!1},{capture:!0,signal:T}),this.#rt(),this.#ht(),this.#et(),this.#s=d.annotationStorage,this.#T=d.filterFactory,this.#U=f,this.#_=p||null,this.#x=g,this.#b=b,this.#y=v,this.#q=w||null,this.viewParameters={realScale:qr.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=A||null,this._supportsPinchToZoom=E!==!1,o?.setSidebarUiManager(this)}destroy(){this.#I?.resolve(),this.#I=null,this.#t?.abort(),this.#t=null,this._signal=null;for(const t of this.#r.values())t.destroy();this.#r.clear(),this.#i.clear(),this.#p.clear(),this.#L?.clear(),this.#e=null,this.#A.clear(),this.#c.destroy(),this.#a?.destroy(),this.#l?.destroy(),this.#F?.destroy(),this.#E?.hide(),this.#E=null,this.#z?.destroy(),this.#z=null,this.#n=null,this.#S&&(clearTimeout(this.#S),this.#S=null),this.#P&&(clearTimeout(this.#P),this.#P=null),this._editorUndoBar?.destroy(),this.#$=null}combinedSignal(t){return AbortSignal.any([this._signal,t.signal])}get mlManager(){return this.#q}get useNewAltTextFlow(){return this.#b}get useNewAltTextWhenAddingImage(){return this.#y}get hcmFilter(){return Tt(this,"hcmFilter",this.#U?this.#T.addHCMFilter(this.#U.foreground,this.#U.background):"none")}get direction(){return Tt(this,"direction",getComputedStyle(this.#G).direction)}get _highlightColors(){return Tt(this,"_highlightColors",this.#_?new Map(this.#_.split(",").map(t=>(t=t.split("=").map(e=>e.trim()),t[1]=t[1].toUpperCase(),t))):null)}get highlightColors(){const{_highlightColors:t}=this;if(!t)return Tt(this,"highlightColors",null);const e=new Map,i=!!this.#U;for(const[a,o]of t){const l=a.endsWith("_HCM");if(i&&l){e.set(a.replace("_HCM",""),o);continue}!i&&!l&&e.set(a,o)}return Tt(this,"highlightColors",e)}get highlightColorNames(){return Tt(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,t=>t.reverse())):null)}getNonHCMColor(t){if(!this._highlightColors)return t;const e=this.highlightColorNames.get(t);return this._highlightColors.get(e)||t}getNonHCMColorName(t){return this.highlightColorNames.get(t)||t}setCurrentDrawingSession(t){t?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),this.#d=t}setMainHighlightColorPicker(t){this.#z=t}editAltText(t,e=!1){this.#a?.editAltText(this,t,e)}hasCommentManager(){return!!this.#l}editComment(t,e,i,a){this.#l?.showDialog(this,t,e,i,a)}selectComment(t,e){this.#r.get(t)?.getEditorByUID(e)?.toggleComment(!0,!0)}updateComment(t){this.#l?.updateComment(t.getData())}updatePopupColor(t){this.#l?.updatePopupColor(t)}removeComment(t){this.#l?.removeComments([t.uid])}toggleComment(t,e,i=void 0){this.#l?.toggleCommentPopup(t,e,i)}makeCommentColor(t,e){return t&&this.#l?.makeCommentColor(t,e)||null}getCommentDialogElement(){return this.#l?.dialogElement||null}async waitForEditorsRendered(t){if(this.#r.has(t-1))return;const{resolve:e,promise:i}=Promise.withResolvers(),a=o=>{o.pageNumber===t&&(this._eventBus._off("editorsrendered",a),e())};this._eventBus.on("editorsrendered",a),await i}getSignature(t){this.#F?.getSignature({uiManager:this,editor:t})}get signatureManager(){return this.#F}switchToMode(t,e){this._eventBus.on("annotationeditormodechanged",e,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:t})}setPreference(t,e){this._eventBus.dispatch("setpreference",{source:this,name:t,value:e})}onSetPreference({name:t,value:e}){switch(t){case"enableNewAltTextWhenAddingImage":this.#y=e;break}}onPageChanging({pageNumber:t}){this.#f=t-1}focusMainContainer(){this.#G.focus()}findParent(t,e){for(const i of this.#r.values()){const{x:a,y:o,width:l,height:u}=i.div.getBoundingClientRect();if(t>=a&&t<=a+l&&e>=o&&e<=o+u)return i}return null}disableUserSelect(t=!1){this.#Z.classList.toggle("noUserSelect",t)}addShouldRescale(t){this.#p.add(t)}removeShouldRescale(t){this.#p.delete(t)}onScaleChanging({scale:t}){this.commitOrRemove(),this.viewParameters.realScale=t*qr.PDF_TO_CSS_UNITS;for(const e of this.#p)e.onScaleChanging();this.#d?.onScaleChanging()}onRotationChanging({pagesRotation:t}){this.commitOrRemove(),this.viewParameters.rotation=t}#Q({anchorNode:t}){return t.nodeType===Node.TEXT_NODE?t.parentElement:t}#tt(t){const{currentLayer:e}=this;if(e.hasTextLayer(t))return e;for(const i of this.#r.values())if(i.hasTextLayer(t))return i;return null}highlightSelection(t="",e=!1){const i=document.getSelection();if(!i||i.isCollapsed)return;const{anchorNode:a,anchorOffset:o,focusNode:l,focusOffset:u}=i,d=i.toString(),p=this.#Q(i).closest(".textLayer"),g=this.getSelectionBoxes(p);if(!g)return;i.empty();const b=this.#tt(p),v=this.#C===Ct.NONE,w=()=>{const A=b?.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:g,anchorNode:a,anchorOffset:o,focusNode:l,focusOffset:u,text:d});v&&this.showAllEditors("highlight",!0,!0),e&&A?.editComment()};if(v){this.switchToMode(Ct.HIGHLIGHT,w);return}w()}commentSelection(t=""){this.highlightSelection(t,!0)}#st(){const t=document.getSelection();if(!t||t.isCollapsed)return;const i=this.#Q(t).closest(".textLayer"),a=this.getSelectionBoxes(i);a&&(this.#E||=new fP(this),this.#E.show(i,a,this.direction==="ltr"))}getAndRemoveDataFromAnnotationStorage(t){if(!this.#s)return null;const e=`${Nl}${t}`,i=this.#s.getRawValue(e);return i&&this.#s.remove(e),i}addToAnnotationStorage(t){!t.isEmpty()&&this.#s&&!this.#s.has(t.id)&&this.#s.setValue(t.id,t)}a11yAlert(t,e=null){const i=this.#J;i&&(i.setAttribute("data-l10n-id",t),e?i.setAttribute("data-l10n-args",JSON.stringify(e)):i.removeAttribute("data-l10n-args"))}#at(){const t=document.getSelection();if(!t||t.isCollapsed){this.#R&&(this.#E?.hide(),this.#R=null,this.#M({hasSelectedText:!1}));return}const{anchorNode:e}=t;if(e===this.#R)return;const a=this.#Q(t).closest(".textLayer");if(!a){this.#R&&(this.#E?.hide(),this.#R=null,this.#M({hasSelectedText:!1}));return}if(this.#E?.hide(),this.#R=e,this.#M({hasSelectedText:!0}),!(this.#C!==Ct.HIGHLIGHT&&this.#C!==Ct.NONE)&&(this.#C===Ct.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),this.#v=this.isShiftKeyDown,!this.isShiftKeyDown)){const o=this.#C===Ct.HIGHLIGHT?this.#tt(a):null;if(o?.toggleDrawing(),this.#k){const l=new AbortController,u=this.combinedSignal(l),d=f=>{f.type==="pointerup"&&f.button!==0||(l.abort(),o?.toggleDrawing(!0),f.type==="pointerup"&&this.#K("main_toolbar"))};window.addEventListener("pointerup",d,{signal:u}),window.addEventListener("blur",d,{signal:u})}else o?.toggleDrawing(!0),this.#K("main_toolbar")}}#K(t=""){this.#C===Ct.HIGHLIGHT?this.highlightSelection(t):this.#x&&this.#st()}#rt(){document.addEventListener("selectionchange",this.#at.bind(this),{signal:this._signal})}#ot(){if(this.#w)return;this.#w=new AbortController;const t=this.combinedSignal(this.#w);window.addEventListener("focus",this.focus.bind(this),{signal:t}),window.addEventListener("blur",this.blur.bind(this),{signal:t})}#lt(){this.#w?.abort(),this.#w=null}blur(){if(this.isShiftKeyDown=!1,this.#v&&(this.#v=!1,this.#K("main_toolbar")),!this.hasSelection)return;const{activeElement:t}=document;for(const e of this.#A)if(e.div.contains(t)){this.#O=[e,t],e._focusEventsAllowed=!1;break}}focus(){if(!this.#O)return;const[t,e]=this.#O;this.#O=null,e.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this._signal}),e.focus()}#et(){if(this.#D)return;this.#D=new AbortController;const t=this.combinedSignal(this.#D);window.addEventListener("keydown",this.keydown.bind(this),{signal:t}),window.addEventListener("keyup",this.keyup.bind(this),{signal:t})}#ct(){this.#D?.abort(),this.#D=null}#ut(){if(this.#h)return;this.#h=new AbortController;const t=this.combinedSignal(this.#h);document.addEventListener("copy",this.copy.bind(this),{signal:t}),document.addEventListener("cut",this.cut.bind(this),{signal:t}),document.addEventListener("paste",this.paste.bind(this),{signal:t})}#dt(){this.#h?.abort(),this.#h=null}#ht(){const t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})}addEditListeners(){this.#et(),this.setEditingState(!0)}removeEditListeners(){this.#ct(),this.setEditingState(!1)}dragOver(t){for(const{type:e}of t.dataTransfer.items)for(const i of this.#u)if(i.isHandlingMimeForPasting(e)){t.dataTransfer.dropEffect="copy",t.preventDefault();return}}drop(t){for(const e of t.dataTransfer.items)for(const i of this.#u)if(i.isHandlingMimeForPasting(e.type)){i.paste(e,this.currentLayer),t.preventDefault();return}}copy(t){if(t.preventDefault(),this.#e?.commitOrRemove(),!this.hasSelection)return;const e=[];for(const i of this.#A){const a=i.serialize(!0);a&&e.push(a)}e.length!==0&&t.clipboardData.setData("application/pdfjs",JSON.stringify(e))}cut(t){this.copy(t),this.delete()}async paste(t){t.preventDefault();const{clipboardData:e}=t;for(const o of e.items)for(const l of this.#u)if(l.isHandlingMimeForPasting(o.type)){l.paste(o,this.currentLayer);return}let i=e.getData("application/pdfjs");if(!i)return;try{i=JSON.parse(i)}catch(o){Et(`paste: "${o.message}".`);return}if(!Array.isArray(i))return;this.unselectAll();const a=this.currentLayer;try{const o=[];for(const d of i){const f=await a.deserialize(d);if(!f)return;o.push(f)}const l=()=>{for(const d of o)this.#it(d);this.#nt(o)},u=()=>{for(const d of o)d.remove()};this.addCommands({cmd:l,undo:u,mustExec:!0})}catch(o){Et(`paste: "${o.message}".`)}}keydown(t){!this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!0),this.#C!==Ct.NONE&&!this.isEditorHandlingKeyboard&&Is._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!1,this.#v&&(this.#v=!1,this.#K("main_toolbar")))}onEditingAction({name:t}){switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu");break}}#M(t){Object.entries(t).some(([i,a])=>this.#Y[i]!==a)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#Y,t)}),this.#C===Ct.HIGHLIGHT&&t.hasSelectedEditor===!1&&this.#V([[Lt.HIGHLIGHT_FREE,!0]]))}#V(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})}setEditingState(t){t?(this.#ot(),this.#ut(),this.#M({isEditing:this.#C!==Ct.NONE,isEmpty:this.#W(),hasSomethingToUndo:this.#c.hasSomethingToUndo(),hasSomethingToRedo:this.#c.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#lt(),this.#dt(),this.#M({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!this.#u){this.#u=t;for(const e of this.#u)this.#V(e.defaultPropertiesToUpdate)}}getId(){return this.#j.id}get currentLayer(){return this.#r.get(this.#f)}getLayer(t){return this.#r.get(t)}get currentPageIndex(){return this.#f}addLayer(t){this.#r.set(t.pageIndex,t),this.#N?t.enable():t.disable()}removeLayer(t){this.#r.delete(t.pageIndex)}async updateMode(t,e=null,i=!1,a=!1,o=!1){if(this.#C!==t&&!(this.#I&&(await this.#I.promise,!this.#I))){if(this.#I=Promise.withResolvers(),this.#d?.commitOrRemove(),this.#C===Ct.POPUP&&this.#l?.hideSidebar(),this.#l?.destroyPopup(),this.#C=t,t===Ct.NONE){this.setEditingState(!1),this.#pt();for(const l of this.#i.values())l.hideStandaloneCommentButton();this._editorUndoBar?.hide(),this.toggleComment(null),this.#I.resolve();return}for(const l of this.#i.values())l.addStandaloneCommentButton();t===Ct.SIGNATURE&&await this.#F?.loadSignatures(),this.setEditingState(!0),await this.#ft(),this.unselectAll();for(const l of this.#r.values())l.updateMode(t);if(t===Ct.POPUP){this.#n||=await this.#$.getAnnotationsByType(new Set(this.#u.map(d=>d._editorType)));const l=new Set,u=[];for(const d of this.#i.values()){const{annotationElementId:f,hasComment:p,deleted:g}=d;f&&l.add(f),p&&!g&&u.push(d.getData())}for(const d of this.#n){const{id:f,popupRef:p,contentsObj:g}=d;p&&g?.str&&!l.has(f)&&!this.#g.has(f)&&u.push(d)}this.#l?.showSidebar(u)}if(!e){i&&this.addNewEditorFromKeyboard(),this.#I.resolve();return}for(const l of this.#i.values())l.uid===e?(this.setSelected(l),o?l.editComment():a?l.enterInEditMode():l.focus()):l.unselect();this.#I.resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t.mode!==this.#C&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...t})}updateParams(t,e){if(this.#u){switch(t){case Lt.CREATE:this.currentLayer.addNewEditor(e);return;case Lt.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(this.#X||=new Map).set(t,e),this.showAllEditors("highlight",e);break}if(this.hasSelection)for(const i of this.#A)i.updateParams(t,e);else for(const i of this.#u)i.updateDefaultParams(t,e)}}showAllEditors(t,e,i=!1){for(const o of this.#i.values())o.editorType===t&&o.show(e);(this.#X?.get(Lt.HIGHLIGHT_SHOW_ALL)??!0)!==e&&this.#V([[Lt.HIGHLIGHT_SHOW_ALL,e]])}enableWaiting(t=!1){if(this.#B!==t){this.#B=t;for(const e of this.#r.values())t?e.disableClick():e.enableClick(),e.div.classList.toggle("waiting",t)}}async#ft(){if(!this.#N){this.#N=!0;const t=[];for(const e of this.#r.values())t.push(e.enable());await Promise.all(t);for(const e of this.#i.values())e.enable()}}#pt(){if(this.unselectAll(),this.#N){this.#N=!1;for(const t of this.#r.values())t.disable();for(const t of this.#i.values())t.disable()}}*getEditors(t){for(const e of this.#i.values())e.pageIndex===t&&(yield e)}getEditor(t){return this.#i.get(t)}addEditor(t){this.#i.set(t.id,t)}removeEditor(t){t.div.contains(document.activeElement)&&(this.#S&&clearTimeout(this.#S),this.#S=setTimeout(()=>{this.focusMainContainer(),this.#S=null},0)),this.#i.delete(t.id),t.annotationElementId&&this.#L?.delete(t.annotationElementId),this.unselect(t),(!t.annotationElementId||!this.#g.has(t.annotationElementId))&&this.#s?.remove(t.id)}addDeletedAnnotationElement(t){this.#g.add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return this.#g.has(t)}removeDeletedAnnotationElement(t){this.#g.delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}#it(t){const e=this.#r.get(t.pageIndex);e?e.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))}setActiveEditor(t){this.#e!==t&&(this.#e=t,t&&this.#V(t.propertiesToUpdate))}get#mt(){let t=null;for(t of this.#A);return t}updateUI(t){this.#mt===t&&this.#V(t.propertiesToUpdate)}updateUIForDefaultProperties(t){this.#V(t.defaultPropertiesToUpdate)}toggleSelected(t){if(this.#A.has(t)){this.#A.delete(t),t.unselect(),this.#M({hasSelectedEditor:this.hasSelection});return}this.#A.add(t),t.select(),this.#V(t.propertiesToUpdate),this.#M({hasSelectedEditor:!0})}setSelected(t){this.updateToolbar({mode:t.mode,editId:t.uid}),this.#d?.commitOrRemove();for(const e of this.#A)e!==t&&e.unselect();this.#A.clear(),this.#A.add(t),t.select(),this.#V(t.propertiesToUpdate),this.#M({hasSelectedEditor:!0})}isSelected(t){return this.#A.has(t)}get firstSelectedEditor(){return this.#A.values().next().value}unselect(t){t.unselect(),this.#A.delete(t),this.#M({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#A.size!==0}get isEnterHandled(){return this.#A.size===1&&this.firstSelectedEditor.isEnterHandled}undo(){this.#c.undo(),this.#M({hasSomethingToUndo:this.#c.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#W()}),this._editorUndoBar?.hide()}redo(){this.#c.redo(),this.#M({hasSomethingToUndo:!0,hasSomethingToRedo:this.#c.hasSomethingToRedo(),isEmpty:this.#W()})}addCommands(t){this.#c.add(t),this.#M({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#W()})}cleanUndoStack(t){this.#c.cleanType(t)}#W(){if(this.#i.size===0)return!0;if(this.#i.size===1)for(const t of this.#i.values())return t.isEmpty();return!1}delete(){this.commitOrRemove();const t=this.currentLayer?.endDrawingSession(!0);if(!this.hasSelection&&!t)return;const e=t?[t]:[...this.#A],i=()=>{this._editorUndoBar?.show(a,e.length===1?e[0].editorType:e.length);for(const o of e)o.remove()},a=()=>{for(const o of e)this.#it(o)};this.addCommands({cmd:i,undo:a,mustExec:!0})}commitOrRemove(){this.#e?.commitOrRemove()}hasSomethingToControl(){return this.#e||this.hasSelection}#nt(t){for(const e of this.#A)e.unselect();this.#A.clear();for(const e of t)e.isEmpty()||(this.#A.add(e),e.select());this.#M({hasSelectedEditor:this.hasSelection})}selectAll(){for(const t of this.#A)t.commit();this.#nt(this.#i.values())}unselectAll(){if(!(this.#e&&(this.#e.commitOrRemove(),this.#C!==Ct.NONE))&&!this.#d?.commitOrRemove()&&this.hasSelection){for(const t of this.#A)t.unselect();this.#A.clear(),this.#M({hasSelectedEditor:!1})}}translateSelectedEditors(t,e,i=!1){if(i||this.commitOrRemove(),!this.hasSelection)return;this.#H[0]+=t,this.#H[1]+=e;const[a,o]=this.#H,l=[...this.#A],u=1e3;this.#P&&clearTimeout(this.#P),this.#P=setTimeout(()=>{this.#P=null,this.#H[0]=this.#H[1]=0,this.addCommands({cmd:()=>{for(const d of l)this.#i.has(d.id)&&(d.translateInPage(a,o),d.translationDone())},undo:()=>{for(const d of l)this.#i.has(d.id)&&(d.translateInPage(-a,-o),d.translationDone())},mustExec:!1})},u);for(const d of l)d.translateInPage(t,e),d.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#m=new Map;for(const t of this.#A)this.#m.set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#m)return!1;this.disableUserSelect(!1);const t=this.#m;this.#m=null;let e=!1;for(const[{x:a,y:o,pageIndex:l},u]of t)u.newX=a,u.newY=o,u.newPageIndex=l,e||=a!==u.savedX||o!==u.savedY||l!==u.savedPageIndex;if(!e)return!1;const i=(a,o,l,u)=>{if(this.#i.has(a.id)){const d=this.#r.get(u);d?a._setParentAndPosition(d,o,l):(a.pageIndex=u,a.x=o,a.y=l)}};return this.addCommands({cmd:()=>{for(const[a,{newX:o,newY:l,newPageIndex:u}]of t)i(a,o,l,u)},undo:()=>{for(const[a,{savedX:o,savedY:l,savedPageIndex:u}]of t)i(a,o,l,u)},mustExec:!0}),!0}dragSelectedEditors(t,e){if(this.#m)for(const i of this.#m.keys())i.drag(t,e)}rebuild(t){if(t.parent===null){const e=this.getLayer(t.pageIndex);e?(e.changeParent(t),e.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){return this.getActive()?.shouldGetKeyboardEvents()||this.#A.size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return this.#e===t}getActive(){return this.#e}getMode(){return this.#C}isEditingMode(){return this.#C!==Ct.NONE}get imageManager(){return Tt(this,"imageManager",new Kg)}getSelectionBoxes(t){if(!t)return null;const e=document.getSelection();for(let f=0,p=e.rangeCount;f<p;f++)if(!t.contains(e.getRangeAt(f).commonAncestorContainer))return null;const{x:i,y:a,width:o,height:l}=t.getBoundingClientRect();let u;switch(t.getAttribute("data-main-rotation")){case"90":u=(f,p,g,b)=>({x:(p-a)/l,y:1-(f+g-i)/o,width:b/l,height:g/o});break;case"180":u=(f,p,g,b)=>({x:1-(f+g-i)/o,y:1-(p+b-a)/l,width:g/o,height:b/l});break;case"270":u=(f,p,g,b)=>({x:1-(p+b-a)/l,y:(f-i)/o,width:b/l,height:g/o});break;default:u=(f,p,g,b)=>({x:(f-i)/o,y:(p-a)/l,width:g/o,height:b/l});break}const d=[];for(let f=0,p=e.rangeCount;f<p;f++){const g=e.getRangeAt(f);if(!g.collapsed)for(const{x:b,y:v,width:w,height:A}of g.getClientRects())w===0||A===0||d.push(u(b,v,w,A))}return d.length===0?null:d}addChangedExistingAnnotation({annotationElementId:t,id:e}){(this.#o||=new Map).set(t,e)}removeChangedExistingAnnotation({annotationElementId:t}){this.#o?.delete(t)}renderAnnotationElement(t){const e=this.#o?.get(t.data.id);if(!e)return;const i=this.#s.getRawValue(e);i&&(this.#C===Ct.NONE&&!i.hasBeenModified||i.renderAnnotationElement(t))}setMissingCanvas(t,e,i){const a=this.#L?.get(t);a&&(a.setCanvas(e,i),this.#L.delete(t))}addMissingCanvas(t,e){(this.#L||=new Map).set(t,e)}}class bn{#t=null;#e=!1;#n=null;#i=null;#r=null;#a=null;#s=!1;#o=null;#c=null;#l=null;#h=null;#d=!1;static#f=null;static _l10n=null;constructor(t){this.#c=t,this.#d=t._uiManager.useNewAltTextFlow,bn.#f||=Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"})}static initialize(t){bn._l10n??=t}async render(){const t=this.#n=document.createElement("button");t.className="altText",t.tabIndex="0";const e=this.#i=document.createElement("span");t.append(e),this.#d?(t.classList.add("new"),t.setAttribute("data-l10n-id",bn.#f.missing),e.setAttribute("data-l10n-id",bn.#f["missing-label"])):(t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const i=this.#c._uiManager._signal;t.addEventListener("contextmenu",Wi,{signal:i}),t.addEventListener("pointerdown",o=>o.stopPropagation(),{signal:i});const a=o=>{o.preventDefault(),this.#c._uiManager.editAltText(this.#c),this.#d&&this.#c._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:this.#g}})};return t.addEventListener("click",a,{capture:!0,signal:i}),t.addEventListener("keydown",o=>{o.target===t&&o.key==="Enter"&&(this.#s=!0,a(o))},{signal:i}),await this.#m(),t}get#g(){return this.#t&&"added"||this.#t===null&&this.guessedText&&"review"||"missing"}finish(){this.#n&&(this.#n.focus({focusVisible:this.#s}),this.#s=!1)}isEmpty(){return this.#d?this.#t===null:!this.#t&&!this.#e}hasData(){return this.#d?this.#t!==null||!!this.#l:this.isEmpty()}get guessedText(){return this.#l}async setGuessedText(t){this.#t===null&&(this.#l=t,this.#h=await bn._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:t}),this.#m())}toggleAltTextBadge(t=!1){if(!this.#d||this.#t){this.#o?.remove(),this.#o=null;return}if(!this.#o){const e=this.#o=document.createElement("div");e.className="noAltTextBadge",this.#c.div.append(e)}this.#o.classList.toggle("hidden",!t)}serialize(t){let e=this.#t;return!t&&this.#l===e&&(e=this.#h),{altText:e,decorative:this.#e,guessedText:this.#l,textWithDisclaimer:this.#h}}get data(){return{altText:this.#t,decorative:this.#e}}set data({altText:t,decorative:e,guessedText:i,textWithDisclaimer:a,cancel:o=!1}){i&&(this.#l=i,this.#h=a),!(this.#t===t&&this.#e===e)&&(o||(this.#t=t,this.#e=e),this.#m())}toggle(t=!1){this.#n&&(!t&&this.#a&&(clearTimeout(this.#a),this.#a=null),this.#n.disabled=!t)}shown(){this.#c._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:this.#g}})}destroy(){this.#n?.remove(),this.#n=null,this.#i=null,this.#r=null,this.#o?.remove(),this.#o=null}async#m(){const t=this.#n;if(!t)return;if(this.#d){if(t.classList.toggle("done",!!this.#t),t.setAttribute("data-l10n-id",bn.#f[this.#g]),this.#i?.setAttribute("data-l10n-id",bn.#f[`${this.#g}-label`]),!this.#t){this.#r?.remove();return}}else{if(!this.#t&&!this.#e){t.classList.remove("done"),this.#r?.remove();return}t.classList.add("done"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let e=this.#r;if(!e){this.#r=e=document.createElement("span"),e.className="tooltip",e.setAttribute("role","tooltip"),e.id=`alt-text-tooltip-${this.#c.id}`;const a=100,o=this.#c._uiManager._signal;o.addEventListener("abort",()=>{clearTimeout(this.#a),this.#a=null},{once:!0}),t.addEventListener("mouseenter",()=>{this.#a=setTimeout(()=>{this.#a=null,this.#r.classList.add("show"),this.#c._reportTelemetry({action:"alt_text_tooltip"})},a)},{signal:o}),t.addEventListener("mouseleave",()=>{this.#a&&(clearTimeout(this.#a),this.#a=null),this.#r?.classList.remove("show")},{signal:o})}this.#e?e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(e.removeAttribute("data-l10n-id"),e.textContent=this.#t),e.parentNode||t.append(e),this.#c.getElementForAltText()?.setAttribute("aria-describedby",e.id)}}class Cu{#t=null;#e=null;#n=!1;#i=null;#r=null;#a=null;#s=null;#o=null;#c=!1;#l=null;constructor(t){this.#i=t}renderForToolbar(){const t=this.#e=document.createElement("button");return t.className="comment",this.#h(t,!1)}renderForStandalone(){const t=this.#t=document.createElement("button");t.className="annotationCommentButton";const e=this.#i.commentButtonPosition;if(e){const{style:i}=t;i.insetInlineEnd=`calc(${100*(this.#i._uiManager.direction==="ltr"?1-e[0]:e[0])}% - var(--comment-button-dim))`,i.top=`calc(${100*e[1]}% - var(--comment-button-dim))`;const a=this.#i.commentButtonColor;a&&(i.backgroundColor=a)}return this.#h(t,!0)}focusButton(){setTimeout(()=>{(this.#t??this.#e)?.focus()},0)}onUpdatedColor(){if(!this.#t)return;const t=this.#i.commentButtonColor;t&&(this.#t.style.backgroundColor=t),this.#i._uiManager.updatePopupColor(this.#i)}get commentButtonWidth(){return(this.#t?.getBoundingClientRect().width??0)/this.#i.parent.boundingClientRect.width}get commentPopupPositionInLayer(){if(this.#l)return this.#l;if(!this.#t)return null;const{x:t,y:e,height:i}=this.#t.getBoundingClientRect(),{x:a,y:o,width:l,height:u}=this.#i.parent.boundingClientRect;return[(t-a)/l,(e+i-o)/u]}set commentPopupPositionInLayer(t){this.#l=t}hasDefaultPopupPosition(){return this.#l===null}removeStandaloneCommentButton(){this.#t?.remove(),this.#t=null}removeToolbarCommentButton(){this.#e?.remove(),this.#e=null}setCommentButtonStates({selected:t,hasPopup:e}){this.#t&&(this.#t.classList.toggle("selected",t),this.#t.ariaExpanded=e)}#h(t,e){if(!this.#i._uiManager.hasCommentManager())return null;t.tabIndex="0",t.ariaHasPopup="dialog",e?(t.ariaControls="commentPopup",t.setAttribute("data-l10n-id","pdfjs-show-comment-button")):(t.ariaControlsElements=[this.#i._uiManager.getCommentDialogElement()],t.setAttribute("data-l10n-id","pdfjs-editor-add-comment-button"));const i=this.#i._uiManager._signal;if(!(i instanceof AbortSignal)||i.aborted)return t;t.addEventListener("contextmenu",Wi,{signal:i}),e&&(t.addEventListener("focusin",o=>{this.#i._focusEventsAllowed=!1,ve(o)},{capture:!0,signal:i}),t.addEventListener("focusout",o=>{this.#i._focusEventsAllowed=!0,ve(o)},{capture:!0,signal:i})),t.addEventListener("pointerdown",o=>o.stopPropagation(),{signal:i});const a=o=>{o.preventDefault(),t===this.#e?this.edit():this.#i.toggleComment(!0)};return t.addEventListener("click",a,{capture:!0,signal:i}),t.addEventListener("keydown",o=>{o.target===t&&o.key==="Enter"&&(this.#n=!0,a(o))},{signal:i}),t.addEventListener("pointerenter",()=>{this.#i.toggleComment(!1,!0)},{signal:i}),t.addEventListener("pointerleave",()=>{this.#i.toggleComment(!1,!1)},{signal:i}),t}edit(t){const e=this.commentPopupPositionInLayer;let i,a;if(e)[i,a]=e;else{[i,a]=this.#i.commentButtonPosition;const{width:p,height:g,x:b,y:v}=this.#i;i=b+i*p,a=v+a*g}const o=this.#i.parent.boundingClientRect,{x:l,y:u,width:d,height:f}=o;this.#i._uiManager.editComment(this.#i,l+i*d,u+a*f,{...t,parentDimensions:o})}finish(){this.#e&&(this.#e.focus({focusVisible:this.#n}),this.#n=!1)}isDeleted(){return this.#c||this.#s===""}isEmpty(){return this.#s===null}hasBeenEdited(){return this.isDeleted()||this.#s!==this.#r}serialize(){return this.data}get data(){return{text:this.#s,richText:this.#a,date:this.#o,deleted:this.isDeleted()}}set data(t){if(t!==this.#s&&(this.#a=null),t===null){this.#s="",this.#c=!0;return}this.#s=t,this.#o=new Date,this.#c=!1}setInitialText(t,e=null){this.#r=t,this.data=t,this.#o=null,this.#a=e}shown(){}destroy(){this.#e?.remove(),this.#e=null,this.#t?.remove(),this.#t=null,this.#s="",this.#a=null,this.#o=null,this.#i=null,this.#n=!1,this.#c=!1}}class Dd{#t;#e=!1;#n=null;#i;#r;#a;#s;#o=null;#c;#l=null;#h;#d=null;constructor({container:t,isPinchingDisabled:e=null,isPinchingStopped:i=null,onPinchStart:a=null,onPinching:o=null,onPinchEnd:l=null,signal:u}){this.#t=t,this.#n=i,this.#i=e,this.#r=a,this.#a=o,this.#s=l,this.#h=new AbortController,this.#c=AbortSignal.any([u,this.#h.signal]),t.addEventListener("touchstart",this.#f.bind(this),{passive:!1,signal:this.#c})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/Sn.pixelRatio}#f(t){if(this.#i?.())return;if(t.touches.length===1){if(this.#o)return;const a=this.#o=new AbortController,o=AbortSignal.any([this.#c,a.signal]),l=this.#t,u={capture:!0,signal:o,passive:!1},d=f=>{f.pointerType==="touch"&&(this.#o?.abort(),this.#o=null)};l.addEventListener("pointerdown",f=>{f.pointerType==="touch"&&(ve(f),d(f))},u),l.addEventListener("pointerup",d,u),l.addEventListener("pointercancel",d,u);return}if(!this.#d){this.#d=new AbortController;const a=AbortSignal.any([this.#c,this.#d.signal]),o=this.#t,l={signal:a,capture:!1,passive:!1};o.addEventListener("touchmove",this.#g.bind(this),l);const u=this.#m.bind(this);o.addEventListener("touchend",u,l),o.addEventListener("touchcancel",u,l),l.capture=!0,o.addEventListener("pointerdown",ve,l),o.addEventListener("pointermove",ve,l),o.addEventListener("pointercancel",ve,l),o.addEventListener("pointerup",ve,l),this.#r?.()}if(ve(t),t.touches.length!==2||this.#n?.()){this.#l=null;return}let[e,i]=t.touches;e.identifier>i.identifier&&([e,i]=[i,e]),this.#l={touch0X:e.screenX,touch0Y:e.screenY,touch1X:i.screenX,touch1Y:i.screenY}}#g(t){if(!this.#l||t.touches.length!==2)return;ve(t);let[e,i]=t.touches;e.identifier>i.identifier&&([e,i]=[i,e]);const{screenX:a,screenY:o}=e,{screenX:l,screenY:u}=i,d=this.#l,{touch0X:f,touch0Y:p,touch1X:g,touch1Y:b}=d,v=g-f,w=b-p,A=l-a,E=u-o,T=Math.hypot(A,E)||1,_=Math.hypot(v,w)||1;if(!this.#e&&Math.abs(_-T)<=Dd.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(d.touch0X=a,d.touch0Y=o,d.touch1X=l,d.touch1Y=u,!this.#e){this.#e=!0;return}const C=[(a+l)/2,(o+u)/2];this.#a?.(C,_,T)}#m(t){t.touches.length>=2||(this.#d&&(this.#d.abort(),this.#d=null,this.#s?.()),this.#l&&(ve(t),this.#l=null,this.#e=!1))}destroy(){this.#h?.abort(),this.#h=null,this.#o?.abort(),this.#o=null}}class yt{#t=null;#e=null;#n=null;#i=null;#r=null;#a=!1;#s=null;#o="";#c=null;#l=null;#h=null;#d=null;#f=null;#g="";#m=!1;#u=null;#p=!1;#x=!1;#b=!1;#y=null;#T=0;#S=0;#w=null;#_=null;isSelected=!1;_isCopy=!1;_editToolbar=null;_initialOptions=Object.create(null);_initialData=null;_isVisible=!0;_uiManager=null;_focusEventsAllowed=!0;static _l10n=null;static _l10nResizer=null;#v=!1;#E=yt._zIndex++;static _borderLineWidth=-1;static _colorManager=new Wg;static _zIndex=1;static _telemetryTimeout=1e3;static get _resizerKeyboardManager(){const t=yt.prototype._resizeWithKeyboard,e=Is.TRANSLATE_SMALL,i=Is.TRANSLATE_BIG;return Tt(this,"_resizerKeyboardManager",new Wl([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-e,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-i,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[e,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[i,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-e]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-i]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,e]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,i]}],[["Escape","mac+Escape"],yt.prototype._stopResizingWithKeyboard]]))}constructor(t){this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null,this.annotationElementId=t.annotationElementId||null,this.creationDate=t.creationDate||new Date,this.modificationDate=t.modificationDate||null,this.canAddComment=!0;const{rotation:e,rawDims:{pageWidth:i,pageHeight:a,pageX:o,pageY:l}}=this.parent.viewport;this.rotation=e,this.pageRotation=(360+e-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[i,a],this.pageTranslation=[o,l];const[u,d]=this.parentDimensions;this.x=t.x/u,this.y=t.y/d,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return Tt(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){const e=new gP({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});e.annotationElementId=t.annotationElementId,e.deleted=!0,e._uiManager.addToAnnotationStorage(e)}static initialize(t,e){if(yt._l10n??=t,yt._l10nResizer||=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"}),yt._borderLineWidth!==-1)return;const i=getComputedStyle(document.documentElement);yt._borderLineWidth=parseFloat(i.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,e){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,e){te("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#v}set _isDraggable(t){this.#v=t,this.div?.classList.toggle("draggable",t)}get uid(){return this.annotationElementId||this.id}get isEnterHandled(){return!0}center(){const[t,e]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*e/(t*2),this.y+=this.width*t/(e*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*e/(t*2),this.y-=this.width*t/(e*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#E}setParent(t){t!==null?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):(this.#P(),this.#d?.remove(),this.#d=null),this.parent=t}focusin(t){this._focusEventsAllowed&&(this.#m?this.#m=!1:this.parent.setSelected(this))}focusout(t){!this._focusEventsAllowed||!this.isAttachedToDOM||t.relatedTarget?.closest(`#${this.id}`)||(t.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,e,i,a){const[o,l]=this.parentDimensions;[i,a]=this.screenToPageTranslation(i,a),this.x=(t+i)/o,this.y=(e+a)/l,this.fixAndSetPosition()}_moveAfterPaste(t,e){const[i,a]=this.parentDimensions;this.setAt(t*i,e*a,this.width*i,this.height*a),this._onTranslated()}#j([t,e],i,a){[i,a]=this.screenToPageTranslation(i,a),this.x+=i/t,this.y+=a/e,this._onTranslating(this.x,this.y),this.fixAndSetPosition()}translate(t,e){this.#j(this.parentDimensions,t,e)}translateInPage(t,e){this.#u||=[this.x,this.y,this.width,this.height],this.#j(this.pageDimensions,t,e),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(t,e){this.#u||=[this.x,this.y,this.width,this.height];const{div:i,parentDimensions:[a,o]}=this;if(this.x+=t/a,this.y+=e/o,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:g,y:b}=this.div.getBoundingClientRect();this.parent.findNewParent(this,g,b)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:l,y:u}=this;const[d,f]=this.getBaseTranslation();l+=d,u+=f;const{style:p}=i;p.left=`${(100*l).toFixed(2)}%`,p.top=`${(100*u).toFixed(2)}%`,this._onTranslating(l,u),i.scrollIntoView({block:"nearest"})}_onTranslating(t,e){}_onTranslated(t,e){}get _hasBeenMoved(){return!!this.#u&&(this.#u[0]!==this.x||this.#u[1]!==this.y)}get _hasBeenResized(){return!!this.#u&&(this.#u[2]!==this.width||this.#u[3]!==this.height)}getBaseTranslation(){const[t,e]=this.parentDimensions,{_borderLineWidth:i}=yt,a=i/t,o=i/e;switch(this.rotation){case 90:return[-a,o];case 180:return[a,o];case 270:return[a,-o];default:return[-a,-o]}}get _mustFixPosition(){return!0}fixAndSetPosition(t=this.rotation){const{div:{style:e},pageDimensions:[i,a]}=this;let{x:o,y:l,width:u,height:d}=this;if(u*=i,d*=a,o*=i,l*=a,this._mustFixPosition)switch(t){case 0:o=ni(o,0,i-u),l=ni(l,0,a-d);break;case 90:o=ni(o,0,i-d),l=ni(l,u,a);break;case 180:o=ni(o,u,i),l=ni(l,d,a);break;case 270:o=ni(o,d,i),l=ni(l,0,a-u);break}this.x=o/=i,this.y=l/=a;const[f,p]=this.getBaseTranslation();o+=f,l+=p,e.left=`${(100*o).toFixed(2)}%`,e.top=`${(100*l).toFixed(2)}%`,this.moveInDOM()}static#N(t,e,i){switch(i){case 90:return[e,-t];case 180:return[-t,-e];case 270:return[-e,t];default:return[t,e]}}screenToPageTranslation(t,e){return yt.#N(t,e,this.parentRotation)}pageTranslationToScreen(t,e){return yt.#N(t,e,360-this.parentRotation)}#k(t){switch(t){case 90:{const[e,i]=this.pageDimensions;return[0,-e/i,i/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,i]=this.pageDimensions;return[0,e/i,-i/e,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:t,pageDimensions:[e,i]}=this;return[e*t,i*t]}setDims(){const{div:{style:t},width:e,height:i}=this;t.width=`${(100*e).toFixed(2)}%`,t.height=`${(100*i).toFixed(2)}%`}getInitialTranslation(){return[0,0]}#B(){if(this.#c)return;this.#c=document.createElement("div"),this.#c.classList.add("resizers");const t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],e=this._uiManager._signal;for(const i of t){const a=document.createElement("div");this.#c.append(a),a.classList.add("resizer",i),a.setAttribute("data-resizer-name",i),a.addEventListener("pointerdown",this.#D.bind(this,i),{signal:e}),a.addEventListener("contextmenu",Wi,{signal:e}),a.tabIndex=-1}this.div.prepend(this.#c)}#D(t,e){e.preventDefault();const{isMac:i}=We.platform;if(e.button!==0||e.ctrlKey&&i)return;this.#n?.toggle(!1);const a=this._isDraggable;this._isDraggable=!1,this.#l=[e.screenX,e.screenY];const o=new AbortController,l=this._uiManager.combinedSignal(o);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",this.#L.bind(this,t),{passive:!0,capture:!0,signal:l}),window.addEventListener("touchmove",ve,{passive:!1,signal:l}),window.addEventListener("contextmenu",Wi,{signal:l}),this.#h={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const u=this.parent.div.style.cursor,d=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(e.target).cursor;const f=()=>{o.abort(),this.parent.togglePointerEvents(!0),this.#n?.toggle(!0),this._isDraggable=a,this.parent.div.style.cursor=u,this.div.style.cursor=d,this.#z()};window.addEventListener("pointerup",f,{signal:l}),window.addEventListener("blur",f,{signal:l})}#O(t,e,i,a){this.width=i,this.height=a,this.x=t,this.y=e,this.setDims(),this.fixAndSetPosition(),this._onResized()}_onResized(){}#z(){if(!this.#h)return;const{savedX:t,savedY:e,savedWidth:i,savedHeight:a}=this.#h;this.#h=null;const o=this.x,l=this.y,u=this.width,d=this.height;o===t&&l===e&&u===i&&d===a||this.addCommands({cmd:this.#O.bind(this,o,l,u,d),undo:this.#O.bind(this,t,e,i,a),mustExec:!0})}static _round(t){return Math.round(t*1e4)/1e4}#L(t,e){const[i,a]=this.parentDimensions,o=this.x,l=this.y,u=this.width,d=this.height,f=yt.MIN_SIZE/i,p=yt.MIN_SIZE/a,g=this.#k(this.rotation),b=(z,q)=>[g[0]*z+g[2]*q,g[1]*z+g[3]*q],v=this.#k(360-this.rotation),w=(z,q)=>[v[0]*z+v[2]*q,v[1]*z+v[3]*q];let A,E,T=!1,_=!1;switch(t){case"topLeft":T=!0,A=(z,q)=>[0,0],E=(z,q)=>[z,q];break;case"topMiddle":A=(z,q)=>[z/2,0],E=(z,q)=>[z/2,q];break;case"topRight":T=!0,A=(z,q)=>[z,0],E=(z,q)=>[0,q];break;case"middleRight":_=!0,A=(z,q)=>[z,q/2],E=(z,q)=>[0,q/2];break;case"bottomRight":T=!0,A=(z,q)=>[z,q],E=(z,q)=>[0,0];break;case"bottomMiddle":A=(z,q)=>[z/2,q],E=(z,q)=>[z/2,0];break;case"bottomLeft":T=!0,A=(z,q)=>[0,q],E=(z,q)=>[z,0];break;case"middleLeft":_=!0,A=(z,q)=>[0,q/2],E=(z,q)=>[z,q/2];break}const C=A(u,d),j=E(u,d);let M=b(...j);const R=yt._round(o+M[0]),D=yt._round(l+M[1]);let P=1,X=1,V,W;if(e.fromKeyboard)({deltaX:V,deltaY:W}=e);else{const{screenX:z,screenY:q}=e,[I,it]=this.#l;[V,W]=this.screenToPageTranslation(z-I,q-it),this.#l[0]=z,this.#l[1]=q}if([V,W]=w(V/i,W/a),T){const z=Math.hypot(u,d);P=X=Math.max(Math.min(Math.hypot(j[0]-C[0]-V,j[1]-C[1]-W)/z,1/u,1/d),f/u,p/d)}else _?P=ni(Math.abs(j[0]-C[0]-V),f,1)/u:X=ni(Math.abs(j[1]-C[1]-W),p,1)/d;const rt=yt._round(u*P),ft=yt._round(d*X);M=b(...E(rt,ft));const et=R-M[0],at=D-M[1];this.#u||=[this.x,this.y,this.width,this.height],this.width=rt,this.height=ft,this.x=et,this.y=at,this.setDims(),this.fixAndSetPosition(),this._onResizing()}_onResizing(){}altTextFinish(){this.#n?.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||this.#x)return this._editToolbar;this._editToolbar=new xl(this),this.div.append(this._editToolbar.render());const{toolbarButtons:t}=this;if(t)for(const[e,i]of t)await this._editToolbar.addButton(e,i);return this.hasComment||this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}addCommentButtonInToolbar(){this._editToolbar?.addButtonBefore("comment",this.addCommentButton(),".deleteButton")}removeCommentButtonFromToolbar(){this._editToolbar?.removeButton("comment")}removeEditToolbar(){this._editToolbar?.remove(),this._editToolbar=null,this.#n?.destroy()}addContainer(t){const e=this._editToolbar?.div;e?e.before(t):this.div.append(t)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return this.#n||(bn.initialize(yt._l10n),this.#n=new bn(this),this.#t&&(this.#n.data=this.#t,this.#t=null)),this.#n}get altTextData(){return this.#n?.data}set altTextData(t){this.#n&&(this.#n.data=t)}get guessedAltText(){return this.#n?.guessedText}async setGuessedAltText(t){await this.#n?.setGuessedText(t)}serializeAltText(t){return this.#n?.serialize(t)}hasAltText(){return!!this.#n&&!this.#n.isEmpty()}hasAltTextData(){return this.#n?.hasData()??!1}focusCommentButton(){this.#i?.focusButton()}addCommentButton(){return this.canAddComment?this.#i||=new Cu(this):null}addStandaloneCommentButton(){if(this._uiManager.hasCommentManager()){if(this.#r){this._uiManager.isEditingMode()&&this.#r.classList.remove("hidden");return}this.hasComment&&(this.#r=this.#i.renderForStandalone(),this.div.append(this.#r))}}removeStandaloneCommentButton(){this.#i.removeStandaloneCommentButton(),this.#r=null}hideStandaloneCommentButton(){this.#r?.classList.add("hidden")}get comment(){const{data:{richText:t,text:e,date:i,deleted:a}}=this.#i;return{text:e,richText:t,date:i,deleted:a,color:this.getNonHCMColor(),opacity:this.opacity??1}}set comment(t){this.#i||=new Cu(this),this.#i.data=t,this.hasComment?(this.removeCommentButtonFromToolbar(),this.addStandaloneCommentButton(),this._uiManager.updateComment(this)):(this.addCommentButtonInToolbar(),this.removeStandaloneCommentButton(),this._uiManager.removeComment(this))}setCommentData({comment:t,popupRef:e,richText:i}){if(!e||(this.#i||=new Cu(this),this.#i.setInitialText(t,i),!this.annotationElementId))return;const a=this._uiManager.getAndRemoveDataFromAnnotationStorage(this.annotationElementId);a&&this.updateFromAnnotationLayer(a)}get hasEditedComment(){return this.#i?.hasBeenEdited()}get hasDeletedComment(){return this.#i?.isDeleted()}get hasComment(){return!!this.#i&&!this.#i.isEmpty()&&!this.#i.isDeleted()}async editComment(t){this.#i||=new Cu(this),this.#i.edit(t)}toggleComment(t,e=void 0){this.hasComment&&this._uiManager.toggleComment(this,t,e)}setSelectedCommentButton(t){this.#i.setSelectedButton(t)}addComment(t){if(this.hasEditedComment){const[,,,a]=t.rect,[o]=this.pageDimensions,[l]=this.pageTranslation,u=l+o+1,d=a-100,f=u+180;t.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[u,d,f,a]}}}updateFromAnnotationLayer({popup:{contents:t,deleted:e}}){this.#i.data=e?null:t}get parentBoundingClientRect(){return this.parent.boundingClientRect}render(){const t=this.div=document.createElement("div");t.setAttribute("data-editor-rotation",(360-this.rotation)%360),t.className=this.name,t.setAttribute("id",this.id),t.tabIndex=this.#a?-1:0,t.setAttribute("role","application"),this.defaultL10nId&&t.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||t.classList.add("hidden"),this.setInForeground(),this.#U();const[e,i]=this.parentDimensions;this.parentRotation%180!==0&&(t.style.maxWidth=`${(100*i/e).toFixed(2)}%`,t.style.maxHeight=`${(100*e/i).toFixed(2)}%`);const[a,o]=this.getInitialTranslation();return this.translate(a,o),ZS(this,t,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(this.#_||=new Dd({container:t,isPinchingDisabled:()=>!this.isSelected,onPinchStart:this.#q.bind(this),onPinching:this.#C.bind(this),onPinchEnd:this.#A.bind(this),signal:this._uiManager._signal})),this.addStandaloneCommentButton(),this._uiManager._editorUndoBar?.hide(),t}#q(){this.#h={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height},this.#n?.toggle(!1),this.parent.togglePointerEvents(!1)}#C(t,e,i){let o=.7*(i/e)+1-.7;if(o===1)return;const l=this.#k(this.rotation),u=(R,D)=>[l[0]*R+l[2]*D,l[1]*R+l[3]*D],[d,f]=this.parentDimensions,p=this.x,g=this.y,b=this.width,v=this.height,w=yt.MIN_SIZE/d,A=yt.MIN_SIZE/f;o=Math.max(Math.min(o,1/b,1/v),w/b,A/v);const E=yt._round(b*o),T=yt._round(v*o);if(E===b&&T===v)return;this.#u||=[p,g,b,v];const _=u(b/2,v/2),C=yt._round(p+_[0]),j=yt._round(g+_[1]),M=u(E/2,T/2);this.x=C-M[0],this.y=j-M[1],this.width=E,this.height=T,this.setDims(),this.fixAndSetPosition(),this._onResizing()}#A(){this.#n?.toggle(!0),this.parent.togglePointerEvents(!0),this.#z()}pointerdown(t){const{isMac:e}=We.platform;if(t.button!==0||t.ctrlKey&&e){t.preventDefault();return}if(this.#m=!0,this._isDraggable){this.#F(t);return}this.#R(t)}#R(t){const{isMac:e}=We.platform;t.ctrlKey&&!e||t.shiftKey||t.metaKey&&e?this.parent.toggleSelected(this):this.parent.setSelected(this)}#F(t){const{isSelected:e}=this;this._uiManager.setUpDragSession();let i=!1;const a=new AbortController,o=this._uiManager.combinedSignal(a),l={capture:!0,passive:!1,signal:o},u=f=>{a.abort(),this.#s=null,this.#m=!1,this._uiManager.endDragSession()||this.#R(f),i&&this._onStopDragging()};e&&(this.#T=t.clientX,this.#S=t.clientY,this.#s=t.pointerId,this.#o=t.pointerType,window.addEventListener("pointermove",f=>{i||(i=!0,this._uiManager.toggleComment(this,!0,!1),this._onStartDragging());const{clientX:p,clientY:g,pointerId:b}=f;if(b!==this.#s){ve(f);return}const[v,w]=this.screenToPageTranslation(p-this.#T,g-this.#S);this.#T=p,this.#S=g,this._uiManager.dragSelectedEditors(v,w)},l),window.addEventListener("touchmove",ve,l),window.addEventListener("pointerdown",f=>{f.pointerType===this.#o&&(this.#_||f.isPrimary)&&u(f),ve(f)},l));const d=f=>{if(!this.#s||this.#s===f.pointerId){u(f);return}ve(f)};window.addEventListener("pointerup",d,{signal:o}),window.addEventListener("blur",d,{signal:o})}_onStartDragging(){}_onStopDragging(){}moveInDOM(){this.#y&&clearTimeout(this.#y),this.#y=setTimeout(()=>{this.#y=null,this.parent?.moveEditorInDOM(this)},0)}_setParentAndPosition(t,e,i){t.changeParent(this),this.x=e,this.y=i,this.fixAndSetPosition(),this._onTranslated()}getRect(t,e,i=this.rotation){const a=this.parentScale,[o,l]=this.pageDimensions,[u,d]=this.pageTranslation,f=t/a,p=e/a,g=this.x*o,b=this.y*l,v=this.width*o,w=this.height*l;switch(i){case 0:return[g+f+u,l-b-p-w+d,g+f+v+u,l-b-p+d];case 90:return[g+p+u,l-b+f+d,g+p+w+u,l-b+f+v+d];case 180:return[g-f-v+u,l-b+p+d,g-f+u,l-b+p+w+d];case 270:return[g-p-w+u,l-b-f-v+d,g-p+u,l-b-f+d];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,e){const[i,a,o,l]=t,u=o-i,d=l-a;switch(this.rotation){case 0:return[i,e-l,u,d];case 90:return[i,e-a,d,u];case 180:return[o,e-a,u,d];case 270:return[o,e-l,d,u];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}getNonHCMColor(){return this.color&&yt._colorManager.convert(this._uiManager.getNonHCMColor(this.color))}onUpdatedColor(){this.#i?.onUpdatedColor()}getData(){const{comment:{text:t,color:e,date:i,opacity:a,deleted:o,richText:l},uid:u,pageIndex:d,creationDate:f,modificationDate:p}=this;return{id:u,pageIndex:d,rect:this.getPDFRect(),richText:l,contentsObj:{str:t},creationDate:f,modificationDate:i||p,popupRef:!o,color:e,opacity:a}}onceAdded(t){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),this.#x=!0,!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),this.#x=!1,!0):!1}isInEditMode(){return this.#x}shouldGetKeyboardEvents(){return this.#b}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:t,left:e,bottom:i,right:a}=this.getClientDimensions(),{innerHeight:o,innerWidth:l}=window;return e<l&&a>0&&t<o&&i>0}#U(){if(this.#f||!this.div)return;this.#f=new AbortController;const t=this._uiManager.combinedSignal(this.#f);this.div.addEventListener("focusin",this.focusin.bind(this),{signal:t}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:t})}rebuild(){this.#U()}rotate(t){}resize(){}serializeDeleted(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:this._initialData?.popupRef||""}}serialize(t=!1,e=null){return{annotationType:this.mode,pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,structTreeParentId:this._structTreeParentId,popupRef:this._initialData?.popupRef||""}}static async deserialize(t,e,i){const a=new this.prototype.constructor({parent:e,id:e.getNextId(),uiManager:i,annotationElementId:t.annotationElementId,creationDate:t.creationDate,modificationDate:t.modificationDate});a.rotation=t.rotation,a.#t=t.accessibilityData,a._isCopy=t.isCopy||!1;const[o,l]=a.pageDimensions,[u,d,f,p]=a.getRectInCurrentCoords(t.rect,l);return a.x=u/o,a.y=d/l,a.width=f/o,a.height=p/l,a}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.#f?.abort(),this.#f=null,this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.hideCommentPopup(),this.#y&&(clearTimeout(this.#y),this.#y=null),this.#P(),this.removeEditToolbar(),this.#w){for(const t of this.#w.values())clearTimeout(t);this.#w=null}this.parent=null,this.#_?.destroy(),this.#_=null,this.#d?.remove(),this.#d=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#B(),this.#c.classList.remove("hidden"))}get toolbarPosition(){return null}get commentButtonPosition(){return this._uiManager.direction==="ltr"?[1,0]:[0,0]}get commentButtonPositionInPage(){const{commentButtonPosition:[t,e]}=this,[i,a,o,l]=this.getPDFRect();return[yt._round(i+(o-i)*t),yt._round(a+(l-a)*(1-e))]}get commentButtonColor(){return this._uiManager.makeCommentColor(this.getNonHCMColor(),this.opacity)}get commentPopupPosition(){return this.#i.commentPopupPositionInLayer}set commentPopupPosition(t){this.#i.commentPopupPositionInLayer=t}hasDefaultPopupPosition(){return this.#i.hasDefaultPopupPosition()}get commentButtonWidth(){return this.#i.commentButtonWidth}get elementBeforePopup(){return this.div}setCommentButtonStates(t){this.#i?.setCommentButtonStates(t)}keydown(t){if(!this.isResizable||t.target!==this.div||t.key!=="Enter")return;this._uiManager.setSelected(this),this.#h={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const e=this.#c.children;if(!this.#e){this.#e=Array.from(e);const l=this.#X.bind(this),u=this.#$.bind(this),d=this._uiManager._signal;for(const f of this.#e){const p=f.getAttribute("data-resizer-name");f.setAttribute("role","spinbutton"),f.addEventListener("keydown",l,{signal:d}),f.addEventListener("blur",u,{signal:d}),f.addEventListener("focus",this.#Y.bind(this,p),{signal:d}),f.setAttribute("data-l10n-id",yt._l10nResizer[p])}}const i=this.#e[0];let a=0;for(const l of e){if(l===i)break;a++}const o=(360-this.rotation+this.parentRotation)%360/90*(this.#e.length/4);if(o!==a){if(o<a)for(let u=0;u<a-o;u++)this.#c.append(this.#c.firstElementChild);else if(o>a)for(let u=0;u<o-a;u++)this.#c.firstElementChild.before(this.#c.lastElementChild);let l=0;for(const u of e){const f=this.#e[l++].getAttribute("data-resizer-name");u.setAttribute("data-l10n-id",yt._l10nResizer[f])}}this.#H(0),this.#b=!0,this.#c.firstElementChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}#X(t){yt._resizerKeyboardManager.exec(this,t)}#$(t){this.#b&&t.relatedTarget?.parentNode!==this.#c&&this.#P()}#Y(t){this.#g=this.#b?t:""}#H(t){if(this.#e)for(const e of this.#e)e.tabIndex=t}_resizeWithKeyboard(t,e){this.#b&&this.#L(this.#g,{deltaX:t,deltaY:e,fromKeyboard:!0})}#P(){this.#b=!1,this.#H(-1),this.#z()}_stopResizingWithKeyboard(){this.#P(),this.div.focus()}select(){if(this.isSelected&&this._editToolbar){this._editToolbar.show();return}if(this.isSelected=!0,this.makeResizable(),this.div?.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{this.div?.classList.contains("selectedEditor")&&this._editToolbar?.show()});return}this._editToolbar?.show(),this.#n?.toggleAltTextBadge(!1)}focus(){this.div&&!this.div.contains(document.activeElement)&&setTimeout(()=>this.div?.focus({preventScroll:!0}),0)}unselect(){this.isSelected&&(this.isSelected=!1,this.#c?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),this._editToolbar?.hide(),this.#n?.toggleAltTextBadge(!0),this.hideCommentPopup())}hideCommentPopup(){this.hasComment&&this._uiManager.toggleComment(null)}updateParams(t,e){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(t){t.target.nodeName!=="BUTTON"&&(this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.uid}))}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return this.#p}set isEditing(t){this.#p=t,this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t,e=!1){if(e){this.#w||=new Map;const{action:i}=t;let a=this.#w.get(i);a&&clearTimeout(a),a=setTimeout(()=>{this._reportTelemetry(t),this.#w.delete(i),this.#w.size===0&&(this.#w=null)},yt._telemetryTimeout),this.#w.set(i,a);return}t.type||=this.editorType,this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(t=this._isVisible){this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),this.#a=!1}disable(){this.div&&(this.div.tabIndex=-1),this.#a=!0}updateFakeAnnotationElement(t){if(!this.#d&&!this.deleted){this.#d=t.addFakeAnnotation(this);return}if(this.deleted){this.#d.remove(),this.#d=null;return}(this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized)&&this.#d.updateEdited({rect:this.getPDFRect(),popup:this.comment})}renderAnnotationElement(t){if(this.deleted)return t.hide(),null;let e=t.container.querySelector(".annotationContent");if(!e)e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),t.container.prepend(e);else if(e.nodeName==="CANVAS"){const i=e;e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),i.before(e)}return e}resetAnnotationElement(t){const{firstElementChild:e}=t.container;e?.nodeName==="DIV"&&e.classList.contains("annotationContent")&&e.remove()}}class gP extends yt{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const _w=3285377520,Vi=4294901760,xn=65535;class JS{constructor(t){this.h1=t?t&4294967295:_w,this.h2=t?t&4294967295:_w}update(t){let e,i;if(typeof t=="string"){e=new Uint8Array(t.length*2),i=0;for(let A=0,E=t.length;A<E;A++){const T=t.charCodeAt(A);T<=255?e[i++]=T:(e[i++]=T>>>8,e[i++]=T&255)}}else if(ArrayBuffer.isView(t))e=t.slice(),i=e.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const a=i>>2,o=i-a*4,l=new Uint32Array(e.buffer,0,a);let u=0,d=0,f=this.h1,p=this.h2;const g=3432918353,b=461845907,v=g&xn,w=b&xn;for(let A=0;A<a;A++)A&1?(u=l[A],u=u*g&Vi|u*v&xn,u=u<<15|u>>>17,u=u*b&Vi|u*w&xn,f^=u,f=f<<13|f>>>19,f=f*5+3864292196):(d=l[A],d=d*g&Vi|d*v&xn,d=d<<15|d>>>17,d=d*b&Vi|d*w&xn,p^=d,p=p<<13|p>>>19,p=p*5+3864292196);switch(u=0,o){case 3:u^=e[a*4+2]<<16;case 2:u^=e[a*4+1]<<8;case 1:u^=e[a*4],u=u*g&Vi|u*v&xn,u=u<<15|u>>>17,u=u*b&Vi|u*w&xn,a&1?f^=u:p^=u}this.h1=f,this.h2=p}hexdigest(){let t=this.h1,e=this.h2;return t^=e>>>1,t=t*3981806797&Vi|t*36045&xn,e=e*4283543511&Vi|((e<<16|t>>>16)*2950163797&Vi)>>>16,t^=e>>>1,t=t*444984403&Vi|t*60499&xn,e=e*3301882366&Vi|((e<<16|t>>>16)*3120437893&Vi)>>>16,t^=e>>>1,(t>>>0).toString(16).padStart(8,"0")+(e>>>0).toString(16).padStart(8,"0")}}const Pm=Object.freeze({map:null,hash:"",transfer:void 0});class Qg{#t=!1;#e=null;#n=null;#i=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,e){const i=this.#i.get(t);return i===void 0?e:Object.assign(e,i)}getRawValue(t){return this.#i.get(t)}remove(t){const e=this.#i.get(t);if(e!==void 0&&(e instanceof yt&&this.#n.delete(e.annotationElementId),this.#i.delete(t),this.#i.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function")){for(const i of this.#i.values())if(i instanceof yt)return;this.onAnnotationEditor(null)}}setValue(t,e){const i=this.#i.get(t);let a=!1;if(i!==void 0)for(const[o,l]of Object.entries(e))i[o]!==l&&(a=!0,i[o]=l);else a=!0,this.#i.set(t,e);a&&this.#r(),e instanceof yt&&((this.#n||=new Map).set(e.annotationElementId,e),typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(e.constructor._type))}has(t){return this.#i.has(t)}get size(){return this.#i.size}#r(){this.#t||(this.#t=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this.#t&&(this.#t=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new tE(this)}get serializable(){if(this.#i.size===0)return Pm;const t=new Map,e=new JS,i=[],a=Object.create(null);let o=!1;for(const[l,u]of this.#i){const d=u instanceof yt?u.serialize(!1,a):u;d&&(t.set(l,d),e.update(`${l}:${JSON.stringify(d)}`),o||=!!d.bitmap)}if(o)for(const l of t.values())l.bitmap&&i.push(l.bitmap);return t.size>0?{map:t,hash:e.hexdigest(),transfer:i}:Pm}get editorStats(){let t=null;const e=new Map;let i=0,a=0;for(const o of this.#i.values()){if(!(o instanceof yt)){o.popup&&(o.popup.deleted?a+=1:i+=1);continue}o.isCommentDeleted?a+=1:o.hasEditedComment&&(i+=1);const l=o.telemetryFinalData;if(!l)continue;const{type:u}=l;e.has(u)||e.set(u,Object.getPrototypeOf(o).constructor),t||=Object.create(null);const d=t[u]||=new Map;for(const[f,p]of Object.entries(l)){if(f==="type")continue;let g=d.get(f);g||(g=new Map,d.set(f,g));const b=g.get(p)??0;g.set(p,b+1)}}if((a>0||i>0)&&(t||=Object.create(null),t.comments={deleted:a,edited:i}),!t)return null;for(const[o,l]of e)t[o]=l.computeTelemetryFinalData(t[o]);return t}resetModifiedIds(){this.#e=null}updateEditor(t,e){const i=this.#n?.get(t);return i?(i.updateFromAnnotationLayer(e),!0):!1}getEditor(t){return this.#n?.get(t)||null}get modifiedIds(){if(this.#e)return this.#e;const t=[];if(this.#n)for(const e of this.#n.values())e.serialize()&&t.push(e.annotationElementId);return this.#e={ids:new Set(t),hash:t.join(",")}}[Symbol.iterator](){return this.#i.entries()}}class tE extends Qg{#t;constructor(t){super();const{map:e,hash:i,transfer:a}=t.serializable,o=structuredClone(e,a?{transfer:a}:null);this.#t={map:o,hash:i,transfer:a}}get print(){te("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#t}get modifiedIds(){return Tt(this,"modifiedIds",{ids:new Set,hash:""})}}class xP{#t=new Set;constructor({ownerDocument:t=globalThis.document,styleElement:e=null}){this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const e=this.styleElement.sheet;e.insertRule(t,e.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),this.#t.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:t,disableFontFace:e,_inspectFont:i}){if(!(!t||this.#t.has(t.loadedName))){if(Pt(!e,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:a,src:o,style:l}=t,u=new FontFace(a,o,l);this.addNativeFontFace(u);try{await u.load(),this.#t.add(a),i?.(t)}catch{Et(`Cannot load system font: ${t.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(u)}return}te("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(t){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo){await this.loadSystemFont(t);return}if(this.isFontLoadingAPISupported){const i=t.createNativeFontFace();if(i){this.addNativeFontFace(i);try{await i.loaded}catch(a){throw Et(`Failed to load font '${i.family}': '${a}'.`),t.disableFontFace=!0,a}}return}const e=t.createFontFaceRule();if(e){if(this.insertRule(e),this.isSyncFontLoadingSupported)return;await new Promise(i=>{const a=this._queueLoadingCallback(i);this._prepareFontLoadEvent(t,a)})}}get isFontLoadingAPISupported(){const t=!!this._document?.fonts;return Tt(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){return Tt(this,"isSyncFontLoadingSupported",ii||We.platform.isFirefox)}_queueLoadingCallback(t){function e(){for(Pt(!a.done,"completeRequest() cannot be called twice."),a.done=!0;i.length>0&&i[0].done;){const o=i.shift();setTimeout(o.callback,0)}}const{loadingRequests:i}=this,a={done:!1,complete:e,callback:t};return i.push(a),a}get _loadTestFont(){const t=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Tt(this,"_loadTestFont",t)}_prepareFontLoadEvent(t,e){function i(j,M){return j.charCodeAt(M)<<24|j.charCodeAt(M+1)<<16|j.charCodeAt(M+2)<<8|j.charCodeAt(M+3)&255}function a(j,M,R,D){const P=j.substring(0,M),X=j.substring(M+R);return P+D+X}let o,l;const u=this._document.createElement("canvas");u.width=1,u.height=1;const d=u.getContext("2d");let f=0;function p(j,M){if(++f>30){Et("Load test font never loaded."),M();return}if(d.font="30px "+j,d.fillText(".",0,20),d.getImageData(0,0,1,1).data[3]>0){M();return}setTimeout(p.bind(null,j,M))}const g=`lt${Date.now()}${this.loadTestFontId++}`;let b=this._loadTestFont;b=a(b,976,g.length,g);const w=16,A=1482184792;let E=i(b,w);for(o=0,l=g.length-3;o<l;o+=4)E=E-A+i(g,o)|0;o<g.length&&(E=E-A+i(g+"XXX",o)|0),b=a(b,w,4,QL(E));const T=`url(data:font/opentype;base64,${btoa(b)});`,_=`@font-face {font-family:"${g}";src:${T}}`;this.insertRule(_);const C=this._document.createElement("div");C.style.visibility="hidden",C.style.width=C.style.height="10px",C.style.position="absolute",C.style.top=C.style.left="0px";for(const j of[t.loadedName,g]){const M=this._document.createElement("span");M.textContent="Hi",M.style.fontFamily=j,C.append(M)}this._document.body.append(C),p(g,()=>{C.remove(),e.complete()})}}class yP{#t;constructor(t,e=null,i,a){this.compiledGlyphs=Object.create(null),this.#t=t,this._inspectFont=e,i&&Object.assign(this,i),a&&(this.charProcOperatorList=a)}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let t;if(!this.cssFontInfo)t=new FontFace(this.loadedName,this.data,{});else{const e={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(e.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,e)}return this._inspectFont?.(this),t}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const t=`url(data:${this.mimetype};base64,${YS(this.data)});`;let e;if(!this.cssFontInfo)e=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let i=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(i+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),e=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${i}src:${t}}`}return this._inspectFont?.(this,t),e}getPathGenerator(t,e){if(this.compiledGlyphs[e]!==void 0)return this.compiledGlyphs[e];const i=this.loadedName+"_path_"+e;let a;try{a=t.get(i)}catch(l){Et(`getPathGenerator - ignoring character: "${l}".`)}const o=QS(a);return this.fontExtraProperties||t.delete(i),this.compiledGlyphs[e]=o}get black(){return this.#t.black}get bold(){return this.#t.bold}get disableFontFace(){return this.#t.disableFontFace??!1}set disableFontFace(t){Tt(this,"disableFontFace",!!t)}get fontExtraProperties(){return this.#t.fontExtraProperties??!1}get isInvalidPDFjsFont(){return this.#t.isInvalidPDFjsFont}get isType3Font(){return this.#t.isType3Font}get italic(){return this.#t.italic}get missingFile(){return this.#t.missingFile}get remeasure(){return this.#t.remeasure}get vertical(){return this.#t.vertical}get ascent(){return this.#t.ascent}get defaultWidth(){return this.#t.defaultWidth}get descent(){return this.#t.descent}get bbox(){return this.#t.bbox}set bbox(t){Tt(this,"bbox",t)}get fontMatrix(){return this.#t.fontMatrix}get fallbackName(){return this.#t.fallbackName}get loadedName(){return this.#t.loadedName}get mimetype(){return this.#t.mimetype}get name(){return this.#t.name}get data(){return this.#t.data}clearData(){this.#t.clearData()}get cssFontInfo(){return this.#t.cssFontInfo}get systemFontInfo(){return this.#t.systemFontInfo}get defaultVMetrics(){return this.#t.defaultVMetrics}}class Rr{#t;#e;#n;static strings=["fontFamily","fontWeight","italicAngle"];static write(t){const e=new TextEncoder,i={};let a=0;for(const f of Rr.strings){const p=e.encode(t[f]);i[f]=p,a+=4+p.length}const o=new ArrayBuffer(a),l=new Uint8Array(o),u=new DataView(o);let d=0;for(const f of Rr.strings){const p=i[f],g=p.length;u.setUint32(d,g),l.set(p,d+4),d+=4+g}return Pt(d===o.byteLength,"CssFontInfo.write: Buffer overflow"),o}constructor(t){this.#t=t,this.#e=new DataView(this.#t),this.#n=new TextDecoder}#i(t){Pt(t<Rr.strings.length,"Invalid string index");let e=0;for(let a=0;a<t;a++)e+=this.#e.getUint32(e)+4;const i=this.#e.getUint32(e);return this.#n.decode(new Uint8Array(this.#t,e+4,i))}get fontFamily(){return this.#i(0)}get fontWeight(){return this.#i(1)}get italicAngle(){return this.#i(2)}}class Or{#t;#e;#n;static strings=["css","loadedName","baseFontName","src"];static write(t){const e=new TextEncoder,i={};let a=0;for(const b of Or.strings){const v=e.encode(t[b]);i[b]=v,a+=4+v.length}a+=4;let o,l,u=1+a;t.style&&(o=e.encode(t.style.style),l=e.encode(t.style.weight),u+=4+o.length+4+l.length);const d=new ArrayBuffer(u),f=new Uint8Array(d),p=new DataView(d);let g=0;p.setUint8(g++,t.guessFallback?1:0),p.setUint32(g,0),g+=4,a=0;for(const b of Or.strings){const v=i[b],w=v.length;a+=4+w,p.setUint32(g,w),f.set(v,g+4),g+=4+w}return p.setUint32(g-a-4,a),t.style&&(p.setUint32(g,o.length),f.set(o,g+4),g+=4+o.length,p.setUint32(g,l.length),f.set(l,g+4),g+=4+l.length),Pt(g<=d.byteLength,"SubstitionInfo.write: Buffer overflow"),d.transferToFixedLength(g)}constructor(t){this.#t=t,this.#e=new DataView(this.#t),this.#n=new TextDecoder}get guessFallback(){return this.#e.getUint8(0)!==0}#i(t){Pt(t<Or.strings.length,"Invalid string index");let e=5;for(let a=0;a<t;a++)e+=this.#e.getUint32(e)+4;const i=this.#e.getUint32(e);return this.#n.decode(new Uint8Array(this.#t,e+4,i))}get css(){return this.#i(0)}get loadedName(){return this.#i(1)}get baseFontName(){return this.#i(2)}get src(){return this.#i(3)}get style(){let t=1;t+=4+this.#e.getUint32(t);const e=this.#e.getUint32(t),i=this.#n.decode(new Uint8Array(this.#t,t+4,e));t+=4+e;const a=this.#e.getUint32(t),o=this.#n.decode(new Uint8Array(this.#t,t+4,a));return{style:i,weight:o}}}class Qt{static bools=["black","bold","disableFontFace","fontExtraProperties","isInvalidPDFjsFont","isType3Font","italic","missingFile","remeasure","vertical"];static numbers=["ascent","defaultWidth","descent"];static strings=["fallbackName","loadedName","mimetype","name"];static#t=Math.ceil(this.bools.length*2/8);static#e=this.#t+this.numbers.length*8;static#n=this.#e+1+8;static#i=this.#n+1+48;static#r=this.#i+1+6;#a;#s;#o;constructor({data:t,extra:e}){this.#a=t,this.#s=new TextDecoder,this.#o=new DataView(this.#a),e&&Object.assign(this,e)}#c(t){Pt(t<Qt.bools.length,"Invalid boolean index");const e=Math.floor(t/4),i=t*2%8,a=this.#o.getUint8(e)>>i&3;return a===0?void 0:a===2}get black(){return this.#c(0)}get bold(){return this.#c(1)}get disableFontFace(){return this.#c(2)}get fontExtraProperties(){return this.#c(3)}get isInvalidPDFjsFont(){return this.#c(4)}get isType3Font(){return this.#c(5)}get italic(){return this.#c(6)}get missingFile(){return this.#c(7)}get remeasure(){return this.#c(8)}get vertical(){return this.#c(9)}#l(t){return Pt(t<Qt.numbers.length,"Invalid number index"),this.#o.getFloat64(Qt.#t+t*8)}get ascent(){return this.#l(0)}get defaultWidth(){return this.#l(1)}get descent(){return this.#l(2)}get bbox(){let t=Qt.#e;if(this.#o.getUint8(t)===0)return;t+=1;const i=[];for(let a=0;a<4;a++)i.push(this.#o.getInt16(t,!0)),t+=2;return i}get fontMatrix(){let t=Qt.#n;if(this.#o.getUint8(t)===0)return;t+=1;const i=[];for(let a=0;a<6;a++)i.push(this.#o.getFloat64(t,!0)),t+=8;return i}get defaultVMetrics(){let t=Qt.#i;if(this.#o.getUint8(t)===0)return;t+=1;const i=[];for(let a=0;a<3;a++)i.push(this.#o.getInt16(t,!0)),t+=2;return i}#h(t){Pt(t<Qt.strings.length,"Invalid string index");let e=Qt.#r+4;for(let o=0;o<t;o++)e+=this.#o.getUint32(e)+4;const i=this.#o.getUint32(e),a=new Uint8Array(i);return a.set(new Uint8Array(this.#a,e+4,i)),this.#s.decode(a)}get fallbackName(){return this.#h(0)}get loadedName(){return this.#h(1)}get mimetype(){return this.#h(2)}get name(){return this.#h(3)}get data(){let t=Qt.#r;const e=this.#o.getUint32(t);t+=4+e;const i=this.#o.getUint32(t);t+=4+i;const a=this.#o.getUint32(t);t+=4+a;const o=this.#o.getUint32(t);if(o!==0)return new Uint8Array(this.#a,t+4,o)}clearData(){let t=Qt.#r;const e=this.#o.getUint32(t);t+=4+e;const i=this.#o.getUint32(t);t+=4+i;const a=this.#o.getUint32(t);t+=4+a;const o=this.#o.getUint32(t);new Uint8Array(this.#a,t+4,o).fill(0),this.#o.setUint32(t,0)}get cssFontInfo(){let t=Qt.#r;const e=this.#o.getUint32(t);t+=4+e;const i=this.#o.getUint32(t);t+=4+i;const a=this.#o.getUint32(t);if(a===0)return null;const o=new Uint8Array(a);return o.set(new Uint8Array(this.#a,t+4,a)),new Rr(o.buffer)}get systemFontInfo(){let t=Qt.#r;const e=this.#o.getUint32(t);t+=4+e;const i=this.#o.getUint32(t);if(i===0)return null;const a=new Uint8Array(i);return a.set(new Uint8Array(this.#a,t+4,i)),new Or(a.buffer)}static write(t){const e=t.systemFontInfo?Or.write(t.systemFontInfo):null,i=t.cssFontInfo?Rr.write(t.cssFontInfo):null,a=new TextEncoder,o={};let l=0;for(const A of Qt.strings)o[A]=a.encode(t[A]),l+=4+o[A].length;const u=Qt.#r+4+l+4+(e?e.byteLength:0)+4+(i?i.byteLength:0)+4+(t.data?t.data.length:0),d=new ArrayBuffer(u),f=new Uint8Array(d),p=new DataView(d);let g=0;const b=Qt.bools.length;let v=0,w=0;for(let A=0;A<b;A++){const E=t[Qt.bools[A]];v|=(E===void 0?0:E?2:1)<<w,w+=2,(w===8||A===b-1)&&(p.setUint8(g++,v),v=0,w=0)}Pt(g===Qt.#t,"FontInfo.write: Boolean properties offset mismatch");for(const A of Qt.numbers)p.setFloat64(g,t[A]),g+=8;if(Pt(g===Qt.#e,"FontInfo.write: Number properties offset mismatch"),t.bbox){p.setUint8(g++,4);for(const A of t.bbox)p.setInt16(g,A,!0),g+=2}else p.setUint8(g++,0),g+=8;if(Pt(g===Qt.#n,"FontInfo.write: BBox properties offset mismatch"),t.fontMatrix){p.setUint8(g++,6);for(const A of t.fontMatrix)p.setFloat64(g,A,!0),g+=8}else p.setUint8(g++,0),g+=48;if(Pt(g===Qt.#i,"FontInfo.write: FontMatrix properties offset mismatch"),t.defaultVMetrics){p.setUint8(g++,1);for(const A of t.defaultVMetrics)p.setInt16(g,A,!0),g+=2}else p.setUint8(g++,0),g+=6;Pt(g===Qt.#r,"FontInfo.write: DefaultVMetrics properties offset mismatch"),p.setUint32(Qt.#r,0),g+=4;for(const A of Qt.strings){const E=o[A],T=E.length;p.setUint32(g,T),f.set(E,g+4),g+=4+T}if(p.setUint32(Qt.#r,g-Qt.#r-4),!e)p.setUint32(g,0),g+=4;else{const A=e.byteLength;p.setUint32(g,A),Pt(g+4+A<=d.byteLength,"FontInfo.write: Buffer overflow at systemFontInfo"),f.set(new Uint8Array(e),g+4),g+=4+A}if(!i)p.setUint32(g,0),g+=4;else{const A=i.byteLength;p.setUint32(g,A),Pt(g+4+A<=d.byteLength,"FontInfo.write: Buffer overflow at cssFontInfo"),f.set(new Uint8Array(i),g+4),g+=4+A}return t.data===void 0?(p.setUint32(g,0),g+=4):(p.setUint32(g,t.data.length),f.set(t.data,g+4),g+=4+t.data.length),Pt(g<=d.byteLength,"FontInfo.write: Buffer overflow"),d.transferToFixedLength(g)}}class ze{static#t=0;static#e=1;static#n=2;static#i=3;static#r=4;static#a=8;static#s=12;static#o=16;constructor(t){this.buffer=t,this.view=new DataView(t),this.data=new Uint8Array(t)}static write(t){let e,i=null,a=[],o=[],l=[],u=[],d=null,f=null;switch(t[0]){case"RadialAxial":e=t[1]==="axial"?1:2,i=t[2],l=t[3],e===1?a.push(...t[4],...t[5]):a.push(t[4][0],t[4][1],t[6],t[5][0],t[5][1],t[7]);break;case"Mesh":e=3,d=t[1],a=t[2],o=t[3],u=t[4]||[],i=t[6],f=t[7];break;default:throw new Error(`Unsupported pattern type: ${t[0]}`)}const p=Math.floor(a.length/2),g=Math.floor(o.length/3),b=l.length,v=u.length;let w=0;for(const M of u)w+=1,w=Math.ceil(w/4)*4,w+=4+M.coords.length*4,w+=4+M.colors.length*4,M.verticesPerRow!==void 0&&(w+=4);const A=20+p*8+g*3+b*8+(i?16:0)+(f?3:0)+w,E=new ArrayBuffer(A),T=new DataView(E),_=new Uint8Array(E);T.setUint8(ze.#t,e),T.setUint8(ze.#e,i?1:0),T.setUint8(ze.#n,f?1:0),T.setUint8(ze.#i,d),T.setUint32(ze.#r,p,!0),T.setUint32(ze.#a,g,!0),T.setUint32(ze.#s,b,!0),T.setUint32(ze.#o,v,!0);let C=20;new Float32Array(E,C,p*2).set(a),C+=p*8,_.set(o,C),C+=g*3;for(const[M,R]of l)T.setFloat32(C,M,!0),C+=4,T.setUint32(C,parseInt(R.slice(1),16),!0),C+=4;if(i)for(const M of i)T.setFloat32(C,M,!0),C+=4;f&&(_.set(f,C),C+=3);for(let M=0;M<u.length;M++){const R=u[M];T.setUint8(C,R.type),C+=1,C=Math.ceil(C/4)*4,T.setUint32(C,R.coords.length,!0),C+=4,new Int32Array(E,C,R.coords.length).set(R.coords),C+=R.coords.length*4,T.setUint32(C,R.colors.length,!0),C+=4,new Int32Array(E,C,R.colors.length).set(R.colors),C+=R.colors.length*4,R.verticesPerRow!==void 0&&(T.setUint32(C,R.verticesPerRow,!0),C+=4)}return E}getIR(){const t=this.view,e=this.data[ze.#t],i=!!this.data[ze.#e],a=!!this.data[ze.#n],o=t.getUint32(ze.#r,!0),l=t.getUint32(ze.#a,!0),u=t.getUint32(ze.#s,!0),d=t.getUint32(ze.#o,!0);let f=20;const p=new Float32Array(this.buffer,f,o*2);f+=o*8;const g=new Uint8Array(this.buffer,f,l*3);f+=l*3;const b=[];for(let E=0;E<u;++E){const T=t.getFloat32(f,!0);f+=4;const _=t.getUint32(f,!0);f+=4,b.push([T,`#${_.toString(16).padStart(6,"0")}`])}let v=null;if(i){v=[];for(let E=0;E<4;++E)v.push(t.getFloat32(f,!0)),f+=4}let w=null;a&&(w=new Uint8Array(this.buffer,f,3),f+=3);const A=[];for(let E=0;E<d;++E){const T=t.getUint8(f);f+=1,f=Math.ceil(f/4)*4;const _=t.getUint32(f,!0);f+=4;const C=new Int32Array(this.buffer,f,_);f+=_*4;const j=t.getUint32(f,!0);f+=4;const M=new Int32Array(this.buffer,f,j);f+=j*4;const R={type:T,coords:C,colors:M};T===Mm.LATTICE&&(R.verticesPerRow=t.getUint32(f,!0),f+=4),A.push(R)}if(e===1)return["RadialAxial","axial",v,b,Array.from(p.slice(0,2)),Array.from(p.slice(2,4)),null,null];if(e===2)return["RadialAxial","radial",v,b,[p[0],p[1]],[p[3],p[4]],p[2],p[5]];if(e===3){const E=this.data[ze.#i];let T=null;if(p.length>0){let _=p[0],C=p[0],j=p[1],M=p[1];for(let R=0;R<p.length;R+=2){const D=p[R],P=p[R+1];_=_>D?D:_,j=j>P?P:j,C=C<D?D:C,M=M<P?P:M}T=[_,j,C,M]}return["Mesh",E,p,g,A,T,v,w]}throw new Error(`Unsupported pattern kind: ${e}`)}}function bP(s){if(s instanceof URL)return s.href;if(typeof s=="string"){if(ii)return s;const t=URL.parse(s,window.location);if(t)return t.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function vP(s){if(ii&&typeof Buffer<"u"&&s instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength)return s;if(typeof s=="string")return $l(s);if(s instanceof ArrayBuffer||ArrayBuffer.isView(s)||typeof s=="object"&&!isNaN(s?.length))return new Uint8Array(s);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function _u(s){if(typeof s!="string")return null;if(s.endsWith("/"))return s;throw new Error(`Invalid factory url: "${s}" must include trailing slash.`)}const Bm=s=>typeof s=="object"&&Number.isInteger(s?.num)&&s.num>=0&&Number.isInteger(s?.gen)&&s.gen>=0,wP=s=>typeof s=="object"&&typeof s?.name=="string",AP=iP.bind(null,Bm,wP);class SP{#t=new Map;#e=Promise.resolve();postMessage(t,e){const i={data:structuredClone(t,e?{transfer:e}:null)};this.#e.then(()=>{for(const[a]of this.#t)a.call(this,i)})}addEventListener(t,e,i=null){let a=null;if(i?.signal instanceof AbortSignal){const{signal:o}=i;if(o.aborted){Et("LoopbackPort - cannot use an `aborted` signal.");return}const l=()=>this.removeEventListener(t,e);a=()=>o.removeEventListener("abort",l),o.addEventListener("abort",l)}this.#t.set(e,a)}removeEventListener(t,e){this.#t.get(e)?.(),this.#t.delete(e)}terminate(){for(const[,t]of this.#t)t?.();this.#t.clear()}}const Nu={DATA:1,ERROR:2},ke={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Nw(){}function mi(s){if(s instanceof Fs||s instanceof Dm||s instanceof vw||s instanceof cd||s instanceof Lp)return s;switch(s instanceof Error||typeof s=="object"&&s!==null||te('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),s.name){case"AbortException":return new Fs(s.message);case"InvalidPDFException":return new Dm(s.message);case"PasswordException":return new vw(s.message,s.code);case"ResponseException":return new cd(s.message,s.status,s.missing);case"UnknownErrorException":return new Lp(s.message,s.details)}return new Lp(s.message,s.toString())}class cl{#t=new AbortController;constructor(t,e,i){this.sourceName=t,this.targetName=e,this.comObj=i,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),i.addEventListener("message",this.#e.bind(this),{signal:this.#t.signal})}#e({data:t}){if(t.targetName!==this.sourceName)return;if(t.stream){this.#i(t);return}if(t.callback){const i=t.callbackId,a=this.callbackCapabilities[i];if(!a)throw new Error(`Cannot resolve callback ${i}`);if(delete this.callbackCapabilities[i],t.callback===Nu.DATA)a.resolve(t.data);else if(t.callback===Nu.ERROR)a.reject(mi(t.reason));else throw new Error("Unexpected callback case");return}const e=this.actionHandler[t.action];if(!e)throw new Error(`Unknown action from worker: ${t.action}`);if(t.callbackId){const i=this.sourceName,a=t.sourceName,o=this.comObj;Promise.try(e,t.data).then(function(l){o.postMessage({sourceName:i,targetName:a,callback:Nu.DATA,callbackId:t.callbackId,data:l})},function(l){o.postMessage({sourceName:i,targetName:a,callback:Nu.ERROR,callbackId:t.callbackId,reason:mi(l)})});return}if(t.streamId){this.#n(t);return}e(t.data)}on(t,e){const i=this.actionHandler;if(i[t])throw new Error(`There is already an actionName called "${t}"`);i[t]=e}send(t,e,i){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},i)}sendWithPromise(t,e,i){const a=this.callbackId++,o=Promise.withResolvers();this.callbackCapabilities[a]=o;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:a,data:e},i)}catch(l){o.reject(l)}return o.promise}sendWithStream(t,e,i,a){const o=this.streamId++,l=this.sourceName,u=this.targetName,d=this.comObj;return new ReadableStream({start:f=>{const p=Promise.withResolvers();return this.streamControllers[o]={controller:f,startCall:p,pullCall:null,cancelCall:null,isClosed:!1},d.postMessage({sourceName:l,targetName:u,action:t,streamId:o,data:e,desiredSize:f.desiredSize},a),p.promise},pull:f=>{const p=Promise.withResolvers();return this.streamControllers[o].pullCall=p,d.postMessage({sourceName:l,targetName:u,stream:ke.PULL,streamId:o,desiredSize:f.desiredSize}),p.promise},cancel:f=>{Pt(f instanceof Error,"cancel must have a valid reason");const p=Promise.withResolvers();return this.streamControllers[o].cancelCall=p,this.streamControllers[o].isClosed=!0,d.postMessage({sourceName:l,targetName:u,stream:ke.CANCEL,streamId:o,reason:mi(f)}),p.promise}},i)}#n(t){const e=t.streamId,i=this.sourceName,a=t.sourceName,o=this.comObj,l=this,u=this.actionHandler[t.action],d={enqueue(f,p=1,g){if(this.isCancelled)return;const b=this.desiredSize;this.desiredSize-=p,b>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),o.postMessage({sourceName:i,targetName:a,stream:ke.ENQUEUE,streamId:e,chunk:f},g)},close(){this.isCancelled||(this.isCancelled=!0,o.postMessage({sourceName:i,targetName:a,stream:ke.CLOSE,streamId:e}),delete l.streamSinks[e])},error(f){Pt(f instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,o.postMessage({sourceName:i,targetName:a,stream:ke.ERROR,streamId:e,reason:mi(f)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};d.sinkCapability.resolve(),d.ready=d.sinkCapability.promise,this.streamSinks[e]=d,Promise.try(u,t.data,d).then(function(){o.postMessage({sourceName:i,targetName:a,stream:ke.START_COMPLETE,streamId:e,success:!0})},function(f){o.postMessage({sourceName:i,targetName:a,stream:ke.START_COMPLETE,streamId:e,reason:mi(f)})})}#i(t){const e=t.streamId,i=this.sourceName,a=t.sourceName,o=this.comObj,l=this.streamControllers[e],u=this.streamSinks[e];switch(t.stream){case ke.START_COMPLETE:t.success?l.startCall.resolve():l.startCall.reject(mi(t.reason));break;case ke.PULL_COMPLETE:t.success?l.pullCall.resolve():l.pullCall.reject(mi(t.reason));break;case ke.PULL:if(!u){o.postMessage({sourceName:i,targetName:a,stream:ke.PULL_COMPLETE,streamId:e,success:!0});break}u.desiredSize<=0&&t.desiredSize>0&&u.sinkCapability.resolve(),u.desiredSize=t.desiredSize,Promise.try(u.onPull||Nw).then(function(){o.postMessage({sourceName:i,targetName:a,stream:ke.PULL_COMPLETE,streamId:e,success:!0})},function(f){o.postMessage({sourceName:i,targetName:a,stream:ke.PULL_COMPLETE,streamId:e,reason:mi(f)})});break;case ke.ENQUEUE:if(Pt(l,"enqueue should have stream controller"),l.isClosed)break;l.controller.enqueue(t.chunk);break;case ke.CLOSE:if(Pt(l,"close should have stream controller"),l.isClosed)break;l.isClosed=!0,l.controller.close(),this.#r(l,e);break;case ke.ERROR:Pt(l,"error should have stream controller"),l.controller.error(mi(t.reason)),this.#r(l,e);break;case ke.CANCEL_COMPLETE:t.success?l.cancelCall.resolve():l.cancelCall.reject(mi(t.reason)),this.#r(l,e);break;case ke.CANCEL:if(!u)break;const d=mi(t.reason);Promise.try(u.onCancel||Nw,d).then(function(){o.postMessage({sourceName:i,targetName:a,stream:ke.CANCEL_COMPLETE,streamId:e,success:!0})},function(f){o.postMessage({sourceName:i,targetName:a,stream:ke.CANCEL_COMPLETE,streamId:e,reason:mi(f)})}),u.sinkCapability.reject(d),u.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}}async#r(t,e){await Promise.allSettled([t.startCall?.promise,t.pullCall?.promise,t.cancelCall?.promise]),delete this.streamControllers[e]}destroy(){this.#t?.abort(),this.#t=null}}class eE{#t=!1;constructor({enableHWA:t=!1}){this.#t=t}create(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");const i=this._createCanvas(t,e);return{canvas:i,context:i.getContext("2d",{willReadFrequently:!this.#t})}}reset(t,e,i){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||i<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=i}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,e){te("Abstract method `_createCanvas` called.")}}class EP extends eE{constructor({ownerDocument:t=globalThis.document,enableHWA:e=!1}){super({enableHWA:e}),this._document=t}_createCanvas(t,e){const i=this._document.createElement("canvas");return i.width=t,i.height=e,i}}class iE{constructor({baseUrl:t=null,isCompressed:e=!0}){this.baseUrl=t,this.isCompressed=e}async fetch({name:t}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!t)throw new Error("CMap name must be specified.");const e=this.baseUrl+t+(this.isCompressed?".bcmap":"");return this._fetch(e).then(i=>({cMapData:i,isCompressed:this.isCompressed})).catch(i=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${e}`)})}async _fetch(t){te("Abstract method `_fetch` called.")}}class kw extends iE{async _fetch(t){const e=await Xl(t,this.isCompressed?"arraybuffer":"text");return e instanceof ArrayBuffer?new Uint8Array(e):$l(e)}}class nE{addFilter(t){return"none"}addHCMFilter(t,e){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,e,i,a,o){return"none"}destroy(t=!1){}}class TP extends nE{#t;#e;#n;#i;#r;#a;#s=0;constructor({docId:t,ownerDocument:e=globalThis.document}){super(),this.#i=t,this.#r=e}get#o(){return this.#e||=new Map}get#c(){return this.#a||=new Map}get#l(){if(!this.#n){const t=this.#r.createElement("div"),{style:e}=t;e.visibility="hidden",e.contain="strict",e.width=e.height=0,e.position="absolute",e.top=e.left=0,e.zIndex=-1;const i=this.#r.createElementNS($n,"svg");i.setAttribute("width",0),i.setAttribute("height",0),this.#n=this.#r.createElementNS($n,"defs"),t.append(i),i.append(this.#n),this.#r.body.append(t)}return this.#n}#h(t){if(t.length===1){const d=t[0],f=new Array(256);for(let g=0;g<256;g++)f[g]=d[g]/255;const p=f.join(",");return[p,p,p]}const[e,i,a]=t,o=new Array(256),l=new Array(256),u=new Array(256);for(let d=0;d<256;d++)o[d]=e[d]/255,l[d]=i[d]/255,u[d]=a[d]/255;return[o.join(","),l.join(","),u.join(",")]}#d(t){if(this.#t===void 0){this.#t="";const e=this.#r.URL;e!==this.#r.baseURI&&(Md(e)?Et('#createUrl: ignore "data:"-URL for performance reasons.'):this.#t=GS(e,""))}return`url(${this.#t}#${t})`}addFilter(t){if(!t)return"none";let e=this.#o.get(t);if(e)return e;const[i,a,o]=this.#h(t),l=t.length===1?i:`${i}${a}${o}`;if(e=this.#o.get(l),e)return this.#o.set(t,e),e;const u=`g_${this.#i}_transfer_map_${this.#s++}`,d=this.#d(u);this.#o.set(t,d),this.#o.set(l,d);const f=this.#m(u);return this.#p(i,a,o,f),d}addHCMFilter(t,e){const i=`${t}-${e}`,a="base";let o=this.#c.get(a);if(o?.key===i||(o?(o.filter?.remove(),o.key=i,o.url="none",o.filter=null):(o={key:i,url:"none",filter:null},this.#c.set(a,o)),!t||!e))return o.url;const l=this.#b(t);t=ut.makeHexColor(...l);const u=this.#b(e);if(e=ut.makeHexColor(...u),this.#l.style.color="",t==="#000000"&&e==="#ffffff"||t===e)return o.url;const d=new Array(256);for(let v=0;v<=255;v++){const w=v/255;d[v]=w<=.03928?w/12.92:((w+.055)/1.055)**2.4}const f=d.join(","),p=`g_${this.#i}_hcm_filter`,g=o.filter=this.#m(p);this.#p(f,f,f,g),this.#g(g);const b=(v,w)=>{const A=l[v]/255,E=u[v]/255,T=new Array(w+1);for(let _=0;_<=w;_++)T[_]=A+_/w*(E-A);return T.join(",")};return this.#p(b(0,5),b(1,5),b(2,5),g),o.url=this.#d(p),o.url}addAlphaFilter(t){let e=this.#o.get(t);if(e)return e;const[i]=this.#h([t]),a=`alpha_${i}`;if(e=this.#o.get(a),e)return this.#o.set(t,e),e;const o=`g_${this.#i}_alpha_map_${this.#s++}`,l=this.#d(o);this.#o.set(t,l),this.#o.set(a,l);const u=this.#m(o);return this.#x(i,u),l}addLuminosityFilter(t){let e=this.#o.get(t||"luminosity");if(e)return e;let i,a;if(t?([i]=this.#h([t]),a=`luminosity_${i}`):a="luminosity",e=this.#o.get(a),e)return this.#o.set(t,e),e;const o=`g_${this.#i}_luminosity_map_${this.#s++}`,l=this.#d(o);this.#o.set(t,l),this.#o.set(a,l);const u=this.#m(o);return this.#f(u),t&&this.#x(i,u),l}addHighlightHCMFilter(t,e,i,a,o){const l=`${e}-${i}-${a}-${o}`;let u=this.#c.get(t);if(u?.key===l||(u?(u.filter?.remove(),u.key=l,u.url="none",u.filter=null):(u={key:l,url:"none",filter:null},this.#c.set(t,u)),!e||!i))return u.url;const[d,f]=[e,i].map(this.#b.bind(this));let p=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),g=Math.round(.2126*f[0]+.7152*f[1]+.0722*f[2]),[b,v]=[a,o].map(this.#b.bind(this));g<p&&([p,g,b,v]=[g,p,v,b]),this.#l.style.color="";const w=(T,_,C)=>{const j=new Array(256),M=(g-p)/C,R=T/255,D=(_-T)/(255*C);let P=0;for(let X=0;X<=C;X++){const V=Math.round(p+X*M),W=R+X*D;for(let rt=P;rt<=V;rt++)j[rt]=W;P=V+1}for(let X=P;X<256;X++)j[X]=j[P-1];return j.join(",")},A=`g_${this.#i}_hcm_${t}_filter`,E=u.filter=this.#m(A);return this.#g(E),this.#p(w(b[0],v[0],5),w(b[1],v[1],5),w(b[2],v[2],5),E),u.url=this.#d(A),u.url}destroy(t=!1){t&&this.#a?.size||(this.#n?.parentNode.parentNode.remove(),this.#n=null,this.#e?.clear(),this.#e=null,this.#a?.clear(),this.#a=null,this.#s=0)}#f(t){const e=this.#r.createElementNS($n,"feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(e)}#g(t){const e=this.#r.createElementNS($n,"feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(e)}#m(t){const e=this.#r.createElementNS($n,"filter");return e.setAttribute("color-interpolation-filters","sRGB"),e.setAttribute("id",t),this.#l.append(e),e}#u(t,e,i){const a=this.#r.createElementNS($n,e);a.setAttribute("type","discrete"),a.setAttribute("tableValues",i),t.append(a)}#p(t,e,i,a){const o=this.#r.createElementNS($n,"feComponentTransfer");a.append(o),this.#u(o,"feFuncR",t),this.#u(o,"feFuncG",e),this.#u(o,"feFuncB",i)}#x(t,e){const i=this.#r.createElementNS($n,"feComponentTransfer");e.append(i),this.#u(i,"feFuncA",t)}#b(t){return this.#l.style.color=t,Kl(getComputedStyle(this.#l).getPropertyValue("color"))}}class sE{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!t)throw new Error("Font filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(i=>{throw new Error(`Unable to load font data at: ${e}`)})}async _fetch(t){te("Abstract method `_fetch` called.")}}class jw extends sE{async _fetch(t){const e=await Xl(t,"arraybuffer");return new Uint8Array(e)}}class aE{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!t)throw new Error("Wasm filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(i=>{throw new Error(`Unable to load wasm data at: ${e}`)})}async _fetch(t){te("Abstract method `_fetch` called.")}}class Mw extends aE{async _fetch(t){const e=await Xl(t,"arraybuffer");return new Uint8Array(e)}}ii&&Et("Please use the `legacy` build in Node.js environments.");async function Zg(s){const e=await process.getBuiltinModule("fs").promises.readFile(s);return new Uint8Array(e)}class CP extends nE{}class _P extends eE{_createCanvas(t,e){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(t,e)}}class NP extends iE{async _fetch(t){return Zg(t)}}class kP extends sE{async _fetch(t){return Zg(t)}}class jP extends aE{async _fetch(t){return Zg(t)}}const xr="__forcedDependency",{floor:Dw,ceil:Rw}=Math;function ku(s,t,e,i,a,o){s[t*4+0]=Math.min(s[t*4+0],e),s[t*4+1]=Math.min(s[t*4+1],i),s[t*4+2]=Math.max(s[t*4+2],a),s[t*4+3]=Math.max(s[t*4+3],o)}const zm=new Uint32Array(new Uint8Array([255,255,0,0]).buffer)[0];class MP{#t;#e;constructor(t,e){this.#t=t,this.#e=e}get length(){return this.#t.length}isEmpty(t){return this.#t[t]===zm}minX(t){return this.#e[t*4+0]/256}minY(t){return this.#e[t*4+1]/256}maxX(t){return(this.#e[t*4+2]+1)/256}maxY(t){return(this.#e[t*4+3]+1)/256}}const ju=(s,t)=>{if(!s)return;let e=s.get(t);return e||(e={dependencies:new Set,isRenderingOperation:!1},s.set(t,e)),e};class DP{#t={__proto__:null};#e={__proto__:null,transform:[],moveText:[],sameLineText:[],[xr]:[]};#n=new Map;#i=[];#r=[];#a=[[1,0,0,1,0,0]];#s=[-1/0,-1/0,1/0,1/0];#o=new Float64Array([1/0,1/0,-1/0,-1/0]);#c=-1;#l=new Set;#h=new Map;#d=new Map;#f;#g;#m;#u;#p;constructor(t,e,i=!1){this.#f=t.width,this.#g=t.height,this.#x(e),i&&(this.#p=new Map)}growOperationsCount(t){t>=this.#u.length&&this.#x(t,this.#u)}#x(t,e){const i=new ArrayBuffer(t*4);this.#m=new Uint8ClampedArray(i),this.#u=new Uint32Array(i),e&&e.length>0?(this.#u.set(e),this.#u.fill(zm,e.length)):this.#u.fill(zm)}save(t){return this.#t={__proto__:this.#t},this.#e={__proto__:this.#e,transform:{__proto__:this.#e.transform},moveText:{__proto__:this.#e.moveText},sameLineText:{__proto__:this.#e.sameLineText},[xr]:{__proto__:this.#e[xr]}},this.#s={__proto__:this.#s},this.#i.push(t),this}restore(t){const e=Object.getPrototypeOf(this.#t);if(e===null)return this;this.#t=e,this.#e=Object.getPrototypeOf(this.#e),this.#s=Object.getPrototypeOf(this.#s);const i=this.#i.pop();return i!==void 0&&(ju(this.#p,t)?.dependencies.add(i),this.#u[t]=this.#u[i]),this}recordOpenMarker(t){return this.#i.push(t),this}getOpenMarker(){return this.#i.length===0?null:this.#i.at(-1)}recordCloseMarker(t){const e=this.#i.pop();return e!==void 0&&(ju(this.#p,t)?.dependencies.add(e),this.#u[t]=this.#u[e]),this}beginMarkedContent(t){return this.#r.push(t),this}endMarkedContent(t){const e=this.#r.pop();return e!==void 0&&(ju(this.#p,t)?.dependencies.add(e),this.#u[t]=this.#u[e]),this}pushBaseTransform(t){return this.#a.push(ut.multiplyByDOMMatrix(this.#a.at(-1),t.getTransform())),this}popBaseTransform(){return this.#a.length>1&&this.#a.pop(),this}recordSimpleData(t,e){return this.#t[t]=e,this}recordIncrementalData(t,e){return this.#e[t].push(e),this}resetIncrementalData(t,e){return this.#e[t].length=0,this}recordNamedData(t,e){return this.#n.set(t,e),this}recordSimpleDataFromNamed(t,e,i){this.#t[t]=this.#n.get(e)??i}recordFutureForcedDependency(t,e){return this.recordIncrementalData(xr,e),this}inheritSimpleDataAsFutureForcedDependencies(t){for(const e of t)e in this.#t&&this.recordFutureForcedDependency(e,this.#t[e]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(const t of this.#l)this.recordFutureForcedDependency(xr,t);return this}resetBBox(t){return this.#c!==t&&(this.#c=t,this.#o[0]=1/0,this.#o[1]=1/0,this.#o[2]=-1/0,this.#o[3]=-1/0),this}recordClipBox(t,e,i,a,o,l){const u=ut.multiplyByDOMMatrix(this.#a.at(-1),e.getTransform()),d=[1/0,1/0,-1/0,-1/0];ut.axialAlignedBoundingBox([i,o,a,l],u,d);const f=ut.intersect(this.#s,d);return f?(this.#s[0]=f[0],this.#s[1]=f[1],this.#s[2]=f[2],this.#s[3]=f[3]):(this.#s[0]=this.#s[1]=1/0,this.#s[2]=this.#s[3]=-1/0),this}recordBBox(t,e,i,a,o,l){const u=this.#s;if(u[0]===1/0)return this;const d=ut.multiplyByDOMMatrix(this.#a.at(-1),e.getTransform());if(u[0]===-1/0)return ut.axialAlignedBoundingBox([i,o,a,l],d,this.#o),this;const f=[1/0,1/0,-1/0,-1/0];return ut.axialAlignedBoundingBox([i,o,a,l],d,f),this.#o[0]=Math.min(this.#o[0],Math.max(f[0],u[0])),this.#o[1]=Math.min(this.#o[1],Math.max(f[1],u[1])),this.#o[2]=Math.max(this.#o[2],Math.min(f[2],u[2])),this.#o[3]=Math.max(this.#o[3],Math.min(f[3],u[3])),this}recordCharacterBBox(t,e,i,a=1,o=0,l=0,u){const d=i.bbox;let f,p;if(d&&(f=d[2]!==d[0]&&d[3]!==d[1]&&this.#d.get(i),f!==!1&&(p=[0,0,0,0],ut.axialAlignedBoundingBox(d,i.fontMatrix,p),(a!==1||o!==0||l!==0)&&ut.scaleMinMax([a,0,0,-a,o,l],p),f)))return this.recordBBox(t,e,p[0],p[2],p[1],p[3]);if(!u)return this.recordFullPageBBox(t);const g=u();return d&&p&&f===void 0&&(f=p[0]<=o-g.actualBoundingBoxLeft&&p[2]>=o+g.actualBoundingBoxRight&&p[1]<=l-g.actualBoundingBoxAscent&&p[3]>=l+g.actualBoundingBoxDescent,this.#d.set(i,f),f)?this.recordBBox(t,e,p[0],p[2],p[1],p[3]):this.recordBBox(t,e,o-g.actualBoundingBoxLeft,o+g.actualBoundingBoxRight,l-g.actualBoundingBoxAscent,l+g.actualBoundingBoxDescent)}recordFullPageBBox(t){return this.#o[0]=Math.max(0,this.#s[0]),this.#o[1]=Math.max(0,this.#s[1]),this.#o[2]=Math.min(this.#f,this.#s[2]),this.#o[3]=Math.min(this.#g,this.#s[3]),this}getSimpleIndex(t){return this.#t[t]}recordDependencies(t,e){const i=this.#l,a=this.#t,o=this.#e;for(const l of e)l in this.#t?i.add(a[l]):l in o&&o[l].forEach(i.add,i);return this}recordNamedDependency(t,e){return this.#n.has(e)&&this.#l.add(this.#n.get(e)),this}recordOperation(t,e=!1){if(this.recordDependencies(t,[xr]),this.#p){const i=ju(this.#p,t),{dependencies:a}=i;this.#l.forEach(a.add,a),this.#i.forEach(a.add,a),this.#r.forEach(a.add,a),a.delete(t),i.isRenderingOperation=!0}if(this.#c===t){const i=Dw(this.#o[0]*256/this.#f),a=Dw(this.#o[1]*256/this.#g),o=Rw(this.#o[2]*256/this.#f),l=Rw(this.#o[3]*256/this.#g);ku(this.#m,t,i,a,o,l);for(const u of this.#l)u!==t&&ku(this.#m,u,i,a,o,l);for(const u of this.#i)u!==t&&ku(this.#m,u,i,a,o,l);for(const u of this.#r)u!==t&&ku(this.#m,u,i,a,o,l);e||(this.#l.clear(),this.#c=-1)}return this}recordShowTextOperation(t,e=!1){const i=Array.from(this.#l);this.recordOperation(t,e),this.recordIncrementalData("sameLineText",t);for(const a of i)this.recordIncrementalData("sameLineText",a);return this}bboxToClipBoxDropOperation(t,e=!1){return this.#c===t&&(this.#c=-1,this.#s[0]=Math.max(this.#s[0],this.#o[0]),this.#s[1]=Math.max(this.#s[1],this.#o[1]),this.#s[2]=Math.min(this.#s[2],this.#o[2]),this.#s[3]=Math.min(this.#s[3],this.#o[3]),e||this.#l.clear()),this}_takePendingDependencies(){const t=this.#l;return this.#l=new Set,t}_extractOperation(t){const e=this.#h.get(t);return this.#h.delete(t),e}_pushPendingDependencies(t){for(const e of t)this.#l.add(e)}take(){return this.#d.clear(),new MP(this.#u,this.#m)}takeDebugMetadata(){return this.#p}}class ud{#t;#e;#n;#i=0;#r=0;constructor(t,e,i){if(t instanceof ud&&t.#n===!!i)return t;this.#t=t,this.#e=e,this.#n=!!i}growOperationsCount(){throw new Error("Unreachable")}save(t){return this.#r++,this.#t.save(this.#e),this}restore(t){return this.#r>0&&(this.#t.restore(this.#e),this.#r--),this}recordOpenMarker(t){return this.#i++,this}getOpenMarker(){return this.#i>0?this.#e:this.#t.getOpenMarker()}recordCloseMarker(t){return this.#i--,this}beginMarkedContent(t){return this}endMarkedContent(t){return this}pushBaseTransform(t){return this.#t.pushBaseTransform(t),this}popBaseTransform(){return this.#t.popBaseTransform(),this}recordSimpleData(t,e){return this.#t.recordSimpleData(t,this.#e),this}recordIncrementalData(t,e){return this.#t.recordIncrementalData(t,this.#e),this}resetIncrementalData(t,e){return this.#t.resetIncrementalData(t,this.#e),this}recordNamedData(t,e){return this}recordSimpleDataFromNamed(t,e,i){return this.#t.recordSimpleDataFromNamed(t,e,this.#e),this}recordFutureForcedDependency(t,e){return this.#t.recordFutureForcedDependency(t,this.#e),this}inheritSimpleDataAsFutureForcedDependencies(t){return this.#t.inheritSimpleDataAsFutureForcedDependencies(t),this}inheritPendingDependenciesAsFutureForcedDependencies(){return this.#t.inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(t){return this.#n||this.#t.resetBBox(this.#e),this}recordClipBox(t,e,i,a,o,l){return this.#n||this.#t.recordClipBox(this.#e,e,i,a,o,l),this}recordBBox(t,e,i,a,o,l){return this.#n||this.#t.recordBBox(this.#e,e,i,a,o,l),this}recordCharacterBBox(t,e,i,a,o,l,u){return this.#n||this.#t.recordCharacterBBox(this.#e,e,i,a,o,l,u),this}recordFullPageBBox(t){return this.#n||this.#t.recordFullPageBBox(this.#e),this}getSimpleIndex(t){return this.#t.getSimpleIndex(t)}recordDependencies(t,e){return this.#t.recordDependencies(this.#e,e),this}recordNamedDependency(t,e){return this.#t.recordNamedDependency(this.#e,e),this}recordOperation(t){return this.#t.recordOperation(this.#e,!0),this}recordShowTextOperation(t){return this.#t.recordShowTextOperation(this.#e,!0),this}bboxToClipBoxDropOperation(t){return this.#n||this.#t.bboxToClipBoxDropOperation(this.#e,!0),this}take(){throw new Error("Unreachable")}takeDebugMetadata(){throw new Error("Unreachable")}}const qi={stroke:["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],fill:["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],imageXObject:["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],rawFillPath:["filter","fillColor","fillAlpha"],showText:["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","fontObj","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation","sameLineText"],transform:["transform"],transformAndFill:["transform","fillColor"]},Ke={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function Fm(s,t){if(!t)return;const e=t[2]-t[0],i=t[3]-t[1],a=new Path2D;a.rect(t[0],t[1],e,i),s.clip(a)}class Jg{isModifyingCurrentTransform(){return!1}getPattern(){te("Abstract method `getPattern` called.")}}class RP extends Jg{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let e;this._type==="axial"?e=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(e=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const i of this._colorStops)e.addColorStop(i[0],i[1]);return e}getPattern(t,e,i,a){let o;if(a===Ke.STROKE||a===Ke.FILL){const l=e.current.getClippedPathBoundingBox(a,de(t))||[0,0,0,0],u=Math.ceil(l[2]-l[0])||1,d=Math.ceil(l[3]-l[1])||1,f=e.cachedCanvases.getCanvas("pattern",u,d),p=f.context;p.clearRect(0,0,p.canvas.width,p.canvas.height),p.beginPath(),p.rect(0,0,p.canvas.width,p.canvas.height),p.translate(-l[0],-l[1]),i=ut.transform(i,[1,0,0,1,l[0],l[1]]),p.transform(...e.baseTransform),this.matrix&&p.transform(...this.matrix),Fm(p,this._bbox),p.fillStyle=this._createGradient(p),p.fill(),o=t.createPattern(f.canvas,"no-repeat");const g=new DOMMatrix(i);o.setTransform(g)}else Fm(t,this._bbox),o=this._createGradient(t);return o}}function zp(s,t,e,i,a,o,l,u){const d=t.coords,f=t.colors,p=s.data,g=s.width*4;let b;d[e+1]>d[i+1]&&(b=e,e=i,i=b,b=o,o=l,l=b),d[i+1]>d[a+1]&&(b=i,i=a,a=b,b=l,l=u,u=b),d[e+1]>d[i+1]&&(b=e,e=i,i=b,b=o,o=l,l=b);const v=(d[e]+t.offsetX)*t.scaleX,w=(d[e+1]+t.offsetY)*t.scaleY,A=(d[i]+t.offsetX)*t.scaleX,E=(d[i+1]+t.offsetY)*t.scaleY,T=(d[a]+t.offsetX)*t.scaleX,_=(d[a+1]+t.offsetY)*t.scaleY;if(w>=_)return;const C=f[o],j=f[o+1],M=f[o+2],R=f[l],D=f[l+1],P=f[l+2],X=f[u],V=f[u+1],W=f[u+2],rt=Math.round(w),ft=Math.round(_);let et,at,z,q,I,it,dt,O;for(let $=rt;$<=ft;$++){if($<E){const bt=$<w?0:(w-$)/(w-E);et=v-(v-A)*bt,at=C-(C-R)*bt,z=j-(j-D)*bt,q=M-(M-P)*bt}else{let bt;$>_?bt=1:E===_?bt=0:bt=(E-$)/(E-_),et=A-(A-T)*bt,at=R-(R-X)*bt,z=D-(D-V)*bt,q=P-(P-W)*bt}let J;$<w?J=0:$>_?J=1:J=(w-$)/(w-_),I=v-(v-T)*J,it=C-(C-X)*J,dt=j-(j-V)*J,O=M-(M-W)*J;const nt=Math.round(Math.min(et,I)),pt=Math.round(Math.max(et,I));let mt=g*$+nt*4;for(let bt=nt;bt<=pt;bt++)J=(et-bt)/(et-I),J<0?J=0:J>1&&(J=1),p[mt++]=at-(at-it)*J|0,p[mt++]=z-(z-dt)*J|0,p[mt++]=q-(q-O)*J|0,p[mt++]=255}}function OP(s,t,e){const i=t.coords,a=t.colors;let o,l;switch(t.type){case Mm.LATTICE:const u=t.verticesPerRow,d=Math.floor(i.length/u)-1,f=u-1;for(o=0;o<d;o++){let p=o*u;for(let g=0;g<f;g++,p++)zp(s,e,i[p],i[p+1],i[p+u],a[p],a[p+1],a[p+u]),zp(s,e,i[p+u+1],i[p+1],i[p+u],a[p+u+1],a[p+1],a[p+u])}break;case Mm.TRIANGLES:for(o=0,l=i.length;o<l;o+=3)zp(s,e,i[o],i[o+1],i[o+2],a[o],a[o+1],a[o+2]);break;default:throw new Error("illegal figure")}}class LP extends Jg{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[6],this._background=t[7],this.matrix=null}_createMeshCanvas(t,e,i){const u=Math.floor(this._bounds[0]),d=Math.floor(this._bounds[1]),f=Math.ceil(this._bounds[2])-u,p=Math.ceil(this._bounds[3])-d,g=Math.min(Math.ceil(Math.abs(f*t[0]*1.1)),3e3),b=Math.min(Math.ceil(Math.abs(p*t[1]*1.1)),3e3),v=f/g,w=p/b,A={coords:this._coords,colors:this._colors,offsetX:-u,offsetY:-d,scaleX:1/v,scaleY:1/w},E=g+4,T=b+4,_=i.getCanvas("mesh",E,T),C=_.context,j=C.createImageData(g,b);if(e){const R=j.data;for(let D=0,P=R.length;D<P;D+=4)R[D]=e[0],R[D+1]=e[1],R[D+2]=e[2],R[D+3]=255}for(const R of this._figures)OP(j,R,A);return C.putImageData(j,2,2),{canvas:_.canvas,offsetX:u-2*v,offsetY:d-2*w,scaleX:v,scaleY:w}}isModifyingCurrentTransform(){return!0}getPattern(t,e,i,a){Fm(t,this._bbox);const o=new Float32Array(2);if(a===Ke.SHADING)ut.singularValueDecompose2dScale(de(t),o);else if(this.matrix){ut.singularValueDecompose2dScale(this.matrix,o);const[u,d]=o;ut.singularValueDecompose2dScale(e.baseTransform,o),o[0]*=u,o[1]*=d}else ut.singularValueDecompose2dScale(e.baseTransform,o);const l=this._createMeshCanvas(o,a===Ke.SHADING?null:this._background,e.cachedCanvases);return a!==Ke.SHADING&&(t.setTransform(...e.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(l.offsetX,l.offsetY),t.scale(l.scaleX,l.scaleY),t.createPattern(l.canvas,"no-repeat")}}class PP extends Jg{getPattern(){return"hotpink"}}function BP(s){switch(s[0]){case"RadialAxial":return new RP(s);case"Mesh":return new LP(s);case"Dummy":return new PP}throw new Error(`Unknown IR type: ${s[0]}`)}const Ow={COLORED:1,UNCOLORED:2};class t0{static MAX_PATTERN_SIZE=3e3;constructor(t,e,i,a){this.color=t[1],this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.ctx=e,this.canvasGraphicsFactory=i,this.baseTransform=a}createPatternCanvas(t,e){const{bbox:i,operatorList:a,paintType:o,tilingType:l,color:u,canvasGraphicsFactory:d}=this;let{xstep:f,ystep:p}=this;f=Math.abs(f),p=Math.abs(p),jd("TilingType: "+l);const g=i[0],b=i[1],v=i[2],w=i[3],A=v-g,E=w-b,T=new Float32Array(2);ut.singularValueDecompose2dScale(this.matrix,T);const[_,C]=T;ut.singularValueDecompose2dScale(this.baseTransform,T);const j=_*T[0],M=C*T[1];let R=A,D=E,P=!1,X=!1;const V=Math.ceil(f*j),W=Math.ceil(p*M),rt=Math.ceil(A*j),ft=Math.ceil(E*M);V>=rt?R=f:P=!0,W>=ft?D=p:X=!0;const et=this.getSizeAndScale(R,this.ctx.canvas.width,j),at=this.getSizeAndScale(D,this.ctx.canvas.height,M),z=t.cachedCanvases.getCanvas("pattern",et.size,at.size),q=z.context,I=d.createCanvasGraphics(q,e);if(I.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(I,o,u),q.translate(-et.scale*g,-at.scale*b),I.transform(0,et.scale,0,0,at.scale,0,0),q.save(),I.dependencyTracker?.save(),this.clipBbox(I,g,b,v,w),I.baseTransform=de(I.ctx),I.executeOperatorList(a),I.endDrawing(),I.dependencyTracker?.restore(),q.restore(),P||X){const it=z.canvas;P&&(R=f),X&&(D=p);const dt=this.getSizeAndScale(R,this.ctx.canvas.width,j),O=this.getSizeAndScale(D,this.ctx.canvas.height,M),$=dt.size,J=O.size,nt=t.cachedCanvases.getCanvas("pattern-workaround",$,J),pt=nt.context,mt=P?Math.floor(A/f):0,bt=X?Math.floor(E/p):0;for(let ne=0;ne<=mt;ne++)for(let Ht=0;Ht<=bt;Ht++)pt.drawImage(it,$*ne,J*Ht,$,J,0,0,$,J);return{canvas:nt.canvas,scaleX:dt.scale,scaleY:O.scale,offsetX:g,offsetY:b}}return{canvas:z.canvas,scaleX:et.scale,scaleY:at.scale,offsetX:g,offsetY:b}}getSizeAndScale(t,e,i){const a=Math.max(t0.MAX_PATTERN_SIZE,e);let o=Math.ceil(t*i);return o>=a?o=a:i=o/t,{scale:i,size:o}}clipBbox(t,e,i,a,o){const l=a-e,u=o-i;t.ctx.rect(e,i,l,u),ut.axialAlignedBoundingBox([e,i,a,o],de(t.ctx),t.current.minMax),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,e,i){const a=t.ctx,o=t.current;switch(e){case Ow.COLORED:const{fillStyle:l,strokeStyle:u}=this.ctx;a.fillStyle=o.fillColor=l,a.strokeStyle=o.strokeColor=u;break;case Ow.UNCOLORED:a.fillStyle=a.strokeStyle=i,o.fillColor=o.strokeColor=i;break;default:throw new WL(`Unsupported paint type: ${e}`)}}isModifyingCurrentTransform(){return!1}getPattern(t,e,i,a,o){let l=i;a!==Ke.SHADING&&(l=ut.transform(l,e.baseTransform),this.matrix&&(l=ut.transform(l,this.matrix)));const u=this.createPatternCanvas(e,o);let d=new DOMMatrix(l);d=d.translate(u.offsetX,u.offsetY),d=d.scale(1/u.scaleX,1/u.scaleY);const f=t.createPattern(u.canvas,"repeat");return f.setTransform(d),f}}function zP({src:s,srcPos:t=0,dest:e,width:i,height:a,nonBlackColor:o=4294967295,inverseDecode:l=!1}){const u=We.isLittleEndian?4278190080:255,[d,f]=l?[o,u]:[u,o],p=i>>3,g=i&7,b=s.length;e=new Uint32Array(e.buffer);let v=0;for(let w=0;w<a;w++){for(const E=t+p;t<E;t++){const T=t<b?s[t]:255;e[v++]=T&128?f:d,e[v++]=T&64?f:d,e[v++]=T&32?f:d,e[v++]=T&16?f:d,e[v++]=T&8?f:d,e[v++]=T&4?f:d,e[v++]=T&2?f:d,e[v++]=T&1?f:d}if(g===0)continue;const A=t<b?s[t++]:255;for(let E=0;E<g;E++)e[v++]=A&1<<7-E?f:d}return{srcPos:t,destPos:v}}const Lw=16,Pw=100,FP=15,Bw=10,gi=16,Fp=new DOMMatrix,ki=new Float32Array(2),kr=new Float32Array([1/0,1/0,-1/0,-1/0]);function IP(s,t){if(s._removeMirroring)throw new Error("Context is already forwarding operations.");s.__originalSave=s.save,s.__originalRestore=s.restore,s.__originalRotate=s.rotate,s.__originalScale=s.scale,s.__originalTranslate=s.translate,s.__originalTransform=s.transform,s.__originalSetTransform=s.setTransform,s.__originalResetTransform=s.resetTransform,s.__originalClip=s.clip,s.__originalMoveTo=s.moveTo,s.__originalLineTo=s.lineTo,s.__originalBezierCurveTo=s.bezierCurveTo,s.__originalRect=s.rect,s.__originalClosePath=s.closePath,s.__originalBeginPath=s.beginPath,s._removeMirroring=()=>{s.save=s.__originalSave,s.restore=s.__originalRestore,s.rotate=s.__originalRotate,s.scale=s.__originalScale,s.translate=s.__originalTranslate,s.transform=s.__originalTransform,s.setTransform=s.__originalSetTransform,s.resetTransform=s.__originalResetTransform,s.clip=s.__originalClip,s.moveTo=s.__originalMoveTo,s.lineTo=s.__originalLineTo,s.bezierCurveTo=s.__originalBezierCurveTo,s.rect=s.__originalRect,s.closePath=s.__originalClosePath,s.beginPath=s.__originalBeginPath,delete s._removeMirroring},s.save=function(){t.save(),this.__originalSave()},s.restore=function(){t.restore(),this.__originalRestore()},s.translate=function(e,i){t.translate(e,i),this.__originalTranslate(e,i)},s.scale=function(e,i){t.scale(e,i),this.__originalScale(e,i)},s.transform=function(e,i,a,o,l,u){t.transform(e,i,a,o,l,u),this.__originalTransform(e,i,a,o,l,u)},s.setTransform=function(e,i,a,o,l,u){t.setTransform(e,i,a,o,l,u),this.__originalSetTransform(e,i,a,o,l,u)},s.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},s.rotate=function(e){t.rotate(e),this.__originalRotate(e)},s.clip=function(e){t.clip(e),this.__originalClip(e)},s.moveTo=function(e,i){t.moveTo(e,i),this.__originalMoveTo(e,i)},s.lineTo=function(e,i){t.lineTo(e,i),this.__originalLineTo(e,i)},s.bezierCurveTo=function(e,i,a,o,l,u){t.bezierCurveTo(e,i,a,o,l,u),this.__originalBezierCurveTo(e,i,a,o,l,u)},s.rect=function(e,i,a,o){t.rect(e,i,a,o),this.__originalRect(e,i,a,o)},s.closePath=function(){t.closePath(),this.__originalClosePath()},s.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}class UP{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,e,i){let a;return this.cache[t]!==void 0?(a=this.cache[t],this.canvasFactory.reset(a,e,i)):(a=this.canvasFactory.create(e,i),this.cache[t]=a),a}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const e=this.cache[t];this.canvasFactory.destroy(e),delete this.cache[t]}}}function Mu(s,t,e,i,a,o,l,u,d,f){const[p,g,b,v,w,A]=de(s);if(g===0&&b===0){const _=l*p+w,C=Math.round(_),j=u*v+A,M=Math.round(j),R=(l+d)*p+w,D=Math.abs(Math.round(R)-C)||1,P=(u+f)*v+A,X=Math.abs(Math.round(P)-M)||1;return s.setTransform(Math.sign(p),0,0,Math.sign(v),C,M),s.drawImage(t,e,i,a,o,0,0,D,X),s.setTransform(p,g,b,v,w,A),[D,X]}if(p===0&&v===0){const _=u*b+w,C=Math.round(_),j=l*g+A,M=Math.round(j),R=(u+f)*b+w,D=Math.abs(Math.round(R)-C)||1,P=(l+d)*g+A,X=Math.abs(Math.round(P)-M)||1;return s.setTransform(0,Math.sign(g),Math.sign(b),0,C,M),s.drawImage(t,e,i,a,o,0,0,X,D),s.setTransform(p,g,b,v,w,A),[X,D]}s.drawImage(t,e,i,a,o,l,u,d,f);const E=Math.hypot(p,g),T=Math.hypot(b,v);return[E*d,T*f]}class zw{alphaIsShape=!1;fontSize=0;fontSizeScale=1;textMatrix=null;textMatrixScale=1;fontMatrix=jm;leading=0;x=0;y=0;lineX=0;lineY=0;charSpacing=0;wordSpacing=0;textHScale=1;textRenderingMode=$e.FILL;textRise=0;fillColor="#000000";strokeColor="#000000";patternFill=!1;patternStroke=!1;fillAlpha=1;strokeAlpha=1;lineWidth=1;activeSMask=null;transferMaps="none";constructor(t,e,i){i?.(this),this.clipBox=new Float32Array([0,0,t,e]),this.minMax=kr.slice()}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t.minMax=this.minMax.slice(),t}getPathBoundingBox(t=Ke.FILL,e=null){const i=this.minMax.slice();if(t===Ke.STROKE){e||te("Stroke bounding box must include transform."),ut.singularValueDecompose2dScale(e,ki);const a=ki[0]*this.lineWidth/2,o=ki[1]*this.lineWidth/2;i[0]-=a,i[1]-=o,i[2]+=a,i[3]+=o}return i}updateClipFromPath(){const t=ut.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(t){this.clipBox.set(t,0),this.minMax.set(kr,0)}getClippedPathBoundingBox(t=Ke.FILL,e=null){return ut.intersect(this.clipBox,this.getPathBoundingBox(t,e))}}function Fw(s,t){if(t instanceof ImageData){s.putImageData(t,0,0);return}const e=t.height,i=t.width,a=e%gi,o=(e-a)/gi,l=a===0?o:o+1,u=s.createImageData(i,gi);let d=0,f;const p=t.data,g=u.data;let b,v,w,A;if(t.kind===Gu.GRAYSCALE_1BPP){const E=p.byteLength,T=new Uint32Array(g.buffer,0,g.byteLength>>2),_=T.length,C=i+7>>3,j=4294967295,M=We.isLittleEndian?4278190080:255;for(b=0;b<l;b++){for(w=b<o?gi:a,f=0,v=0;v<w;v++){const R=E-d;let D=0;const P=R>C?i:R*8-7,X=P&-8;let V=0,W=0;for(;D<X;D+=8)W=p[d++],T[f++]=W&128?j:M,T[f++]=W&64?j:M,T[f++]=W&32?j:M,T[f++]=W&16?j:M,T[f++]=W&8?j:M,T[f++]=W&4?j:M,T[f++]=W&2?j:M,T[f++]=W&1?j:M;for(;D<P;D++)V===0&&(W=p[d++],V=128),T[f++]=W&V?j:M,V>>=1}for(;f<_;)T[f++]=0;s.putImageData(u,0,b*gi)}}else if(t.kind===Gu.RGBA_32BPP){for(v=0,A=i*gi*4,b=0;b<o;b++)g.set(p.subarray(d,d+A)),d+=A,s.putImageData(u,0,v),v+=gi;b<l&&(A=i*a*4,g.set(p.subarray(d,d+A)),s.putImageData(u,0,v))}else if(t.kind===Gu.RGB_24BPP)for(w=gi,A=i*w,b=0;b<l;b++){for(b>=o&&(w=a,A=i*w),f=0,v=A;v--;)g[f++]=p[d++],g[f++]=p[d++],g[f++]=p[d++],g[f++]=255;s.putImageData(u,0,b*gi)}else throw new Error(`bad image kind: ${t.kind}`)}function Iw(s,t){if(t.bitmap){s.drawImage(t.bitmap,0,0);return}const e=t.height,i=t.width,a=e%gi,o=(e-a)/gi,l=a===0?o:o+1,u=s.createImageData(i,gi);let d=0;const f=t.data,p=u.data;for(let g=0;g<l;g++){const b=g<o?gi:a;({srcPos:d}=zP({src:f,srcPos:d,dest:p,width:i,height:b,nonBlackColor:0})),s.putImageData(u,0,g*gi)}}function nl(s,t){const e=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const i of e)s[i]!==void 0&&(t[i]=s[i]);s.setLineDash!==void 0&&(t.setLineDash(s.getLineDash()),t.lineDashOffset=s.lineDashOffset)}function Du(s){s.strokeStyle=s.fillStyle="#000000",s.fillRule="nonzero",s.globalAlpha=1,s.lineWidth=1,s.lineCap="butt",s.lineJoin="miter",s.miterLimit=10,s.globalCompositeOperation="source-over",s.font="10px sans-serif",s.setLineDash!==void 0&&(s.setLineDash([]),s.lineDashOffset=0);const{filter:t}=s;t!=="none"&&t!==""&&(s.filter="none")}function Uw(s,t){if(t)return!0;ut.singularValueDecompose2dScale(s,ki);const e=Math.fround(Sn.pixelRatio*qr.PDF_TO_CSS_UNITS);return ki[0]<=e&&ki[1]<=e}const HP=["butt","round","square"],VP=["miter","round","bevel"],qP={},Hw={};class Lr{constructor(t,e,i,a,o,{optionalContentConfig:l,markedContentStack:u=null},d,f,p){this.ctx=t,this.current=new zw(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=i,this.canvasFactory=a,this.filterFactory=o,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=u||[],this.optionalContentConfig=l,this.cachedCanvases=new UP(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=d,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=f,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=p??null}getObject(t,e,i=null){return typeof e=="string"?(this.dependencyTracker?.recordNamedDependency(t,e),e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e)):i}beginDrawing({transform:t,viewport:e,transparency:i=!1,background:a=null}){const o=this.ctx.canvas.width,l=this.ctx.canvas.height,u=this.ctx.fillStyle;if(this.ctx.fillStyle=a||"#ffffff",this.ctx.fillRect(0,0,o,l),this.ctx.fillStyle=u,i){const d=this.cachedCanvases.getCanvas("transparent",o,l);this.compositeCtx=this.ctx,this.transparentCanvas=d.canvas,this.ctx=d.context,this.ctx.save(),this.ctx.transform(...de(this.compositeCtx))}this.ctx.save(),Du(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...e.transform),this.viewportScale=e.scale,this.baseTransform=de(this.ctx)}executeOperatorList(t,e,i,a,o){const l=t.argsArray,u=t.fnArray;let d=e||0;const f=l.length;if(f===d)return d;const p=f-d>Bw&&typeof i=="function",g=p?Date.now()+FP:0;let b=0;const v=this.commonObjs,w=this.objs;let A,E;for(;;){if(a!==void 0&&d===a.nextBreakPoint)return a.breakIt(d,i),d;if(!o||o(d))if(A=u[d],E=l[d]??null,A!==kl.dependency)E===null?this[A](d):this[A](d,...E);else for(const T of E){this.dependencyTracker?.recordNamedData(T,d);const _=T.startsWith("g_")?v:w;if(!_.has(T))return _.get(T,i),d}if(d++,d===f)return d;if(p&&++b>Bw){if(Date.now()>g)return i(),d;b=0}}}#t(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#t(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const e of t.values())typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);t.clear()}this._cachedBitmapsMap.clear(),this.#e()}#e(){if(this.pageColors){const t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(t!=="none"){const e=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=e}}}_scaleImage(t,e){const i=t.width??t.displayWidth,a=t.height??t.displayHeight;let o=Math.max(Math.hypot(e[0],e[1]),1),l=Math.max(Math.hypot(e[2],e[3]),1),u=i,d=a,f="prescale1",p,g;for(;o>2&&u>1||l>2&&d>1;){let b=u,v=d;o>2&&u>1&&(b=u>=16384?Math.floor(u/2)-1||1:Math.ceil(u/2),o/=u/b),l>2&&d>1&&(v=d>=16384?Math.floor(d/2)-1||1:Math.ceil(d)/2,l/=d/v),p=this.cachedCanvases.getCanvas(f,b,v),g=p.context,g.clearRect(0,0,b,v),g.drawImage(t,0,0,u,d,0,0,b,v),t=p.canvas,u=b,d=v,f=f==="prescale1"?"prescale2":"prescale1"}return{img:t,paintWidth:u,paintHeight:d}}_createMaskCanvas(t,e){const i=this.ctx,{width:a,height:o}=e,l=this.current.fillColor,u=this.current.patternFill,d=de(i);let f,p,g,b;if((e.bitmap||e.data)&&e.count>1){const V=e.bitmap||e.data.buffer;p=JSON.stringify(u?d:[d.slice(0,4),l]),f=this._cachedBitmapsMap.get(V),f||(f=new Map,this._cachedBitmapsMap.set(V,f));const W=f.get(p);if(W&&!u){const rt=Math.round(Math.min(d[0],d[2])+d[4]),ft=Math.round(Math.min(d[1],d[3])+d[5]);return this.dependencyTracker?.recordDependencies(t,qi.transformAndFill),{canvas:W,offsetX:rt,offsetY:ft}}g=W}g||(b=this.cachedCanvases.getCanvas("maskCanvas",a,o),Iw(b.context,e));let v=ut.transform(d,[1/a,0,0,-1/o,0,0]);v=ut.transform(v,[1,0,0,1,0,-o]);const w=kr.slice();ut.axialAlignedBoundingBox([0,0,a,o],v,w);const[A,E,T,_]=w,C=Math.round(T-A)||1,j=Math.round(_-E)||1,M=this.cachedCanvases.getCanvas("fillCanvas",C,j),R=M.context,D=A,P=E;R.translate(-D,-P),R.transform(...v),g||(g=this._scaleImage(b.canvas,gn(R)),g=g.img,f&&u&&f.set(p,g)),R.imageSmoothingEnabled=Uw(de(R),e.interpolate),Mu(R,g,0,0,g.width,g.height,0,0,a,o),R.globalCompositeOperation="source-in";const X=ut.transform(gn(R),[1,0,0,1,-D,-P]);return R.fillStyle=u?l.getPattern(i,this,X,Ke.FILL,t):l,R.fillRect(0,0,a,o),f&&!u&&(this.cachedCanvases.delete("fillCanvas"),f.set(p,M.canvas)),this.dependencyTracker?.recordDependencies(t,qi.transformAndFill),{canvas:M.canvas,offsetX:Math.round(D),offsetY:Math.round(P)}}setLineWidth(t,e){this.dependencyTracker?.recordSimpleData("lineWidth",t),e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(t,e){this.dependencyTracker?.recordSimpleData("lineCap",t),this.ctx.lineCap=HP[e]}setLineJoin(t,e){this.dependencyTracker?.recordSimpleData("lineJoin",t),this.ctx.lineJoin=VP[e]}setMiterLimit(t,e){this.dependencyTracker?.recordSimpleData("miterLimit",t),this.ctx.miterLimit=e}setDash(t,e,i){this.dependencyTracker?.recordSimpleData("dash",t);const a=this.ctx;a.setLineDash!==void 0&&(a.setLineDash(e),a.lineDashOffset=i)}setRenderingIntent(t,e){}setFlatness(t,e){}setGState(t,e){for(const[i,a]of e)switch(i){case"LW":this.setLineWidth(t,a);break;case"LC":this.setLineCap(t,a);break;case"LJ":this.setLineJoin(t,a);break;case"ML":this.setMiterLimit(t,a);break;case"D":this.setDash(t,a[0],a[1]);break;case"RI":this.setRenderingIntent(t,a);break;case"FL":this.setFlatness(t,a);break;case"Font":this.setFont(t,a[0],a[1]);break;case"CA":this.dependencyTracker?.recordSimpleData("strokeAlpha",t),this.current.strokeAlpha=a;break;case"ca":this.dependencyTracker?.recordSimpleData("fillAlpha",t),this.ctx.globalAlpha=this.current.fillAlpha=a;break;case"BM":this.dependencyTracker?.recordSimpleData("globalCompositeOperation",t),this.ctx.globalCompositeOperation=a;break;case"SMask":this.dependencyTracker?.recordSimpleData("SMask",t),this.current.activeSMask=a?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.dependencyTracker?.recordSimpleData("filter",t),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(a);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(t){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,i=this.ctx.canvas.height,a="smaskGroupAt"+this.groupLevel,o=this.cachedCanvases.getCanvas(a,e,i);this.suspendedCtx=this.ctx;const l=this.ctx=o.context;l.setTransform(this.suspendedCtx.getTransform()),nl(this.suspendedCtx,l),IP(l,this.suspendedCtx),this.setGState(t,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),nl(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const e=this.current.activeSMask,i=this.suspendedCtx;this.composeSMask(i,e,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(t,e,i,a){const o=a[0],l=a[1],u=a[2]-o,d=a[3]-l;u===0||d===0||(this.genericComposeSMask(e.context,i,u,d,e.subtype,e.backdrop,e.transferMap,o,l,e.offsetX,e.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(i.canvas,0,0),t.restore())}genericComposeSMask(t,e,i,a,o,l,u,d,f,p,g){let b=t.canvas,v=d-p,w=f-g;if(l)if(v<0||w<0||v+i>b.width||w+a>b.height){const E=this.cachedCanvases.getCanvas("maskExtension",i,a),T=E.context;T.drawImage(b,-v,-w),T.globalCompositeOperation="destination-atop",T.fillStyle=l,T.fillRect(0,0,i,a),T.globalCompositeOperation="source-over",b=E.canvas,v=w=0}else{t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);const E=new Path2D;E.rect(v,w,i,a),t.clip(E),t.globalCompositeOperation="destination-atop",t.fillStyle=l,t.fillRect(v,w,i,a),t.restore()}e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0),o==="Alpha"&&u?e.filter=this.filterFactory.addAlphaFilter(u):o==="Luminosity"&&(e.filter=this.filterFactory.addLuminosityFilter(u));const A=new Path2D;A.rect(d,f,i,a),e.clip(A),e.globalCompositeOperation="destination-in",e.drawImage(b,v,w,i,a,d,f,i,a),e.restore()}save(t){this.inSMaskMode&&nl(this.ctx,this.suspendedCtx),this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone(),this.dependencyTracker?.save(t)}restore(t){if(this.dependencyTracker?.restore(t),this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&nl(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(t,e,i,a,o,l,u){this.dependencyTracker?.recordIncrementalData("transform",t),this.ctx.transform(e,i,a,o,l,u),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,e,i,a){let[o]=i;if(!a){o||=i[0]=new Path2D,this[e](t,o);return}if(this.dependencyTracker!==null){const l=e===kl.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(t).recordBBox(t,this.ctx,a[0]-l,a[2]+l,a[1]-l,a[3]+l).recordDependencies(t,["transform"])}o instanceof Path2D||(o=i[0]=QS(o)),ut.axialAlignedBoundingBox(a,de(this.ctx),this.current.minMax),this[e](t,o),this._pathStartIdx=t}closePath(t){this.ctx.closePath()}stroke(t,e,i=!0){const a=this.ctx,o=this.current.strokeColor;if(a.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof o=="object"&&o?.getPattern){const l=o.isModifyingCurrentTransform()?a.getTransform():null;if(a.save(),a.strokeStyle=o.getPattern(a,this,gn(a),Ke.STROKE,t),l){const u=new Path2D;u.addPath(e,a.getTransform().invertSelf().multiplySelf(l)),e=u}this.rescaleAndStroke(e,!1),a.restore()}else this.rescaleAndStroke(e,!0);this.dependencyTracker?.recordDependencies(t,qi.stroke),i&&this.consumePath(t,e,this.current.getClippedPathBoundingBox(Ke.STROKE,de(this.ctx))),a.globalAlpha=this.current.fillAlpha}closeStroke(t,e){this.stroke(t,e)}fill(t,e,i=!0){const a=this.ctx,o=this.current.fillColor,l=this.current.patternFill;let u=!1;if(l){const f=o.isModifyingCurrentTransform()?a.getTransform():null;if(this.dependencyTracker?.save(t),a.save(),a.fillStyle=o.getPattern(a,this,gn(a),Ke.FILL,t),f){const p=new Path2D;p.addPath(e,a.getTransform().invertSelf().multiplySelf(f)),e=p}u=!0}const d=this.current.getClippedPathBoundingBox();this.contentVisible&&d!==null&&(this.pendingEOFill?(a.fill(e,"evenodd"),this.pendingEOFill=!1):a.fill(e)),this.dependencyTracker?.recordDependencies(t,qi.fill),u&&(a.restore(),this.dependencyTracker?.restore(t)),i&&this.consumePath(t,e,d)}eoFill(t,e){this.pendingEOFill=!0,this.fill(t,e)}fillStroke(t,e){this.fill(t,e,!1),this.stroke(t,e,!1),this.consumePath(t,e)}eoFillStroke(t,e){this.pendingEOFill=!0,this.fillStroke(t,e)}closeFillStroke(t,e){this.fillStroke(t,e)}closeEOFillStroke(t,e){this.pendingEOFill=!0,this.fillStroke(t,e)}endPath(t,e){this.consumePath(t,e)}rawFillPath(t,e){this.ctx.fill(e),this.dependencyTracker?.recordDependencies(t,qi.rawFillPath).recordOperation(t)}clip(t){this.dependencyTracker?.recordFutureForcedDependency("clipMode",t),this.pendingClip=qP}eoClip(t){this.dependencyTracker?.recordFutureForcedDependency("clipMode",t),this.pendingClip=Hw}beginText(t){this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,this.dependencyTracker?.recordOpenMarker(t).resetIncrementalData("sameLineText").resetIncrementalData("moveText",t)}endText(t){const e=this.pendingTextPaths,i=this.ctx;if(this.dependencyTracker){const{dependencyTracker:a}=this;e!==void 0&&a.recordFutureForcedDependency("textClip",a.getOpenMarker()).recordFutureForcedDependency("textClip",t),a.recordCloseMarker(t)}if(e!==void 0){const a=new Path2D,o=i.getTransform().invertSelf();for(const{transform:l,x:u,y:d,fontSize:f,path:p}of e)p&&a.addPath(p,new DOMMatrix(l).preMultiplySelf(o).translate(u,d).scale(f,-f));i.clip(a)}delete this.pendingTextPaths}setCharSpacing(t,e){this.dependencyTracker?.recordSimpleData("charSpacing",t),this.current.charSpacing=e}setWordSpacing(t,e){this.dependencyTracker?.recordSimpleData("wordSpacing",t),this.current.wordSpacing=e}setHScale(t,e){this.dependencyTracker?.recordSimpleData("hScale",t),this.current.textHScale=e/100}setLeading(t,e){this.dependencyTracker?.recordSimpleData("leading",t),this.current.leading=-e}setFont(t,e,i){this.dependencyTracker?.recordSimpleData("font",t).recordSimpleDataFromNamed("fontObj",e,t);const a=this.commonObjs.get(e),o=this.current;if(!a)throw new Error(`Can't find font for ${e}`);if(o.fontMatrix=a.fontMatrix||jm,(o.fontMatrix[0]===0||o.fontMatrix[3]===0)&&Et("Invalid font matrix for font "+e),i<0?(i=-i,o.fontDirection=-1):o.fontDirection=1,this.current.font=a,this.current.fontSize=i,a.isType3Font)return;const l=a.loadedName||"sans-serif",u=a.systemFontInfo?.css||`"${l}", ${a.fallbackName}`;let d="normal";a.black?d="900":a.bold&&(d="bold");const f=a.italic?"italic":"normal";let p=i;i<Lw?p=Lw:i>Pw&&(p=Pw),this.current.fontSizeScale=i/p,this.ctx.font=`${f} ${d} ${p}px ${u}`}setTextRenderingMode(t,e){this.dependencyTracker?.recordSimpleData("textRenderingMode",t),this.current.textRenderingMode=e}setTextRise(t,e){this.dependencyTracker?.recordSimpleData("textRise",t),this.current.textRise=e}moveText(t,e,i){this.dependencyTracker?.resetIncrementalData("sameLineText").recordIncrementalData("moveText",t),this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=i}setLeadingMoveText(t,e,i){this.setLeading(t,-i),this.moveText(t,e,i)}setTextMatrix(t,e){this.dependencyTracker?.resetIncrementalData("sameLineText").recordSimpleData("textMatrix",t);const{current:i}=this;i.textMatrix=e,i.textMatrixScale=Math.hypot(e[0],e[1]),i.x=i.lineX=0,i.y=i.lineY=0}nextLine(t){this.moveText(t,0,this.current.leading),this.dependencyTracker?.recordIncrementalData("moveText",this.dependencyTracker.getSimpleIndex("leading")??t)}#n(t,e,i){const a=new Path2D;return a.addPath(t,new DOMMatrix(i).invertSelf().multiplySelf(e)),a}paintChar(t,e,i,a,o,l){const u=this.ctx,d=this.current,f=d.font,p=d.textRenderingMode,g=d.fontSize/d.fontSizeScale,b=p&$e.FILL_STROKE_MASK,v=!!(p&$e.ADD_TO_PATH_FLAG),w=d.patternFill&&!f.missingFile,A=d.patternStroke&&!f.missingFile;let E;if((f.disableFontFace||v||w||A)&&!f.missingFile&&(E=f.getPathGenerator(this.commonObjs,e)),E&&(f.disableFontFace||w||A)){u.save(),u.translate(i,a),u.scale(g,-g),this.dependencyTracker?.recordCharacterBBox(t,u,f);let T;if(b===$e.FILL||b===$e.FILL_STROKE)if(o){T=u.getTransform(),u.setTransform(...o);const _=this.#n(E,T,o);u.fill(_)}else u.fill(E);if(b===$e.STROKE||b===$e.FILL_STROKE)if(l){T||=u.getTransform(),u.setTransform(...l);const{a:_,b:C,c:j,d:M}=T,R=ut.inverseTransform(l),D=ut.transform([_,C,j,M,0,0],R);ut.singularValueDecompose2dScale(D,ki),u.lineWidth*=Math.max(ki[0],ki[1])/g,u.stroke(this.#n(E,T,l))}else u.lineWidth/=g,u.stroke(E);u.restore()}else(b===$e.FILL||b===$e.FILL_STROKE)&&(u.fillText(e,i,a),this.dependencyTracker?.recordCharacterBBox(t,u,f,g,i,a,()=>u.measureText(e))),(b===$e.STROKE||b===$e.FILL_STROKE)&&(this.dependencyTracker&&this.dependencyTracker?.recordCharacterBBox(t,u,f,g,i,a,()=>u.measureText(e)).recordDependencies(t,qi.stroke),u.strokeText(e,i,a));v&&((this.pendingTextPaths||=[]).push({transform:de(u),x:i,y:a,fontSize:g,path:E}),this.dependencyTracker?.recordCharacterBBox(t,u,f,g,i,a))}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const e=t.getImageData(0,0,10,10).data;let i=!1;for(let a=3;a<e.length;a+=4)if(e[a]>0&&e[a]<255){i=!0;break}return Tt(this,"isFontSubpixelAAEnabled",i)}showText(t,e){this.dependencyTracker&&(this.dependencyTracker.recordDependencies(t,qi.showText).resetBBox(t),this.current.textRenderingMode&$e.ADD_TO_PATH_FLAG&&this.dependencyTracker.recordFutureForcedDependency("textClip",t).inheritPendingDependenciesAsFutureForcedDependencies());const i=this.current,a=i.font;if(a.isType3Font){this.showType3Text(t,e),this.dependencyTracker?.recordShowTextOperation(t);return}const o=i.fontSize;if(o===0){this.dependencyTracker?.recordOperation(t);return}const l=this.ctx,u=i.fontSizeScale,d=i.charSpacing,f=i.wordSpacing,p=i.fontDirection,g=i.textHScale*p,b=e.length,v=a.vertical,w=v?1:-1,A=a.defaultVMetrics,E=o*i.fontMatrix[0],T=i.textRenderingMode===$e.FILL&&!a.disableFontFace&&!i.patternFill;l.save(),i.textMatrix&&l.transform(...i.textMatrix),l.translate(i.x,i.y+i.textRise),p>0?l.scale(g,-1):l.scale(g,1);let _,C;if(i.patternFill){l.save();const P=i.fillColor.getPattern(l,this,gn(l),Ke.FILL,t);_=de(l),l.restore(),l.fillStyle=P}if(i.patternStroke){l.save();const P=i.strokeColor.getPattern(l,this,gn(l),Ke.STROKE,t);C=de(l),l.restore(),l.strokeStyle=P}let j=i.lineWidth;const M=i.textMatrixScale;if(M===0||j===0){const P=i.textRenderingMode&$e.FILL_STROKE_MASK;(P===$e.STROKE||P===$e.FILL_STROKE)&&(j=this.getSinglePixelWidth())}else j/=M;if(u!==1&&(l.scale(u,u),j/=u),l.lineWidth=j,a.isInvalidPDFjsFont){const P=[];let X=0;for(const W of e)P.push(W.unicode),X+=W.width;const V=P.join("");if(l.fillText(V,0,0),this.dependencyTracker!==null){const W=l.measureText(V);this.dependencyTracker.recordBBox(t,this.ctx,-W.actualBoundingBoxLeft,W.actualBoundingBoxRight,-W.actualBoundingBoxAscent,W.actualBoundingBoxDescent).recordShowTextOperation(t)}i.x+=X*E*g,l.restore(),this.compose();return}let R=0,D;for(D=0;D<b;++D){const P=e[D];if(typeof P=="number"){R+=w*P*o/1e3;continue}let X=!1;const V=(P.isSpace?f:0)+d,W=P.fontChar,rt=P.accent;let ft,et,at=P.width;if(v){const I=P.vmetric||A,it=-(P.vmetric?I[1]:at*.5)*E,dt=I[2]*E;at=I?-I[0]:at,ft=it/u,et=(R+dt)/u}else ft=R/u,et=0;let z;if(a.remeasure&&at>0){z=l.measureText(W);const I=z.width*1e3/o*u;if(at<I&&this.isFontSubpixelAAEnabled){const it=at/I;X=!0,l.save(),l.scale(it,1),ft/=it}else at!==I&&(ft+=(at-I)/2e3*o/u)}if(this.contentVisible&&(P.isInFont||a.missingFile)){if(T&&!rt)l.fillText(W,ft,et),this.dependencyTracker?.recordCharacterBBox(t,l,z?{bbox:null}:a,o/u,ft,et,()=>z??l.measureText(W));else if(this.paintChar(t,W,ft,et,_,C),rt){const I=ft+o*rt.offset.x/u,it=et-o*rt.offset.y/u;this.paintChar(t,rt.fontChar,I,it,_,C)}}const q=v?at*E-V*p:at*E+V*p;R+=q,X&&l.restore()}v?i.y-=R:i.x+=R*g,l.restore(),this.compose(),this.dependencyTracker?.recordShowTextOperation(t)}showType3Text(t,e){const i=this.ctx,a=this.current,o=a.font,l=a.fontSize,u=a.fontDirection,d=o.vertical?1:-1,f=a.charSpacing,p=a.wordSpacing,g=a.textHScale*u,b=a.fontMatrix||jm,v=e.length,w=a.textRenderingMode===$e.INVISIBLE;let A,E,T,_;if(w||l===0)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,i.save(),a.textMatrix&&i.transform(...a.textMatrix),i.translate(a.x,a.y+a.textRise),i.scale(g,u);const C=this.dependencyTracker;for(this.dependencyTracker=C?new ud(C,t):null,A=0;A<v;++A){if(E=e[A],typeof E=="number"){_=d*E*l/1e3,this.ctx.translate(_,0),a.x+=_*g;continue}const j=(E.isSpace?p:0)+f,M=o.charProcOperatorList[E.operatorListId];M?this.contentVisible&&(this.save(),i.scale(l,l),i.transform(...b),this.executeOperatorList(M),this.restore()):Et(`Type3 character "${E.operatorListId}" is not available.`);const R=[E.width,0];ut.applyTransform(R,b),T=R[0]*l+j,i.translate(T,0),a.x+=T*g}i.restore(),C&&(this.dependencyTracker=C)}setCharWidth(t,e,i){}setCharWidthAndBounds(t,e,i,a,o,l,u){const d=new Path2D;d.rect(a,o,l-a,u-o),this.ctx.clip(d),this.dependencyTracker?.recordBBox(t,this.ctx,a,l,o,u).recordClipBox(t,this.ctx,a,l,o,u),this.endPath(t)}getColorN_Pattern(t,e){let i;if(e[0]==="TilingPattern"){const a=this.baseTransform||de(this.ctx),o={createCanvasGraphics:(l,u)=>new Lr(l,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new ud(this.dependencyTracker,u,!0):null)};i=new t0(e,this.ctx,o,a)}else i=this._getPattern(t,e[1],e[2]);return i}setStrokeColorN(t,...e){this.dependencyTracker?.recordSimpleData("strokeColor",t),this.current.strokeColor=this.getColorN_Pattern(t,e),this.current.patternStroke=!0}setFillColorN(t,...e){this.dependencyTracker?.recordSimpleData("fillColor",t),this.current.fillColor=this.getColorN_Pattern(t,e),this.current.patternFill=!0}setStrokeRGBColor(t,e){this.dependencyTracker?.recordSimpleData("strokeColor",t),this.ctx.strokeStyle=this.current.strokeColor=e,this.current.patternStroke=!1}setStrokeTransparent(t){this.dependencyTracker?.recordSimpleData("strokeColor",t),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(t,e){this.dependencyTracker?.recordSimpleData("fillColor",t),this.ctx.fillStyle=this.current.fillColor=e,this.current.patternFill=!1}setFillTransparent(t){this.dependencyTracker?.recordSimpleData("fillColor",t),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(t,e,i=null){let a;return this.cachedPatterns.has(e)?a=this.cachedPatterns.get(e):(a=BP(this.getObject(t,e)),this.cachedPatterns.set(e,a)),i&&(a.matrix=i),a}shadingFill(t,e){if(!this.contentVisible)return;const i=this.ctx;this.save(t);const a=this._getPattern(t,e);i.fillStyle=a.getPattern(i,this,gn(i),Ke.SHADING,t);const o=gn(i);if(o){const{width:l,height:u}=i.canvas,d=kr.slice();ut.axialAlignedBoundingBox([0,0,l,u],o,d);const[f,p,g,b]=d;this.ctx.fillRect(f,p,g-f,b-p)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.dependencyTracker?.resetBBox(t).recordFullPageBBox(t).recordDependencies(t,qi.transform).recordDependencies(t,qi.fill).recordOperation(t),this.compose(this.current.getClippedPathBoundingBox()),this.restore(t)}beginInlineImage(){te("Should not call beginInlineImage")}beginImageData(){te("Should not call beginImageData")}paintFormXObjectBegin(t,e,i){if(this.contentVisible&&(this.save(t),this.baseTransformStack.push(this.baseTransform),e&&this.transform(t,...e),this.baseTransform=de(this.ctx),i)){ut.axialAlignedBoundingBox(i,this.baseTransform,this.current.minMax);const[a,o,l,u]=i,d=new Path2D;d.rect(a,o,l-a,u-o),this.ctx.clip(d),this.dependencyTracker?.recordClipBox(t,this.ctx,a,l,o,u),this.endPath(t)}}paintFormXObjectEnd(t){this.contentVisible&&(this.restore(t),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t,e){if(!this.contentVisible)return;this.save(t),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const i=this.ctx;e.isolated||jd("TODO: Support non-isolated groups."),e.knockout&&Et("Knockout groups not supported.");const a=de(i);if(e.matrix&&i.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let o=kr.slice();ut.axialAlignedBoundingBox(e.bbox,de(i),o);const l=[0,0,i.canvas.width,i.canvas.height];o=ut.intersect(o,l)||[0,0,0,0];const u=Math.floor(o[0]),d=Math.floor(o[1]),f=Math.max(Math.ceil(o[2])-u,1),p=Math.max(Math.ceil(o[3])-d,1);this.current.startNewPathAndClipBox([0,0,f,p]);let g="groupAt"+this.groupLevel;e.smask&&(g+="_smask_"+this.smaskCounter++%2);const b=this.cachedCanvases.getCanvas(g,f,p),v=b.context;v.translate(-u,-d),v.transform(...a);let w=new Path2D;const[A,E,T,_]=e.bbox;if(w.rect(A,E,T-A,_-E),e.matrix){const C=new Path2D;C.addPath(w,new DOMMatrix(e.matrix)),w=C}v.clip(w),e.smask&&this.smaskStack.push({canvas:b.canvas,context:v,offsetX:u,offsetY:d,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}),(!e.smask||this.dependencyTracker)&&(i.setTransform(1,0,0,1,0,0),i.translate(u,d),i.save()),nl(i,v),this.ctx=v,this.dependencyTracker?.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(i),this.setGState(t,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(i),this.groupLevel++}endGroup(t,e){if(!this.contentVisible)return;this.groupLevel--;const i=this.ctx,a=this.groupStack.pop();if(this.ctx=a,this.ctx.imageSmoothingEnabled=!1,this.dependencyTracker?.popBaseTransform(),e.smask)this.tempSMask=this.smaskStack.pop(),this.restore(t),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();const o=de(this.ctx);this.restore(t),this.ctx.save(),this.ctx.setTransform(...o);const l=kr.slice();ut.axialAlignedBoundingBox([0,0,i.canvas.width,i.canvas.height],o,l),this.ctx.drawImage(i.canvas,0,0),this.ctx.restore(),this.compose(l)}}beginAnnotation(t,e,i,a,o,l){if(this.#t(),Du(this.ctx),this.ctx.save(),this.save(t),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),i){const u=i[2]-i[0],d=i[3]-i[1];if(l&&this.annotationCanvasMap){a=a.slice(),a[4]-=i[0],a[5]-=i[1],i=i.slice(),i[0]=i[1]=0,i[2]=u,i[3]=d,ut.singularValueDecompose2dScale(de(this.ctx),ki);const{viewportScale:f}=this,p=Math.ceil(u*this.outputScaleX*f),g=Math.ceil(d*this.outputScaleY*f);this.annotationCanvas=this.canvasFactory.create(p,g);const{canvas:b,context:v}=this.annotationCanvas;this.annotationCanvasMap.set(e,b),this.annotationCanvas.savedCtx=this.ctx,this.ctx=v,this.ctx.save(),this.ctx.setTransform(ki[0],0,0,-ki[1],0,d*ki[1]),Du(this.ctx)}else{Du(this.ctx),this.endPath(t);const f=new Path2D;f.rect(i[0],i[1],u,d),this.ctx.clip(f)}}this.current=new zw(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(t,...a),this.transform(t,...o)}endAnnotation(t){this.annotationCanvas&&(this.ctx.restore(),this.#e(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t,e){if(!this.contentVisible)return;const i=e.count;e=this.getObject(t,e.data,e),e.count=i;const a=this.ctx,o=this._createMaskCanvas(t,e),l=o.canvas;a.save(),a.setTransform(1,0,0,1,0,0),a.drawImage(l,o.offsetX,o.offsetY),this.dependencyTracker?.resetBBox(t).recordBBox(t,this.ctx,o.offsetX,o.offsetX+l.width,o.offsetY,o.offsetY+l.height).recordOperation(t),a.restore(),this.compose()}paintImageMaskXObjectRepeat(t,e,i,a=0,o=0,l,u){if(!this.contentVisible)return;e=this.getObject(t,e.data,e);const d=this.ctx;d.save();const f=de(d);d.transform(i,a,o,l,0,0);const p=this._createMaskCanvas(t,e);d.setTransform(1,0,0,1,p.offsetX-f[4],p.offsetY-f[5]),this.dependencyTracker?.resetBBox(t);for(let g=0,b=u.length;g<b;g+=2){const v=ut.transform(f,[i,a,o,l,u[g],u[g+1]]);d.drawImage(p.canvas,v[4],v[5]),this.dependencyTracker?.recordBBox(t,this.ctx,v[4],v[4]+p.canvas.width,v[5],v[5]+p.canvas.height)}d.restore(),this.compose(),this.dependencyTracker?.recordOperation(t)}paintImageMaskXObjectGroup(t,e){if(!this.contentVisible)return;const i=this.ctx,a=this.current.fillColor,o=this.current.patternFill;this.dependencyTracker?.resetBBox(t).recordDependencies(t,qi.transformAndFill);for(const l of e){const{data:u,width:d,height:f,transform:p}=l,g=this.cachedCanvases.getCanvas("maskCanvas",d,f),b=g.context;b.save();const v=this.getObject(t,u,l);Iw(b,v),b.globalCompositeOperation="source-in",b.fillStyle=o?a.getPattern(b,this,gn(i),Ke.FILL,t):a,b.fillRect(0,0,d,f),b.restore(),i.save(),i.transform(...p),i.scale(1,-1),Mu(i,g.canvas,0,0,d,f,0,-1,1,1),this.dependencyTracker?.recordBBox(t,i,0,d,0,f),i.restore()}this.compose(),this.dependencyTracker?.recordOperation(t)}paintImageXObject(t,e){if(!this.contentVisible)return;const i=this.getObject(t,e);if(!i){Et("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t,i)}paintImageXObjectRepeat(t,e,i,a,o){if(!this.contentVisible)return;const l=this.getObject(t,e);if(!l){Et("Dependent image isn't ready yet");return}const u=l.width,d=l.height,f=[];for(let p=0,g=o.length;p<g;p+=2)f.push({transform:[i,0,0,a,o[p],o[p+1]],x:0,y:0,w:u,h:d});this.paintInlineImageXObjectGroup(t,l,f)}applyTransferMapsToCanvas(t){return this.current.transferMaps!=="none"&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if(this.current.transferMaps==="none")return t.bitmap;const{bitmap:e,width:i,height:a}=t,o=this.cachedCanvases.getCanvas("inlineImage",i,a),l=o.context;return l.filter=this.current.transferMaps,l.drawImage(e,0,0),l.filter="none",o.canvas}paintInlineImageXObject(t,e){if(!this.contentVisible)return;const i=e.width,a=e.height,o=this.ctx;this.save(t);const{filter:l}=o;l!=="none"&&l!==""&&(o.filter="none"),o.scale(1/i,-1/a);let u;if(e.bitmap)u=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)u=e;else{const p=this.cachedCanvases.getCanvas("inlineImage",i,a).context;Fw(p,e),u=this.applyTransferMapsToCanvas(p)}const d=this._scaleImage(u,gn(o));o.imageSmoothingEnabled=Uw(de(o),e.interpolate),this.dependencyTracker?.resetBBox(t).recordBBox(t,o,0,i,-a,0).recordDependencies(t,qi.imageXObject).recordOperation(t),Mu(o,d.img,0,0,d.paintWidth,d.paintHeight,0,-a,i,a),this.compose(),this.restore(t)}paintInlineImageXObjectGroup(t,e,i){if(!this.contentVisible)return;const a=this.ctx;let o;if(e.bitmap)o=e.bitmap;else{const l=e.width,u=e.height,f=this.cachedCanvases.getCanvas("inlineImage",l,u).context;Fw(f,e),o=this.applyTransferMapsToCanvas(f)}this.dependencyTracker?.resetBBox(t);for(const l of i)a.save(),a.transform(...l.transform),a.scale(1,-1),Mu(a,o,l.x,l.y,l.w,l.h,0,-1,1,1),this.dependencyTracker?.recordBBox(t,a,0,1,-1,0),a.restore();this.dependencyTracker?.recordOperation(t),this.compose()}paintSolidColorImageMask(t){this.contentVisible&&(this.dependencyTracker?.resetBBox(t).recordBBox(t,this.ctx,0,1,0,1).recordDependencies(t,qi.fill).recordOperation(t),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t,e){}markPointProps(t,e,i){}beginMarkedContent(t,e){this.dependencyTracker?.beginMarkedContent(t),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,e,i){this.dependencyTracker?.beginMarkedContent(t),e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(i)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(t){this.dependencyTracker?.endMarkedContent(t),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(t){}endCompat(t){}consumePath(t,e,i){const a=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(i);const o=this.ctx;this.pendingClip?(a||(this.pendingClip===Hw?o.clip(e,"evenodd"):o.clip(e)),this.pendingClip=null,this.dependencyTracker?.bboxToClipBoxDropOperation(t).recordFutureForcedDependency("clipPath",t)):this.dependencyTracker?.recordOperation(t),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=de(this.ctx);if(t[1]===0&&t[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const e=Math.abs(t[0]*t[3]-t[2]*t[1]),i=Math.hypot(t[0],t[2]),a=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(i,a)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:t}=this.current,{a:e,b:i,c:a,d:o}=this.ctx.getTransform();let l,u;if(i===0&&a===0){const d=Math.abs(e),f=Math.abs(o);if(d===f)if(t===0)l=u=1/d;else{const p=d*t;l=u=p<1?1/p:1}else if(t===0)l=1/d,u=1/f;else{const p=d*t,g=f*t;l=p<1?1/p:1,u=g<1?1/g:1}}else{const d=Math.abs(e*o-i*a),f=Math.hypot(e,i),p=Math.hypot(a,o);if(t===0)l=p/d,u=f/d;else{const g=t*d;l=p>g?p/g:1,u=f>g?f/g:1}}this._cachedScaleForStroking[0]=l,this._cachedScaleForStroking[1]=u}return this._cachedScaleForStroking}rescaleAndStroke(t,e){const{ctx:i,current:{lineWidth:a}}=this,[o,l]=this.getScaleForStroking();if(o===l){i.lineWidth=(a||1)*o,i.stroke(t);return}const u=i.getLineDash();e&&i.save(),i.scale(o,l),Fp.a=1/o,Fp.d=1/l;const d=new Path2D;if(d.addPath(t,Fp),u.length>0){const f=Math.max(o,l);i.setLineDash(u.map(p=>p/f)),i.lineDashOffset/=f}i.lineWidth=a||1,i.stroke(d),e&&i.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}}for(const s in kl)Lr.prototype[s]!==void 0&&(Lr.prototype[kl[s]]=Lr.prototype[s]);class Pr{static#t=null;static#e="";static get workerPort(){return this.#t}static set workerPort(t){if(!(typeof Worker<"u"&&t instanceof Worker)&&t!==null)throw new Error("Invalid `workerPort` type.");this.#t=t}static get workerSrc(){return this.#e}static set workerSrc(t){if(typeof t!="string")throw new Error("Invalid `workerSrc` type.");this.#e=t}}class GP{#t;#e;constructor({parsedData:t,rawData:e}){this.#t=t,this.#e=e}getRaw(){return this.#e}get(t){return this.#t.get(t)??null}[Symbol.iterator](){return this.#t.entries()}}const wr=Symbol("INTERNAL");class $P{#t=!1;#e=!1;#n=!1;#i=!0;constructor(t,{name:e,intent:i,usage:a,rbGroups:o}){this.#t=!!(t&Ni.DISPLAY),this.#e=!!(t&Ni.PRINT),this.name=e,this.intent=i,this.usage=a,this.rbGroups=o}get visible(){if(this.#n)return this.#i;if(!this.#i)return!1;const{print:t,view:e}=this.usage;return this.#t?e?.viewState!=="OFF":this.#e?t?.printState!=="OFF":!0}_setVisible(t,e,i=!1){t!==wr&&te("Internal method `_setVisible` called."),this.#n=i,this.#i=e}}class XP{#t=null;#e=new Map;#n=null;#i=null;constructor(t,e=Ni.DISPLAY){if(this.renderingIntent=e,this.name=null,this.creator=null,t!==null){this.name=t.name,this.creator=t.creator,this.#i=t.order;for(const i of t.groups)this.#e.set(i.id,new $P(e,i));if(t.baseState==="OFF")for(const i of this.#e.values())i._setVisible(wr,!1);for(const i of t.on)this.#e.get(i)._setVisible(wr,!0);for(const i of t.off)this.#e.get(i)._setVisible(wr,!1);this.#n=this.getHash()}}#r(t){const e=t.length;if(e<2)return!0;const i=t[0];for(let a=1;a<e;a++){const o=t[a];let l;if(Array.isArray(o))l=this.#r(o);else if(this.#e.has(o))l=this.#e.get(o).visible;else return Et(`Optional content group not found: ${o}`),!0;switch(i){case"And":if(!l)return!1;break;case"Or":if(l)return!0;break;case"Not":return!l;default:return!0}}return i==="And"}isVisible(t){if(this.#e.size===0)return!0;if(!t)return jd("Optional content group not defined."),!0;if(t.type==="OCG")return this.#e.has(t.id)?this.#e.get(t.id).visible:(Et(`Optional content group not found: ${t.id}`),!0);if(t.type==="OCMD"){if(t.expression)return this.#r(t.expression);if(!t.policy||t.policy==="AnyOn"){for(const e of t.ids){if(!this.#e.has(e))return Et(`Optional content group not found: ${e}`),!0;if(this.#e.get(e).visible)return!0}return!1}else if(t.policy==="AllOn"){for(const e of t.ids){if(!this.#e.has(e))return Et(`Optional content group not found: ${e}`),!0;if(!this.#e.get(e).visible)return!1}return!0}else if(t.policy==="AnyOff"){for(const e of t.ids){if(!this.#e.has(e))return Et(`Optional content group not found: ${e}`),!0;if(!this.#e.get(e).visible)return!0}return!1}else if(t.policy==="AllOff"){for(const e of t.ids){if(!this.#e.has(e))return Et(`Optional content group not found: ${e}`),!0;if(this.#e.get(e).visible)return!1}return!0}return Et(`Unknown optional content policy ${t.policy}.`),!0}return Et(`Unknown group type ${t.type}.`),!0}setVisibility(t,e=!0,i=!0){const a=this.#e.get(t);if(!a){Et(`Optional content group not found: ${t}`);return}if(i&&e&&a.rbGroups.length)for(const o of a.rbGroups)for(const l of o)l!==t&&this.#e.get(l)?._setVisible(wr,!1,!0);a._setVisible(wr,!!e,!0),this.#t=null}setOCGState({state:t,preserveRB:e}){let i;for(const a of t){switch(a){case"ON":case"OFF":case"Toggle":i=a;continue}const o=this.#e.get(a);if(o)switch(i){case"ON":this.setVisibility(a,!0,e);break;case"OFF":this.setVisibility(a,!1,e);break;case"Toggle":this.setVisibility(a,!o.visible,e);break}}this.#t=null}get hasInitialVisibility(){return this.#n===null||this.getHash()===this.#n}getOrder(){return this.#e.size?this.#i?this.#i.slice():[...this.#e.keys()]:null}getGroup(t){return this.#e.get(t)||null}getHash(){if(this.#t!==null)return this.#t;const t=new JS;for(const[e,i]of this.#e)t.update(`${e}:${i.visible}`);return this.#t=t.hexdigest()}[Symbol.iterator](){return this.#e.entries()}}class YP{constructor(t,{disableRange:e=!1,disableStream:i=!1}){Pt(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:a,initialData:o,progressiveDone:l,contentDispositionFilename:u}=t;if(this._queuedChunks=[],this._progressiveDone=l,this._contentDispositionFilename=u,o?.length>0){const d=o instanceof Uint8Array&&o.byteLength===o.buffer.byteLength?o.buffer:new Uint8Array(o).buffer;this._queuedChunks.push(d)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!i,this._isRangeSupported=!e,this._contentLength=a,this._fullRequestReader=null,this._rangeReaders=[],t.addRangeListener((d,f)=>{this._onReceiveData({begin:d,chunk:f})}),t.addProgressListener((d,f)=>{this._onProgress({loaded:d,total:f})}),t.addProgressiveReadListener(d=>{this._onReceiveData({chunk:d})}),t.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),t.transportReady()}_onReceiveData({begin:t,chunk:e}){const i=e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer;if(t===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(i):this._queuedChunks.push(i);else{const a=this._rangeReaders.some(function(o){return o._begin!==t?!1:(o._enqueue(i),!0)});Pt(a,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(t){t.total===void 0?this._rangeReaders[0]?.onProgress?.({loaded:t.loaded}):this._fullRequestReader?.onProgress?.({loaded:t.loaded,total:t.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}getFullReader(){Pt(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new KP(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const i=new WP(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(i),i}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeReaders.slice(0))e.cancel(t);this._pdfDataRangeTransport.abort()}}class KP{constructor(t,e,i=!1,a=null){this._stream=t,this._done=i||!1,this._filename=Yg(a)?a:null,this._queuedChunks=e||[],this._loaded=0;for(const o of this._queuedChunks)this._loaded+=o.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class WP{constructor(t,e,i){this._stream=t,this._begin=e,this._end=i,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length===0)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function QP(s){let t=!0,e=i("filename\\*","i").exec(s);if(e){e=e[1];let p=u(e);return p=unescape(p),p=d(p),p=f(p),o(p)}if(e=l(s),e){const p=f(e);return o(p)}if(e=i("filename","i").exec(s),e){e=e[1];let p=u(e);return p=f(p),o(p)}function i(p,g){return new RegExp("(?:^|;)\\s*"+p+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',g)}function a(p,g){if(p){if(!/^[\x00-\xFF]+$/.test(g))return g;try{const b=new TextDecoder(p,{fatal:!0}),v=$l(g);g=b.decode(v),t=!1}catch{}}return g}function o(p){return t&&/[\x80-\xff]/.test(p)&&(p=a("utf-8",p),t&&(p=a("iso-8859-1",p))),p}function l(p){const g=[];let b;const v=i("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(b=v.exec(p))!==null;){let[,A,E,T]=b;if(A=parseInt(A,10),A in g){if(A===0)break;continue}g[A]=[E,T]}const w=[];for(let A=0;A<g.length&&A in g;++A){let[E,T]=g[A];T=u(T),E&&(T=unescape(T),A===0&&(T=d(T))),w.push(T)}return w.join("")}function u(p){if(p.startsWith('"')){const g=p.slice(1).split('\\"');for(let b=0;b<g.length;++b){const v=g[b].indexOf('"');v!==-1&&(g[b]=g[b].slice(0,v),g.length=b+1),g[b]=g[b].replaceAll(/\\(.)/g,"$1")}p=g.join('"')}return p}function d(p){const g=p.indexOf("'");if(g===-1)return p;const b=p.slice(0,g),w=p.slice(g+1).replace(/^[^']*'/,"");return a(b,w)}function f(p){return!p.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(p)?p:p.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(g,b,v,w){if(v==="q"||v==="Q")return w=w.replaceAll("_"," "),w=w.replaceAll(/=([0-9a-fA-F]{2})/g,function(A,E){return String.fromCharCode(parseInt(E,16))}),a(b,w);try{w=atob(w)}catch{}return a(b,w)})}return""}function rE(s,t){const e=new Headers;if(!s||!t||typeof t!="object")return e;for(const i in t){const a=t[i];a!==void 0&&e.append(i,a)}return e}function Rd(s){return URL.parse(s)?.origin??null}function oE({responseHeaders:s,isHttp:t,rangeChunkSize:e,disableRange:i}){const a={allowRangeRequests:!1,suggestedLength:void 0},o=parseInt(s.get("Content-Length"),10);return!Number.isInteger(o)||(a.suggestedLength=o,o<=2*e)||i||!t||s.get("Accept-Ranges")!=="bytes"||(s.get("Content-Encoding")||"identity")!=="identity"||(a.allowRangeRequests=!0),a}function lE(s){const t=s.get("Content-Disposition");if(t){let e=QP(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if(Yg(e))return e}return null}function Ql(s,t){return new cd(`Unexpected server response (${s}) while retrieving PDF "${t}".`,s,s===404||s===0&&t.startsWith("file:"))}function cE(s){return s===200||s===206}function uE(s,t,e){return{method:"GET",headers:s,signal:e.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function dE(s){return s instanceof Uint8Array?s.buffer:s instanceof ArrayBuffer?s:(Et(`getArrayBuffer - unexpected data format: ${s}`),new Uint8Array(s).buffer)}class ZP{_responseOrigin=null;constructor(t){this.source=t,this.isHttp=/^https?:/i.test(t.url),this.headers=rE(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return Pt(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new JP(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const i=new t6(this,t,e);return this._rangeRequestReaders.push(i),i}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}}class JP{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const e=t.source;this._withCredentials=e.withCredentials||!1,this._contentLength=e.length,this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange;const i=new Headers(t.headers),a=e.url;fetch(a,uE(i,this._withCredentials,this._abortController)).then(o=>{if(t._responseOrigin=Rd(o.url),!cE(o.status))throw Ql(o.status,a);this._reader=o.body.getReader(),this._headersCapability.resolve();const l=o.headers,{allowRangeRequests:u,suggestedLength:d}=oE({responseHeaders:l,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=u,this._contentLength=d||this._contentLength,this._filename=lE(l),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Fs("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:dE(t),done:!1})}cancel(t){this._reader?.cancel(t),this._abortController.abort()}}class t6{constructor(t,e,i){this._stream=t,this._reader=null,this._loaded=0;const a=t.source;this._withCredentials=a.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!a.disableStream,this._abortController=new AbortController;const o=new Headers(t.headers);o.append("Range",`bytes=${e}-${i-1}`);const l=a.url;fetch(l,uE(o,this._withCredentials,this._abortController)).then(u=>{const d=Rd(u.url);if(d!==t._responseOrigin)throw new Error(`Expected range response-origin "${d}" to match "${t._responseOrigin}".`);if(!cE(u.status))throw Ql(u.status,l);this._readCapability.resolve(),this._reader=u.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,this.onProgress?.({loaded:this._loaded}),{value:dE(t),done:!1})}cancel(t){this._reader?.cancel(t),this._abortController.abort()}}const Ip=200,Up=206;function e6(s){const t=s.response;return typeof t!="string"?t:$l(t).buffer}class i6{_responseOrigin=null;constructor({url:t,httpHeaders:e,withCredentials:i}){this.url=t,this.isHttp=/^https?:/i.test(t),this.headers=rE(this.isHttp,e),this.withCredentials=i||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(t){const e=new XMLHttpRequest,i=this.currXhrId++,a=this.pendingRequests[i]={xhr:e};e.open("GET",this.url),e.withCredentials=this.withCredentials;for(const[o,l]of this.headers)e.setRequestHeader(o,l);return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),a.expectedStatus=Up):a.expectedStatus=Ip,e.responseType="arraybuffer",Pt(t.onError,"Expected `onError` callback to be provided."),e.onerror=()=>{t.onError(e.status)},e.onreadystatechange=this.onStateChange.bind(this,i),e.onprogress=this.onProgress.bind(this,i),a.onHeadersReceived=t.onHeadersReceived,a.onDone=t.onDone,a.onError=t.onError,a.onProgress=t.onProgress,e.send(null),i}onProgress(t,e){const i=this.pendingRequests[t];i&&i.onProgress?.(e)}onStateChange(t,e){const i=this.pendingRequests[t];if(!i)return;const a=i.xhr;if(a.readyState>=2&&i.onHeadersReceived&&(i.onHeadersReceived(),delete i.onHeadersReceived),a.readyState!==4||!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],a.status===0&&this.isHttp){i.onError(a.status);return}const o=a.status||Ip;if(!(o===Ip&&i.expectedStatus===Up)&&o!==i.expectedStatus){i.onError(a.status);return}const u=e6(a);if(o===Up){const d=a.getResponseHeader("Content-Range"),f=/bytes (\d+)-(\d+)\/(\d+)/.exec(d);f?i.onDone({begin:parseInt(f[1],10),chunk:u}):(Et('Missing or invalid "Content-Range" header.'),i.onError(0))}else u?i.onDone({begin:0,chunk:u}):i.onError(a.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const e=this.pendingRequests[t].xhr;delete this.pendingRequests[t],e.abort()}}class n6{constructor(t){this._source=t,this._manager=new i6(t),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}getFullReader(){return Pt(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new s6(this._manager,this._source),this._fullRequestReader}getRangeReader(t,e){const i=new a6(this._manager,t,e);return i.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(i),i}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}}class s6{constructor(t,e){this._manager=t,this._url=e.url,this._fullRequestId=t.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._contentLength=e.length,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,e=this._manager.getRequestXhr(t);this._manager._responseOrigin=Rd(e.responseURL);const i=e.getAllResponseHeaders(),a=new Headers(i?i.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(u=>{const[d,...f]=u.split(": ");return[d,f.join(": ")]}):[]),{allowRangeRequests:o,suggestedLength:l}=oE({responseHeaders:a,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});o&&(this._isRangeSupported=!0),this._contentLength=l||this._contentLength,this._filename=lE(a),this._isRangeSupported&&this._manager.abortRequest(t),this._headersCapability.resolve()}_onDone(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=Ql(t,this._url),this._headersCapability.reject(this._storedError);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){this.onProgress?.({loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersCapability.reject(t);for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class a6{constructor(t,e,i){this._manager=t,this._url=t.url,this._requestId=t.request({begin:e,end:i,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){const t=Rd(this._manager.getRequestXhr(this._requestId)?.responseURL);t!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${t}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){this.onClosed?.(this)}_onDone(t){const e=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e,this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError??=Ql(t,this._url);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){this.isStreamingSupported||this.onProgress?.({loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const r6=/^[a-z][a-z0-9\-+.]+:/i;function o6(s){if(r6.test(s))return new URL(s);const t=process.getBuiltinModule("url");return new URL(t.pathToFileURL(s))}class l6{constructor(t){this.source=t,this.url=o6(t.url),Pt(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return Pt(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new c6(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const i=new u6(this,t,e);return this._rangeRequestReaders.push(i),i}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}}class c6{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const e=t.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const i=process.getBuiltinModule("fs");i.promises.lstat(this._url).then(a=>{this._contentLength=a.size,this._setReadableStream(i.createReadStream(this._url)),this._headersCapability.resolve()},a=>{a.code==="ENOENT"&&(a=Ql(0,this._url.href)),this._storedError=a,this._headersCapability.reject(a)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Fs("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class u6{constructor(t,e,i){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const a=t.source;this._isStreamingSupported=!a.disableStream;const o=process.getBuiltinModule("fs");this._setReadableStream(o.createReadStream(this._url,{start:e,end:i-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const sl=Symbol("INITIAL_DATA");class hE{#t=Object.create(null);#e(t){return this.#t[t]||={...Promise.withResolvers(),data:sl}}get(t,e=null){if(e){const a=this.#e(t);return a.promise.then(()=>e(a.data)),null}const i=this.#t[t];if(!i||i.data===sl)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return i.data}has(t){const e=this.#t[t];return!!e&&e.data!==sl}delete(t){const e=this.#t[t];return!e||e.data===sl?!1:(delete this.#t[t],!0)}resolve(t,e=null){const i=this.#e(t);i.data=e,i.resolve()}clear(){for(const t in this.#t){const{data:e}=this.#t[t];e?.bitmap?.close()}this.#t=Object.create(null)}*[Symbol.iterator](){for(const t in this.#t){const{data:e}=this.#t[t];e!==sl&&(yield[t,e])}}}const d6=1e5,Vw=30;class ei{#t=Promise.withResolvers();#e=null;#n=!1;#i=!!globalThis.FontInspector?.enabled;#r=null;#a=null;#s=0;#o=0;#c=null;#l=null;#h=0;#d=0;#f=Object.create(null);#g=[];#m=null;#u=[];#p=new WeakMap;#x=null;static#b=new Map;static#y=new Map;static#T=new WeakMap;static#S=null;static#w=new Set;constructor({textContentSource:t,container:e,viewport:i}){if(t instanceof ReadableStream)this.#m=t;else if(typeof t=="object")this.#m=new ReadableStream({start(d){d.enqueue(t),d.close()}});else throw new Error('No "textContentSource" parameter specified.');this.#e=this.#l=e,this.#d=i.scale*Sn.pixelRatio,this.#h=i.rotation,this.#a={div:null,properties:null,ctx:null};const{pageWidth:a,pageHeight:o,pageX:l,pageY:u}=i.rawDims;this.#x=[1,0,0,-1,-l,u+o],this.#o=a,this.#s=o,ei.#k(),Sa(e,i),this.#t.promise.finally(()=>{ei.#w.delete(this),this.#a=null,this.#f=null}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:t,isFirefox:e}=We.platform;return Tt(this,"fontFamilyMap",new Map([["sans-serif",`${t&&e?"Calibri, ":""}sans-serif`],["monospace",`${t&&e?"Lucida Console, ":""}monospace`]]))}render(){const t=()=>{this.#c.read().then(({value:e,done:i})=>{if(i){this.#t.resolve();return}this.#r??=e.lang,Object.assign(this.#f,e.styles),this.#_(e.items),t()},this.#t.reject)};return this.#c=this.#m.getReader(),ei.#w.add(this),t(),this.#t.promise}update({viewport:t,onBefore:e=null}){const i=t.scale*Sn.pixelRatio,a=t.rotation;if(a!==this.#h&&(e?.(),this.#h=a,Sa(this.#l,{rotation:a})),i!==this.#d){e?.(),this.#d=i;const o={div:null,properties:null,ctx:ei.#j(this.#r)};for(const l of this.#u)o.properties=this.#p.get(l),o.div=l,this.#E(o)}}cancel(){const t=new Fs("TextLayer task cancelled.");this.#c?.cancel(t).catch(()=>{}),this.#c=null,this.#t.reject(t)}get textDivs(){return this.#u}get textContentItemsStr(){return this.#g}#_(t){if(this.#n)return;this.#a.ctx??=ei.#j(this.#r);const e=this.#u,i=this.#g;for(const a of t){if(e.length>d6){Et("Ignoring additional textDivs for performance reasons."),this.#n=!0;return}if(a.str===void 0){if(a.type==="beginMarkedContentProps"||a.type==="beginMarkedContent"){const o=this.#e;this.#e=document.createElement("span"),this.#e.classList.add("markedContent"),a.id&&this.#e.setAttribute("id",`${a.id}`),o.append(this.#e)}else a.type==="endMarkedContent"&&(this.#e=this.#e.parentNode);continue}i.push(a.str),this.#v(a)}}#v(t){const e=document.createElement("span"),i={angle:0,canvasWidth:0,hasText:t.str!=="",hasEOL:t.hasEOL,fontSize:0};this.#u.push(e);const a=ut.transform(this.#x,t.transform);let o=Math.atan2(a[1],a[0]);const l=this.#f[t.fontName];l.vertical&&(o+=Math.PI/2);let u=this.#i&&l.fontSubstitution||l.fontFamily;u=ei.fontFamilyMap.get(u)||u;const d=Math.hypot(a[2],a[3]),f=d*ei.#B(u,l,this.#r);let p,g;o===0?(p=a[4],g=a[5]-f):(p=a[4]+f*Math.sin(o),g=a[5]-f*Math.cos(o));const b="calc(var(--total-scale-factor) *",v=e.style;this.#e===this.#l?(v.left=`${(100*p/this.#o).toFixed(2)}%`,v.top=`${(100*g/this.#s).toFixed(2)}%`):(v.left=`${b}${p.toFixed(2)}px)`,v.top=`${b}${g.toFixed(2)}px)`),v.fontSize=`${b}${(ei.#S*d).toFixed(2)}px)`,v.fontFamily=u,i.fontSize=d,e.setAttribute("role","presentation"),e.textContent=t.str,e.dir=t.dir,this.#i&&(e.dataset.fontName=l.fontSubstitutionLoadedName||t.fontName),o!==0&&(i.angle=o*(180/Math.PI));let w=!1;if(t.str.length>1)w=!0;else if(t.str!==" "&&t.transform[0]!==t.transform[3]){const A=Math.abs(t.transform[0]),E=Math.abs(t.transform[3]);A!==E&&Math.max(A,E)/Math.min(A,E)>1.5&&(w=!0)}if(w&&(i.canvasWidth=l.vertical?t.height:t.width),this.#p.set(e,i),this.#a.div=e,this.#a.properties=i,this.#E(this.#a),i.hasText&&this.#e.append(e),i.hasEOL){const A=document.createElement("br");A.setAttribute("role","presentation"),this.#e.append(A)}}#E(t){const{div:e,properties:i,ctx:a}=t,{style:o}=e;let l="";if(ei.#S>1&&(l=`scale(${1/ei.#S})`),i.canvasWidth!==0&&i.hasText){const{fontFamily:u}=o,{canvasWidth:d,fontSize:f}=i;ei.#N(a,f*this.#d,u);const{width:p}=a.measureText(e.textContent);p>0&&(l=`scaleX(${d*this.#d/p}) ${l}`)}i.angle!==0&&(l=`rotate(${i.angle}deg) ${l}`),l.length>0&&(o.transform=l)}static cleanup(){if(!(this.#w.size>0)){this.#b.clear();for(const{canvas:t}of this.#y.values())t.remove();this.#y.clear()}}static#j(t=null){let e=this.#y.get(t||="");if(!e){const i=document.createElement("canvas");i.className="hiddenCanvasElement",i.lang=t,document.body.append(i),e=i.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.#y.set(t,e),this.#T.set(e,{size:0,family:""})}return e}static#N(t,e,i){const a=this.#T.get(t);e===a.size&&i===a.family||(t.font=`${e}px ${i}`,a.size=e,a.family=i)}static#k(){if(this.#S!==null)return;const t=document.createElement("div");t.style.opacity=0,t.style.lineHeight=1,t.style.fontSize="1px",t.style.position="absolute",t.textContent="X",document.body.append(t),this.#S=t.getBoundingClientRect().height,t.remove()}static#B(t,e,i){const a=this.#b.get(t);if(a)return a;const o=this.#j(i);o.canvas.width=o.canvas.height=Vw,this.#N(o,Vw,t);const l=o.measureText(""),u=l.fontBoundingBoxAscent,d=Math.abs(l.fontBoundingBoxDescent);o.canvas.width=o.canvas.height=0;let f=.8;return u?f=u/(u+d):(We.platform.isFirefox&&Et("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),e.ascent?f=e.ascent:e.descent&&(f=1+e.descent)),this.#b.set(t,f),f}}const h6=100;function Im(s={}){typeof s=="string"||s instanceof URL?s={url:s}:(s instanceof ArrayBuffer||ArrayBuffer.isView(s))&&(s={data:s});const t=new e0,{docId:e}=t,i=s.url?bP(s.url):null,a=s.data?vP(s.data):null,o=s.httpHeaders||null,l=s.withCredentials===!0,u=s.password??null,d=s.range instanceof fE?s.range:null,f=Number.isInteger(s.rangeChunkSize)&&s.rangeChunkSize>0?s.rangeChunkSize:2**16;let p=s.worker instanceof Ml?s.worker:null;const g=s.verbosity,b=typeof s.docBaseUrl=="string"&&!Md(s.docBaseUrl)?s.docBaseUrl:null,v=_u(s.cMapUrl),w=s.cMapPacked!==!1,A=s.CMapReaderFactory||(ii?NP:kw),E=_u(s.iccUrl),T=_u(s.standardFontDataUrl),_=s.StandardFontDataFactory||(ii?kP:jw),C=_u(s.wasmUrl),j=s.WasmFactory||(ii?jP:Mw),M=s.stopAtErrors!==!0,R=Number.isInteger(s.maxImageSize)&&s.maxImageSize>-1?s.maxImageSize:-1,D=s.isEvalSupported!==!1,P=typeof s.isOffscreenCanvasSupported=="boolean"?s.isOffscreenCanvasSupported:!ii,X=typeof s.isImageDecoderSupported=="boolean"?s.isImageDecoderSupported:!ii&&(We.platform.isFirefox||!globalThis.chrome),V=Number.isInteger(s.canvasMaxAreaInBytes)?s.canvasMaxAreaInBytes:-1,W=typeof s.disableFontFace=="boolean"?s.disableFontFace:ii,rt=s.fontExtraProperties===!0,ft=s.enableXfa===!0,et=s.ownerDocument||globalThis.document,at=s.disableRange===!0,z=s.disableStream===!0,q=s.disableAutoFetch===!0,I=s.pdfBug===!0,it=s.CanvasFactory||(ii?_P:EP),dt=s.FilterFactory||(ii?CP:TP),O=s.enableHWA===!0,$=s.useWasm!==!1,J=d?d.length:s.length??NaN,nt=typeof s.useSystemFonts=="boolean"?s.useSystemFonts:!ii&&!W,pt=typeof s.useWorkerFetch=="boolean"?s.useWorkerFetch:!!(A===kw&&_===jw&&j===Mw&&v&&T&&C&&ll(v,document.baseURI)&&ll(T,document.baseURI)&&ll(C,document.baseURI)),mt=null;XL(g);const bt={canvasFactory:new it({ownerDocument:et,enableHWA:O}),filterFactory:new dt({docId:e,ownerDocument:et}),cMapReaderFactory:pt?null:new A({baseUrl:v,isCompressed:w}),standardFontDataFactory:pt?null:new _({baseUrl:T}),wasmFactory:pt?null:new j({baseUrl:C})};p||(p=Ml.create({verbosity:g,port:Pr.workerPort}),t._worker=p);const ne={docId:e,apiVersion:"5.4.449",data:a,password:u,disableAutoFetch:q,rangeChunkSize:f,length:J,docBaseUrl:b,enableXfa:ft,evaluatorOptions:{maxImageSize:R,disableFontFace:W,ignoreErrors:M,isEvalSupported:D,isOffscreenCanvasSupported:P,isImageDecoderSupported:X,canvasMaxAreaInBytes:V,fontExtraProperties:rt,useSystemFonts:nt,useWasm:$,useWorkerFetch:pt,cMapUrl:v,iccUrl:E,standardFontDataUrl:T,wasmUrl:C}},Ht={ownerDocument:et,pdfBug:I,styleElement:mt,loadingParams:{disableAutoFetch:q,enableXfa:ft}};return p.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");if(p.destroyed)throw new Error("Worker was destroyed");const ji=p.messageHandler.sendWithPromise("GetDocRequest",ne,a?[a.buffer]:null);let vi;if(d)vi=new YP(d,{disableRange:at,disableStream:z});else if(!a){if(!i)throw new Error("getDocument - no `url` parameter provided.");const ri=ll(i)?ZP:ii?l6:n6;vi=new ri({url:i,length:J,httpHeaders:o,withCredentials:l,rangeChunkSize:f,disableRange:at,disableStream:z})}return ji.then(ri=>{if(t.destroyed)throw new Error("Loading aborted");if(p.destroyed)throw new Error("Worker was destroyed");const as=new cl(e,ri,p.port),Mi=new m6(as,t,vi,Ht,bt,O);t._transport=Mi,as.send("Ready",null)})}).catch(t._capability.reject),t}class e0{static#t=0;_capability=Promise.withResolvers();_transport=null;_worker=null;docId=`d${e0.#t++}`;destroyed=!1;onPassword=null;onProgress=null;get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await this._transport?.destroy()}catch(t){throw this._worker?.port&&delete this._worker._pendingDestroy,t}this._transport=null,this._worker?.destroy(),this._worker=null}async getData(){return this._transport.getData()}}class fE{#t=Promise.withResolvers();#e=[];#n=[];#i=[];#r=[];constructor(t,e,i=!1,a=null){this.length=t,this.initialData=e,this.progressiveDone=i,this.contentDispositionFilename=a}addRangeListener(t){this.#r.push(t)}addProgressListener(t){this.#i.push(t)}addProgressiveReadListener(t){this.#n.push(t)}addProgressiveDoneListener(t){this.#e.push(t)}onDataRange(t,e){for(const i of this.#r)i(t,e)}onDataProgress(t,e){this.#t.promise.then(()=>{for(const i of this.#i)i(t,e)})}onDataProgressiveRead(t){this.#t.promise.then(()=>{for(const e of this.#n)e(t)})}onDataProgressiveDone(){this.#t.promise.then(()=>{for(const t of this.#e)t()})}transportReady(){this.#t.resolve()}requestDataRange(t,e){te("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class f6{constructor(t,e){this._pdfInfo=t,this._transport=e}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Tt(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(t,e){return this._transport.getAnnotationsByType(t,e)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(e)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}extractPages(t){return this._transport.extractPages(t)}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(t=!1){return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}class p6{#t=!1;constructor(t,e,i,a=!1){this._pageIndex=t,this._pageInfo=e,this._transport=i,this._stats=a?new Aw:null,this._pdfBug=a,this.commonObjs=i.commonObjs,this.objs=new hE,this._intentStates=new Map,this.destroyed=!1,this.recordedBBoxes=null}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:e=this.rotate,offsetX:i=0,offsetY:a=0,dontFlip:o=!1}={}){return new Yl({viewBox:this.view,userUnit:this.userUnit,scale:t,rotation:e,offsetX:i,offsetY:a,dontFlip:o})}getAnnotations({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,e)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Tt(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:t,canvas:e=t.canvas,viewport:i,intent:a="display",annotationMode:o=Ls.ENABLE,transform:l=null,background:u=null,optionalContentConfigPromise:d=null,annotationCanvasMap:f=null,pageColors:p=null,printAnnotationStorage:g=null,isEditing:b=!1,recordOperations:v=!1,operationsFilter:w=null}){this._stats?.time("Overall");const A=this._transport.getRenderingIntent(a,o,g,b),{renderingIntent:E,cacheKey:T}=A;this.#t=!1,d||=this._transport.getOptionalContentConfig(E);let _=this._intentStates.get(T);_||(_=Object.create(null),this._intentStates.set(T,_)),_.streamReaderCancelTimeout&&(clearTimeout(_.streamReaderCancelTimeout),_.streamReaderCancelTimeout=null);const C=!!(E&Ni.PRINT);_.displayReadyCapability||(_.displayReadyCapability=Promise.withResolvers(),_.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(A));const j=!!(this._pdfBug&&globalThis.StepperManager?.enabled),M=!this.recordedBBoxes&&(v||j),R=X=>{if(_.renderTasks.delete(D),M){const V=D.gfx?.dependencyTracker.take();V&&(D.stepper&&D.stepper.setOperatorBBoxes(V,D.gfx.dependencyTracker.takeDebugMetadata()),v&&(this.recordedBBoxes=V))}C&&(this.#t=!0),this.#e(),X?(D.capability.reject(X),this._abortOperatorList({intentState:_,reason:X instanceof Error?X:new Error(X)})):D.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),globalThis.Stats?.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},D=new jr({callback:R,params:{canvas:e,canvasContext:t,dependencyTracker:M?new DP(e,_.operatorList.length,j):null,viewport:i,transform:l,background:u},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:f,operatorList:_.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!C,pdfBug:this._pdfBug,pageColors:p,enableHWA:this._transport.enableHWA,operationsFilter:w});(_.renderTasks||=new Set).add(D);const P=D.task;return Promise.all([_.displayReadyCapability.promise,d]).then(([X,V])=>{if(this.destroyed){R();return}if(this._stats?.time("Rendering"),!(V.renderingIntent&E))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");D.initializeGraphics({transparency:X,optionalContentConfig:V}),D.operatorListChanged()}).catch(R),P}getOperatorList({intent:t="display",annotationMode:e=Ls.ENABLE,printAnnotationStorage:i=null,isEditing:a=!1}={}){function o(){u.operatorList.lastChunk&&(u.opListReadCapability.resolve(u.operatorList),u.renderTasks.delete(d))}const l=this._transport.getRenderingIntent(t,e,i,a,!0);let u=this._intentStates.get(l.cacheKey);u||(u=Object.create(null),this._intentStates.set(l.cacheKey,u));let d;return u.opListReadCapability||(d=Object.create(null),d.operatorListChanged=o,u.opListReadCapability=Promise.withResolvers(),(u.renderTasks||=new Set).add(d),u.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(l)),u.opListReadCapability.promise}streamTextContent({includeMarkedContent:t=!1,disableNormalization:e=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:t===!0,disableNormalization:e===!0},{highWaterMark:100,size(a){return a.items.length}})}getTextContent(t={}){if(this._transport._htmlForXfa)return this.getXfa().then(i=>jl.textContent(i));const e=this.streamTextContent(t);return new Promise(function(i,a){function o(){l.read().then(function({value:d,done:f}){if(f){i(u);return}u.lang??=d.lang,Object.assign(u.styles,d.styles),u.items.push(...d.items),o()},a)}const l=e.getReader(),u={items:[],styles:Object.create(null),lang:null};o()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const e of this._intentStates.values())if(this._abortOperatorList({intentState:e,reason:new Error("Page was destroyed."),force:!0}),!e.opListReadCapability)for(const i of e.renderTasks)t.push(i.completed),i.cancel();return this.objs.clear(),this.#t=!1,Promise.all(t)}cleanup(t=!1){this.#t=!0;const e=this.#e();return t&&e&&(this._stats&&=new Aw),e}#e(){if(!this.#t||this.destroyed)return!1;for(const{renderTasks:t,operatorList:e}of this._intentStates.values())if(t.size>0||!e.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#t=!1,!0}_startRenderPage(t,e){const i=this._intentStates.get(e);i&&(this._stats?.timeEnd("Page Request"),i.displayReadyCapability?.resolve(t))}_renderPageChunk(t,e){for(let i=0,a=t.length;i<a;i++)e.operatorList.fnArray.push(t.fnArray[i]),e.operatorList.argsArray.push(t.argsArray[i]);e.operatorList.lastChunk=t.lastChunk,e.operatorList.separateAnnots=t.separateAnnots;for(const i of e.renderTasks)i.operatorListChanged();t.lastChunk&&this.#e()}_pumpOperatorList({renderingIntent:t,cacheKey:e,annotationStorageSerializable:i,modifiedIds:a}){const{map:o,transfer:l}=i,d=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:e,annotationStorage:o,modifiedIds:a},l).getReader(),f=this._intentStates.get(e);f.streamReader=d;const p=()=>{d.read().then(({value:g,done:b})=>{if(b){f.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(g,f),p())},g=>{if(f.streamReader=null,!this._transport.destroyed){if(f.operatorList){f.operatorList.lastChunk=!0;for(const b of f.renderTasks)b.operatorListChanged();this.#e()}if(f.displayReadyCapability)f.displayReadyCapability.reject(g);else if(f.opListReadCapability)f.opListReadCapability.reject(g);else throw g}})};p()}_abortOperatorList({intentState:t,reason:e,force:i=!1}){if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!i){if(t.renderTasks.size>0)return;if(e instanceof Xg){let a=h6;e.extraDelay>0&&e.extraDelay<1e3&&(a+=e.extraDelay),t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:e,force:!0})},a);return}}if(t.streamReader.cancel(new Fs(e.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(const[a,o]of this._intentStates)if(o===t){this._intentStates.delete(a);break}this.cleanup()}}}get stats(){return this._stats}}var Ps,sn,Kn,ga,hd,xa,ya,ai,$u,pE,mE,ul,Br,Xu;const re=class re{constructor({name:t=null,port:e=null,verbosity:i=YL()}={}){hn(this,ai);hn(this,Ps,Promise.withResolvers());hn(this,sn,null);hn(this,Kn,null);hn(this,ga,null);if(this.name=t,this.destroyed=!1,this.verbosity=i,e){if(ae(re,ya).has(e))throw new Error("Cannot use more than one PDFWorker per port.");ae(re,ya).set(e,this),fn(this,ai,pE).call(this,e)}else fn(this,ai,mE).call(this)}get promise(){return ae(this,Ps).promise}get port(){return ae(this,Kn)}get messageHandler(){return ae(this,sn)}destroy(){this.destroyed=!0,ae(this,ga)?.terminate(),pi(this,ga,null),ae(re,ya).delete(ae(this,Kn)),pi(this,Kn,null),ae(this,sn)?.destroy(),pi(this,sn,null)}static create(t){const e=ae(this,ya).get(t?.port);if(e){if(e._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return e}return new re(t)}static get workerSrc(){if(Pr.workerSrc)return Pr.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Tt(this,"_setupFakeWorkerGlobal",(async()=>ae(this,Br,Xu)?ae(this,Br,Xu):(await import(this.workerSrc)).WorkerMessageHandler)())}};Ps=new WeakMap,sn=new WeakMap,Kn=new WeakMap,ga=new WeakMap,hd=new WeakMap,xa=new WeakMap,ya=new WeakMap,ai=new WeakSet,$u=function(){ae(this,Ps).resolve(),ae(this,sn).send("configure",{verbosity:this.verbosity})},pE=function(t){pi(this,Kn,t),pi(this,sn,new cl("main","worker",t)),ae(this,sn).on("ready",()=>{}),fn(this,ai,$u).call(this)},mE=function(){if(ae(re,xa)||ae(re,Br,Xu)){fn(this,ai,ul).call(this);return}let{workerSrc:t}=re;try{re._isSameOrigin(window.location,t)||(t=re._createCDNWrapper(new URL(t,window.location).href));const e=new Worker(t,{type:"module"}),i=new cl("main","worker",e),a=()=>{o.abort(),i.destroy(),e.terminate(),this.destroyed?ae(this,Ps).reject(new Error("Worker was destroyed")):fn(this,ai,ul).call(this)},o=new AbortController;e.addEventListener("error",()=>{ae(this,ga)||a()},{signal:o.signal}),i.on("test",u=>{if(o.abort(),this.destroyed||!u){a();return}pi(this,sn,i),pi(this,Kn,e),pi(this,ga,e),fn(this,ai,$u).call(this)}),i.on("ready",u=>{if(o.abort(),this.destroyed){a();return}try{l()}catch{fn(this,ai,ul).call(this)}});const l=()=>{const u=new Uint8Array;i.send("test",u,[u.buffer])};l();return}catch{jd("The worker has been disabled.")}fn(this,ai,ul).call(this)},ul=function(){ae(re,xa)||(Et("Setting up fake worker."),pi(re,xa,!0)),re._setupFakeWorkerGlobal.then(t=>{if(this.destroyed){ae(this,Ps).reject(new Error("Worker was destroyed"));return}const e=new SP;pi(this,Kn,e);const i=`fake${av(re,hd)._++}`,a=new cl(i+"_worker",i,e);t.setup(a,e),pi(this,sn,new cl(i,i+"_worker",e)),fn(this,ai,$u).call(this)}).catch(t=>{ae(this,Ps).reject(new Error(`Setting up fake worker failed: "${t.message}".`))})},Br=new WeakSet,Xu=function(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}},hn(re,Br),hn(re,hd,0),hn(re,xa,!1),hn(re,ya,new WeakMap),ii&&(pi(re,xa,!0),Pr.workerSrc||="./pdf.worker.mjs"),re._isSameOrigin=(t,e)=>{const i=URL.parse(t);if(!i?.origin||i.origin==="null")return!1;const a=new URL(e,i);return i.origin===a.origin},re._createCDNWrapper=t=>{const e=`await import("${t}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))},re.fromPort=t=>{if(rP("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!t?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return re.create(t)};let Ml=re;class m6{#t=new Map;#e=new Map;#n=new Map;#i=new Map;#r=null;constructor(t,e,i,a,o,l){this.messageHandler=t,this.loadingTask=e,this.commonObjs=new hE,this.fontLoader=new xP({ownerDocument:a.ownerDocument,styleElement:a.styleElement}),this.loadingParams=a.loadingParams,this._params=a,this.canvasFactory=o.canvasFactory,this.filterFactory=o.filterFactory,this.cMapReaderFactory=o.cMapReaderFactory,this.standardFontDataFactory=o.standardFontDataFactory,this.wasmFactory=o.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=i,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=l,this.setupMessageHandler()}#a(t,e=null){const i=this.#t.get(t);if(i)return i;const a=this.messageHandler.sendWithPromise(t,e);return this.#t.set(t,a),a}get annotationStorage(){return Tt(this,"annotationStorage",new Qg)}getRenderingIntent(t,e=Ls.ENABLE,i=null,a=!1,o=!1){let l=Ni.DISPLAY,u=Pm;switch(t){case"any":l=Ni.ANY;break;case"display":break;case"print":l=Ni.PRINT;break;default:Et(`getRenderingIntent - invalid intent: ${t}`)}const d=l&Ni.PRINT&&i instanceof tE?i:this.annotationStorage;switch(e){case Ls.DISABLE:l+=Ni.ANNOTATIONS_DISABLE;break;case Ls.ENABLE:break;case Ls.ENABLE_FORMS:l+=Ni.ANNOTATIONS_FORMS;break;case Ls.ENABLE_STORAGE:l+=Ni.ANNOTATIONS_STORAGE,u=d.serializable;break;default:Et(`getRenderingIntent - invalid annotationMode: ${e}`)}a&&(l+=Ni.IS_EDITING),o&&(l+=Ni.OPLIST);const{ids:f,hash:p}=d.modifiedIds,g=[l,u.hash,p];return{renderingIntent:l,cacheKey:g.join("_"),annotationStorageSerializable:u,modifiedIds:f}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),this.#r?.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const i of this.#e.values())t.push(i._destroy());this.#e.clear(),this.#n.clear(),this.#i.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const e=this.messageHandler.sendWithPromise("Terminate",null);return t.push(e),Promise.all(t).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#t.clear(),this.filterFactory.destroy(),ei.cleanup(),this._networkStream?.cancelAllRequests(new Fs("Worker was terminated.")),this.messageHandler?.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:e}=this;t.on("GetReader",(i,a)=>{Pt(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=o=>{this._lastProgress={loaded:o.loaded,total:o.total}},a.onPull=()=>{this._fullReader.read().then(function({value:o,done:l}){if(l){a.close();return}Pt(o instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),a.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{a.error(o)})},a.onCancel=o=>{this._fullReader.cancel(o),a.ready.catch(l=>{if(!this.destroyed)throw l})}}),t.on("ReaderHeadersReady",async i=>{await this._fullReader.headersReady;const{isStreamingSupported:a,isRangeSupported:o,contentLength:l}=this._fullReader;return(!a||!o)&&(this._lastProgress&&e.onProgress?.(this._lastProgress),this._fullReader.onProgress=u=>{e.onProgress?.({loaded:u.loaded,total:u.total})}),{isStreamingSupported:a,isRangeSupported:o,contentLength:l}}),t.on("GetRangeReader",(i,a)=>{Pt(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const o=this._networkStream.getRangeReader(i.begin,i.end);if(!o){a.close();return}a.onPull=()=>{o.read().then(function({value:l,done:u}){if(u){a.close();return}Pt(l instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),a.enqueue(new Uint8Array(l),1,[l])}).catch(l=>{a.error(l)})},a.onCancel=l=>{o.cancel(l),a.ready.catch(u=>{if(!this.destroyed)throw u})}}),t.on("GetDoc",({pdfInfo:i})=>{this._numPages=i.numPages,this._htmlForXfa=i.htmlForXfa,delete i.htmlForXfa,e._capability.resolve(new f6(i,this))}),t.on("DocException",i=>{e._capability.reject(mi(i))}),t.on("PasswordRequest",i=>{this.#r=Promise.withResolvers();try{if(!e.onPassword)throw mi(i);const a=o=>{o instanceof Error?this.#r.reject(o):this.#r.resolve({password:o})};e.onPassword(a,i.code)}catch(a){this.#r.reject(a)}return this.#r.promise}),t.on("DataLoaded",i=>{e.onProgress?.({loaded:i.length,total:i.length}),this.downloadInfoCapability.resolve(i)}),t.on("StartRenderPage",i=>{if(this.destroyed)return;this.#e.get(i.pageIndex)._startRenderPage(i.transparency,i.cacheKey)}),t.on("commonobj",([i,a,o])=>{if(this.destroyed||this.commonObjs.has(i))return null;switch(a){case"Font":if("error"in o){const g=o.error;Et(`Error during font loading: ${g}`),this.commonObjs.resolve(i,g);break}const l=new Qt(o),u=this._params.pdfBug&&globalThis.FontInspector?.enabled?(g,b)=>globalThis.FontInspector.fontAdded(g,b):null,d=new yP(l,u,o.extra,o.charProcOperatorList);this.fontLoader.bind(d).catch(()=>t.sendWithPromise("FontFallback",{id:i})).finally(()=>{!d.fontExtraProperties&&d.data&&d.clearData(),this.commonObjs.resolve(i,d)});break;case"CopyLocalImage":const{imageRef:f}=o;Pt(f,"The imageRef must be defined.");for(const g of this.#e.values())for(const[,b]of g.objs)if(b?.ref===f)return b.dataLen?(this.commonObjs.resolve(i,structuredClone(b)),b.dataLen):null;break;case"FontPath":case"Image":this.commonObjs.resolve(i,o);break;case"Pattern":const p=new ze(o);this.commonObjs.resolve(i,p.getIR());break;default:throw new Error(`Got unknown common object type ${a}`)}return null}),t.on("obj",([i,a,o,l])=>{if(this.destroyed)return;const u=this.#e.get(a);if(!u.objs.has(i)){if(u._intentStates.size===0){l?.bitmap?.close();return}switch(o){case"Image":case"Pattern":u.objs.resolve(i,l);break;default:throw new Error(`Got unknown object type ${o}`)}}}),t.on("DocProgress",i=>{this.destroyed||e.onProgress?.({loaded:i.loaded,total:i.total})}),t.on("FetchBinaryData",async i=>{if(this.destroyed)throw new Error("Worker was destroyed.");const a=this[i.type];if(!a)throw new Error(`${i.type} not initialized, see the \`useWorkerFetch\` parameter.`);return a.fetch(i)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&Et("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:t,transfer:e}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:t,filename:this._fullReader?.filename??null},e).finally(()=>{this.annotationStorage.resetModified()})}extractPages(t){return this.messageHandler.sendWithPromise("ExtractPages",{pageInfos:t})}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const e=t-1,i=this.#n.get(e);if(i)return i;const a=this.messageHandler.sendWithPromise("GetPage",{pageIndex:e}).then(o=>{if(this.destroyed)throw new Error("Transport destroyed");o.refStr&&this.#i.set(o.refStr,t);const l=new p6(e,o,this,this._params.pdfBug);return this.#e.set(e,l),l});return this.#n.set(e,a),a}getPageIndex(t){return Bm(t)?this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}getFieldObjects(){return this.#a("GetFieldObjects")}hasJSActions(){return this.#a("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(t,e){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:t,pageIndexesToSkip:e})}getDocJSActions(){return this.#a("GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return this.#a("GetOptionalContentConfig").then(e=>new XP(e,t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const t="GetMetadata",e=this.#t.get(t);if(e)return e;const i=this.messageHandler.sendWithPromise(t,null).then(a=>({info:a[0],metadata:a[1]?new GP(a[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null,hasStructTree:a[2]}));return this.#t.set(t,i),i}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(t=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of this.#e.values())if(!e.cleanup())throw new Error(`startCleanup: Page ${e.pageNumber} is currently rendering.`);this.commonObjs.clear(),t||this.fontLoader.clear(),this.#t.clear(),this.filterFactory.destroy(!0),ei.cleanup()}}cachedPageNumber(t){if(!Bm(t))return null;const e=t.gen===0?`${t.num}R`:`${t.num}R${t.gen}`;return this.#i.get(e)??null}}class g6{#t=null;onContinue=null;onError=null;constructor(t){this.#t=t}get promise(){return this.#t.capability.promise}cancel(t=0){this.#t.cancel(null,t)}get separateAnnots(){const{separateAnnots:t}=this.#t.operatorList;if(!t)return!1;const{annotationCanvasMap:e}=this.#t;return t.form||t.canvas&&e?.size>0}}class jr{#t=null;static#e=new WeakSet;constructor({callback:t,params:e,objs:i,commonObjs:a,annotationCanvasMap:o,operatorList:l,pageIndex:u,canvasFactory:d,filterFactory:f,useRequestAnimationFrame:p=!1,pdfBug:g=!1,pageColors:b=null,enableHWA:v=!1,operationsFilter:w=null}){this.callback=t,this.params=e,this.objs=i,this.commonObjs=a,this.annotationCanvasMap=o,this.operatorListIdx=null,this.operatorList=l,this._pageIndex=u,this.canvasFactory=d,this.filterFactory=f,this._pdfBug=g,this.pageColors=b,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=p===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new g6(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=e.canvas,this._canvasContext=e.canvas?null:e.canvasContext,this._enableHWA=v,this._dependencyTracker=e.dependencyTracker,this._operationsFilter=w}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:t=!1,optionalContentConfig:e}){if(this.cancelled)return;if(this._canvas){if(jr.#e.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");jr.#e.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:i,transform:a,background:o,dependencyTracker:l}=this.params,u=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new Lr(u,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:e},this.annotationCanvasMap,this.pageColors,l),this.gfx.beginDrawing({transform:a,viewport:i,transparency:t,background:o}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(t=null,e=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),this.#t&&(window.cancelAnimationFrame(this.#t),this.#t=null),jr.#e.delete(this._canvas),t||=new Xg(`Rendering cancelled, page ${this._pageIndex+1}`,e),this.callback(t),this.task.onError?.(t)}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.gfx.dependencyTracker?.growOperationsCount(this.operatorList.fnArray.length),this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?this.#t=window.requestAnimationFrame(()=>{this.#t=null,this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._operationsFilter),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),jr.#e.delete(this._canvas),this.callback())))}}const gE="5.4.449",x6="f44e5f0e6";class $i{#t=null;#e=null;#n;#i=null;#r=!1;#a=!1;#s=null;#o;#c=null;#l=null;static#h=null;static get _keyboardManager(){return Tt(this,"_keyboardManager",new Wl([[["Escape","mac+Escape"],$i.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],$i.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],$i.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],$i.prototype._moveToPrevious],[["Home","mac+Home"],$i.prototype._moveToBeginning],[["End","mac+End"],$i.prototype._moveToEnd]]))}constructor({editor:t=null,uiManager:e=null}){t?(this.#a=!1,this.#s=t):this.#a=!0,this.#l=t?._uiManager||e,this.#o=this.#l._eventBus,this.#n=t?.color?.toUpperCase()||this.#l?.highlightColors.values().next().value||"#FFFF98",$i.#h||=Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"})}renderButton(){const t=this.#t=document.createElement("button");t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.ariaHasPopup="true",this.#s&&(t.ariaControls=`${this.#s.id}_colorpicker_dropdown`);const e=this.#l._signal;t.addEventListener("click",this.#m.bind(this),{signal:e}),t.addEventListener("keydown",this.#g.bind(this),{signal:e});const i=this.#e=document.createElement("span");return i.className="swatch",i.ariaHidden="true",i.style.backgroundColor=this.#n,t.append(i),t}renderMainDropdown(){const t=this.#i=this.#d();return t.ariaOrientation="horizontal",t.ariaLabelledBy="highlightColorPickerLabel",t}#d(){const t=document.createElement("div"),e=this.#l._signal;t.addEventListener("contextmenu",Wi,{signal:e}),t.className="dropdown",t.role="listbox",t.ariaMultiSelectable="false",t.ariaOrientation="vertical",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),this.#s&&(t.id=`${this.#s.id}_colorpicker_dropdown`);for(const[i,a]of this.#l.highlightColors){const o=document.createElement("button");o.tabIndex="0",o.role="option",o.setAttribute("data-color",a),o.title=i,o.setAttribute("data-l10n-id",$i.#h[i]);const l=document.createElement("span");o.append(l),l.className="swatch",l.style.backgroundColor=a,o.ariaSelected=a===this.#n,o.addEventListener("click",this.#f.bind(this,a),{signal:e}),t.append(o)}return t.addEventListener("keydown",this.#g.bind(this),{signal:e}),t}#f(t,e){e.stopPropagation(),this.#o.dispatch("switchannotationeditorparams",{source:this,type:Lt.HIGHLIGHT_COLOR,value:t}),this.updateColor(t)}_colorSelectFromKeyboard(t){if(t.target===this.#t){this.#m(t);return}const e=t.target.getAttribute("data-color");e&&this.#f(e,t)}_moveToNext(t){if(!this.#p){this.#m(t);return}if(t.target===this.#t){this.#i.firstElementChild?.focus();return}t.target.nextSibling?.focus()}_moveToPrevious(t){if(t.target===this.#i?.firstElementChild||t.target===this.#t){this.#p&&this._hideDropdownFromKeyboard();return}this.#p||this.#m(t),t.target.previousSibling?.focus()}_moveToBeginning(t){if(!this.#p){this.#m(t);return}this.#i.firstElementChild?.focus()}_moveToEnd(t){if(!this.#p){this.#m(t);return}this.#i.lastElementChild?.focus()}#g(t){$i._keyboardManager.exec(this,t)}#m(t){if(this.#p){this.hideDropdown();return}if(this.#r=t.detail===0,this.#c||(this.#c=new AbortController,window.addEventListener("pointerdown",this.#u.bind(this),{signal:this.#l.combinedSignal(this.#c)})),this.#t.ariaExpanded="true",this.#i){this.#i.classList.remove("hidden");return}const e=this.#i=this.#d();this.#t.append(e)}#u(t){this.#i?.contains(t.target)||this.hideDropdown()}hideDropdown(){this.#i?.classList.add("hidden"),this.#t.ariaExpanded="false",this.#c?.abort(),this.#c=null}get#p(){return this.#i&&!this.#i.classList.contains("hidden")}_hideDropdownFromKeyboard(){if(!this.#a){if(!this.#p){this.#s?.unselect();return}this.hideDropdown(),this.#t.focus({preventScroll:!0,focusVisible:this.#r})}}updateColor(t){if(this.#e&&(this.#e.style.backgroundColor=t),!this.#i)return;const e=this.#l.highlightColors.values();for(const i of this.#i.children)i.ariaSelected=e.next().value===t.toUpperCase()}destroy(){this.#t?.remove(),this.#t=null,this.#e=null,this.#i?.remove(),this.#i=null}}class Dl{#t=null;#e=null;#n=null;static#i=null;constructor(t){this.#e=t,this.#n=t._uiManager,Dl.#i||=Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"})}renderButton(){if(this.#t)return this.#t;const{editorType:t,colorType:e,color:i}=this.#e,a=this.#t=document.createElement("input");return a.type="color",a.value=i||"#000000",a.className="basicColorPicker",a.tabIndex=0,a.setAttribute("data-l10n-id",Dl.#i[t]),a.addEventListener("input",()=>{this.#n.updateParams(e,a.value)},{signal:this.#n._signal}),a}update(t){this.#t&&(this.#t.value=t)}destroy(){this.#t?.remove(),this.#t=null}hideDropdown(){}}function qw(s){return Math.floor(Math.max(0,Math.min(1,s))*255).toString(16).padStart(2,"0")}function al(s){return Math.max(0,Math.min(255,255*s))}class Gw{static CMYK_G([t,e,i,a]){return["G",1-Math.min(1,.3*t+.59*i+.11*e+a)]}static G_CMYK([t]){return["CMYK",0,0,0,1-t]}static G_RGB([t]){return["RGB",t,t,t]}static G_rgb([t]){return t=al(t),[t,t,t]}static G_HTML([t]){const e=qw(t);return`#${e}${e}${e}`}static RGB_G([t,e,i]){return["G",.3*t+.59*e+.11*i]}static RGB_rgb(t){return t.map(al)}static RGB_HTML(t){return`#${t.map(qw).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([t,e,i,a]){return["RGB",1-Math.min(1,t+a),1-Math.min(1,i+a),1-Math.min(1,e+a)]}static CMYK_rgb([t,e,i,a]){return[al(1-Math.min(1,t+a)),al(1-Math.min(1,i+a)),al(1-Math.min(1,e+a))]}static CMYK_HTML(t){const e=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(e)}static RGB_CMYK([t,e,i]){const a=1-t,o=1-e,l=1-i,u=Math.min(a,o,l);return["CMYK",a,o,l,u]}}class y6{create(t,e,i=!1){if(t<=0||e<=0)throw new Error("Invalid SVG dimensions");const a=this._createSVG("svg:svg");return a.setAttribute("version","1.1"),i||(a.setAttribute("width",`${t}px`),a.setAttribute("height",`${e}px`)),a.setAttribute("preserveAspectRatio","none"),a.setAttribute("viewBox",`0 0 ${t} ${e}`),a}createElement(t){if(typeof t!="string")throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){te("Abstract method `_createSVG` called.")}}class dd extends y6{_createSVG(t){return document.createElementNS($n,t)}}const b6=9,Ea=new WeakSet,v6=new Date().getTimezoneOffset()*60*1e3;class Hp{static create(t){switch(t.data.annotationType){case je.LINK:return new i0(t);case je.TEXT:return new A6(t);case je.WIDGET:switch(t.data.fieldType){case"Tx":return new S6(t);case"Btn":return t.data.radioButton?new xE(t):t.data.checkBox?new T6(t):new C6(t);case"Ch":return new _6(t);case"Sig":return new E6(t)}return new ka(t);case je.POPUP:return new Um(t);case je.FREETEXT:return new yE(t);case je.LINE:return new k6(t);case je.SQUARE:return new j6(t);case je.CIRCLE:return new M6(t);case je.POLYLINE:return new bE(t);case je.CARET:return new R6(t);case je.INK:return new n0(t);case je.POLYGON:return new D6(t);case je.HIGHLIGHT:return new vE(t);case je.UNDERLINE:return new O6(t);case je.SQUIGGLY:return new L6(t);case je.STRIKEOUT:return new P6(t);case je.STAMP:return new wE(t);case je.FILEATTACHMENT:return new B6(t);default:return new me(t)}}}class me{#t=null;#e=!1;#n=null;constructor(t,{isRenderable:e=!1,ignoreBorder:i=!1,createQuadrilaterals:a=!1}={}){this.isRenderable=e,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableComment=t.enableComment,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,this.hasOwnCommentButton=!1,e&&(this.contentElement=this.container=this._createContainer(i)),a&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:t,richText:e}){return!!(t?.str||e?.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return me._hasPopupData(this.data)||this.enableComment&&!!this.commentText}get commentData(){const{data:t}=this,e=this.annotationStorage?.getEditor(t.id);return e?e.getData():t}get hasCommentButton(){return this.enableComment&&this.hasPopupElement}get commentButtonPosition(){const t=this.annotationStorage?.getEditor(this.data.id);if(t)return t.commentButtonPositionInPage;const{quadPoints:e,inkLists:i,rect:a}=this.data;let o=-1/0,l=-1/0;if(e?.length>=8){for(let u=0;u<e.length;u+=8)e[u+1]>l?(l=e[u+1],o=e[u+2]):e[u+1]===l&&(o=Math.max(o,e[u+2]));return[o,l]}if(i?.length>=1){for(const u of i)for(let d=0,f=u.length;d<f;d+=2)u[d+1]>l?(l=u[d+1],o=u[d]):u[d+1]===l&&(o=Math.max(o,u[d]));if(o!==1/0)return[o,l]}return a?[a[2],a[3]]:null}_normalizePoint(t){const{page:{view:e},viewport:{rawDims:{pageWidth:i,pageHeight:a,pageX:o,pageY:l}}}=this.parent;return t[1]=e[3]-t[1]+e[1],t[0]=100*(t[0]-o)/i,t[1]=100*(t[1]-l)/a,t}get commentText(){const{data:t}=this;return this.annotationStorage.getRawValue(`${Nl}${t.id}`)?.popup?.contents||t.contentsObj?.str||""}set commentText(t){const{data:e}=this,i={deleted:!t,contents:t||""};this.annotationStorage.updateEditor(e.id,{popup:i})||this.annotationStorage.setValue(`${Nl}${e.id}`,{id:e.id,annotationType:e.annotationType,pageIndex:this.parent.page._pageIndex,popup:i,popupRef:e.popupRef,modificationDate:new Date}),t||this.removePopup()}removePopup(){(this.#n?.popup||this.popup)?.remove(),this.#n=this.popup=null}updateEdited(t){if(!this.container)return;t.rect&&(this.#t||={rect:this.data.rect.slice(0)});const{rect:e,popup:i}=t;e&&this.#i(e);let a=this.#n?.popup||this.popup;!a&&i?.text&&(this._createPopup(i),a=this.#n.popup),a&&(a.updateEdited(t),i?.deleted&&(a.remove(),this.#n=null,this.popup=null))}resetEdited(){this.#t&&(this.#i(this.#t.rect),this.#n?.popup.resetEdited(),this.#t=null)}#i(t){const{container:{style:e},data:{rect:i,rotation:a},parent:{viewport:{rawDims:{pageWidth:o,pageHeight:l,pageX:u,pageY:d}}}}=this;i?.splice(0,4,...t),e.left=`${100*(t[0]-u)/o}%`,e.top=`${100*(l-t[3]+d)/l}%`,a===0?(e.width=`${100*(t[2]-t[0])/o}%`,e.height=`${100*(t[3]-t[1])/l}%`):this.setRotation(a)}_createContainer(t){const{data:e,parent:{page:i,viewport:a}}=this,o=document.createElement("section");o.setAttribute("data-annotation-id",e.id),!(this instanceof ka)&&!(this instanceof i0)&&(o.tabIndex=0);const{style:l}=o;if(l.zIndex=this.parent.zIndex,this.parent.zIndex+=2,e.alternativeText&&(o.title=e.alternativeText),e.noRotate&&o.classList.add("norotate"),!e.rect||this instanceof Um){const{rotation:A}=e;return!e.hasOwnCanvas&&A!==0&&this.setRotation(A,o),o}const{width:u,height:d}=this;if(!t&&e.borderStyle.width>0){l.borderWidth=`${e.borderStyle.width}px`;const A=e.borderStyle.horizontalCornerRadius,E=e.borderStyle.verticalCornerRadius;if(A>0||E>0){const _=`calc(${A}px * var(--total-scale-factor)) / calc(${E}px * var(--total-scale-factor))`;l.borderRadius=_}else if(this instanceof xE){const _=`calc(${u}px * var(--total-scale-factor)) / calc(${d}px * var(--total-scale-factor))`;l.borderRadius=_}switch(e.borderStyle.style){case vr.SOLID:l.borderStyle="solid";break;case vr.DASHED:l.borderStyle="dashed";break;case vr.BEVELED:Et("Unimplemented border style: beveled");break;case vr.INSET:Et("Unimplemented border style: inset");break;case vr.UNDERLINE:l.borderBottomStyle="solid";break}const T=e.borderColor||null;T?(this.#e=!0,l.borderColor=ut.makeHexColor(T[0]|0,T[1]|0,T[2]|0)):l.borderWidth=0}const f=ut.normalizeRect([e.rect[0],i.view[3]-e.rect[1]+i.view[1],e.rect[2],i.view[3]-e.rect[3]+i.view[1]]),{pageWidth:p,pageHeight:g,pageX:b,pageY:v}=a.rawDims;l.left=`${100*(f[0]-b)/p}%`,l.top=`${100*(f[1]-v)/g}%`;const{rotation:w}=e;return e.hasOwnCanvas||w===0?(l.width=`${100*u/p}%`,l.height=`${100*d/g}%`):this.setRotation(w,o),o}setRotation(t,e=this.container){if(!this.data.rect)return;const{pageWidth:i,pageHeight:a}=this.parent.viewport.rawDims;let{width:o,height:l}=this;t%180!==0&&([o,l]=[l,o]),e.style.width=`${100*o/i}%`,e.style.height=`${100*l/a}%`,e.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(e,i,a)=>{const o=a.detail[e],l=o[0],u=o.slice(1);a.target.style[i]=Gw[`${l}_HTML`](u),this.annotationStorage.setValue(this.data.id,{[i]:Gw[`${l}_rgb`](u)})};return Tt(this,"_commonActions",{display:e=>{const{display:i}=e.detail,a=i%2===1;this.container.style.visibility=a?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:a,noPrint:i===1||i===2})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:i}=e.detail;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:i,noView:i})},focus:e=>{setTimeout(()=>e.target.focus({preventScroll:!1}),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:e=>{t("bgColor","backgroundColor",e)},fillColor:e=>{t("fillColor","backgroundColor",e)},fgColor:e=>{t("fgColor","color",e)},textColor:e=>{t("textColor","color",e)},borderColor:e=>{t("borderColor","borderColor",e)},strokeColor:e=>{t("strokeColor","borderColor",e)},rotation:e=>{const i=e.detail.rotation;this.setRotation(i),this.annotationStorage.setValue(this.data.id,{rotation:i})}})}_dispatchEventFromSandbox(t,e){const i=this._commonActions;for(const a of Object.keys(e.detail))(t[a]||i[a])?.(e)}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const e=this.annotationStorage.getRawValue(this.data.id);if(!e)return;const i=this._commonActions;for(const[a,o]of Object.entries(e)){const l=i[a];if(l){const u={detail:{[a]:o},target:t};l(u),delete e[a]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:t}=this.data;if(!t)return;const[e,i,a,o]=this.data.rect.map(A=>Math.fround(A));if(t.length===8){const[A,E,T,_]=t.subarray(2,6);if(a===A&&o===E&&e===T&&i===_)return}const{style:l}=this.container;let u;if(this.#e){const{borderColor:A,borderWidth:E}=l;l.borderWidth=0,u=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${A}" stroke-width="${E}">`],this.container.classList.add("hasBorder")}const d=a-e,f=o-i,{svgFactory:p}=this,g=p.createElement("svg");g.classList.add("quadrilateralsContainer"),g.setAttribute("width",0),g.setAttribute("height",0),g.role="none";const b=p.createElement("defs");g.append(b);const v=p.createElement("clipPath"),w=`clippath_${this.data.id}`;v.setAttribute("id",w),v.setAttribute("clipPathUnits","objectBoundingBox"),b.append(v);for(let A=2,E=t.length;A<E;A+=8){const T=t[A],_=t[A+1],C=t[A+2],j=t[A+3],M=p.createElement("rect"),R=(C-e)/d,D=(o-_)/f,P=(T-C)/d,X=(_-j)/f;M.setAttribute("x",R),M.setAttribute("y",D),M.setAttribute("width",P),M.setAttribute("height",X),v.append(M),u?.push(`<rect vector-effect="non-scaling-stroke" x="${R}" y="${D}" width="${P}" height="${X}"/>`)}this.#e&&(u.push("</g></svg>')"),l.backgroundImage=u.join("")),this.container.append(g),this.container.style.clipPath=`url(#${w})`}_createPopup(t=null){const{data:e}=this;let i,a;t?(i={str:t.text},a=t.date):(i=e.contentsObj,a=e.modificationDate),this.#n=new Um({data:{color:e.color,titleObj:e.titleObj,modificationDate:a,contentsObj:i,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]})}get hasPopupElement(){return!!(this.#n||this.popup||this.data.popupRef)}get extraPopupElement(){return this.#n}render(){te("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,e=null){const i=[];if(this._fieldObjects){const a=this._fieldObjects[t];if(a)for(const{page:o,id:l,exportValues:u}of a){if(o===-1||l===e)continue;const d=typeof u=="string"?u:null,f=document.querySelector(`[data-element-id="${l}"]`);if(f&&!Ea.has(f)){Et(`_getElementsByName - element not allowed: ${l}`);continue}i.push({id:l,exportValue:d,domElement:f})}return i}for(const a of document.getElementsByName(t)){const{exportValue:o}=a,l=a.getAttribute("data-element-id");l!==e&&Ea.has(a)&&i.push({id:l,exportValue:o,domElement:a})}return i}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(const e of t)e.classList.add("highlightArea");else t.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:t,data:{id:e}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:t,editId:e,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}}class w6 extends me{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.editor=t.editor}render(){return this.container.className="editorAnnotation",this.container}createOrUpdatePopup(){const{editor:t}=this;t.hasComment&&this._createPopup(t.comment)}get hasCommentButton(){return this.enableComment&&this.editor.hasComment}get commentButtonPosition(){return this.editor.commentButtonPositionInPage}get commentText(){return this.editor.comment.text}set commentText(t){this.editor.comment=t,t||this.removePopup()}get commentData(){return this.editor.getData()}remove(){this.parent.removeAnnotation(this.data.id),this.container.remove(),this.container=null,this.removePopup()}}class i0 extends me{constructor(t,e=null){super(t,{isRenderable:!0,ignoreBorder:!!e?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:e}=this,i=document.createElement("a");i.setAttribute("data-element-id",t.id);let a=!1;return t.url?(e.addLinkAttributes(i,t.url,t.newWindow),a=!0):t.action?(this._bindNamedAction(i,t.action,t.overlaidText),a=!0):t.attachment?(this.#e(i,t.attachment,t.overlaidText,t.attachmentDest),a=!0):t.setOCGState?(this.#n(i,t.setOCGState,t.overlaidText),a=!0):t.dest?(this._bindLink(i,t.dest,t.overlaidText),a=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(i,t),a=!0),t.resetForm?(this._bindResetFormAction(i,t.resetForm),a=!0):this.isTooltipOnly&&!a&&(this._bindLink(i,""),a=!0)),this.container.classList.add("linkAnnotation"),a&&(this.contentElement=i,this.container.append(i)),this.container}#t(){this.container.setAttribute("data-internal-link","")}_bindLink(t,e,i=""){t.href=this.linkService.getDestinationHash(e),t.onclick=()=>(e&&this.linkService.goToDestination(e),!1),(e||e==="")&&this.#t(),i&&(t.title=i)}_bindNamedAction(t,e,i=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(e),!1),i&&(t.title=i),this.#t()}#e(t,e,i="",a=null){t.href=this.linkService.getAnchorUrl(""),e.description?t.title=e.description:i&&(t.title=i),t.onclick=()=>(this.downloadManager?.openOrDownloadData(e.content,e.filename,a),!1),this.#t()}#n(t,e,i=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(e),!1),i&&(t.title=i),this.#t()}_bindJSAction(t,e){t.href=this.linkService.getAnchorUrl("");const i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const a of Object.keys(e.actions)){const o=i.get(a);o&&(t[o]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e.id,name:a}}),!1))}e.overlaidText&&(t.title=e.overlaidText),t.onclick||(t.onclick=()=>!1),this.#t()}_bindResetFormAction(t,e){const i=t.onclick;if(i||(t.href=this.linkService.getAnchorUrl("")),this.#t(),!this._fieldObjects){Et('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),i||(t.onclick=()=>!1);return}t.onclick=()=>{i?.();const{fields:a,refs:o,include:l}=e,u=[];if(a.length!==0||o.length!==0){const p=new Set(o);for(const g of a){const b=this._fieldObjects[g]||[];for(const{id:v}of b)p.add(v)}for(const g of Object.values(this._fieldObjects))for(const b of g)p.has(b.id)===l&&u.push(b)}else for(const p of Object.values(this._fieldObjects))u.push(...p);const d=this.annotationStorage,f=[];for(const p of u){const{id:g}=p;switch(f.push(g),p.type){case"text":{const v=p.defaultValue||"";d.setValue(g,{value:v});break}case"checkbox":case"radiobutton":{const v=p.defaultValue===p.exportValues;d.setValue(g,{value:v});break}case"combobox":case"listbox":{const v=p.defaultValue||"";d.setValue(g,{value:v});break}default:continue}const b=document.querySelector(`[data-element-id="${g}"]`);if(b){if(!Ea.has(b)){Et(`_bindResetFormAction - element not allowed: ${g}`);continue}}else continue;b.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:f,name:"ResetForm"}}),!1}}}class A6 extends me{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.append(t),this.container}}class ka extends me{render(){return this.container}showElementAndHideCanvas(t){this.data.hasOwnCanvas&&(t.previousSibling?.nodeName==="CANVAS"&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return We.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,e,i,a,o){i.includes("mouse")?t.addEventListener(i,l=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:a,value:o(l),shift:l.shiftKey,modifier:this._getKeyModifier(l)}})}):t.addEventListener(i,l=>{if(i==="blur"){if(!e.focused||!l.relatedTarget)return;e.focused=!1}else if(i==="focus"){if(e.focused)return;e.focused=!0}o&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:a,value:o(l)}})})}_setEventListeners(t,e,i,a){for(const[o,l]of i)(l==="Action"||this.data.actions?.[l])&&((l==="Focus"||l==="Blur")&&(e||={focused:!1}),this._setEventListener(t,e,o,l,a),l==="Focus"&&!this.data.actions?.Blur?this._setEventListener(t,e,"blur","Blur",null):l==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(t,e,"focus","Focus",null))}_setBackgroundColor(t){const e=this.data.backgroundColor||null;t.style.backgroundColor=e===null?"transparent":ut.makeHexColor(e[0],e[1],e[2])}_setTextStyle(t){const e=["left","center","right"],{fontColor:i}=this.data.defaultAppearanceData,a=this.data.defaultAppearanceData.fontSize||b6,o=t.style;let l;const u=2,d=f=>Math.round(10*f)/10;if(this.data.multiLine){const f=Math.abs(this.data.rect[3]-this.data.rect[1]-u),p=Math.round(f/(Op*a))||1,g=f/p;l=Math.min(a,d(g/Op))}else{const f=Math.abs(this.data.rect[3]-this.data.rect[1]-u);l=Math.min(a,d(f/Op))}o.fontSize=`calc(${l}px * var(--total-scale-factor))`,o.color=ut.makeHexColor(i[0],i[1],i[2]),this.data.textAlignment!==null&&(o.textAlign=e[this.data.textAlignment])}_setRequired(t,e){e?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",e)}}class S6 extends ka{constructor(t){const e=t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue;super(t,{isRenderable:e})}setPropertyOnSiblings(t,e,i,a){const o=this.annotationStorage;for(const l of this._getElementsByName(t.name,t.id))l.domElement&&(l.domElement[e]=i),o.setValue(l.id,{[a]:i})}render(){const t=this.annotationStorage,e=this.data.id;this.container.classList.add("textWidgetAnnotation");let i=null;if(this.renderForms){const a=t.getValue(e,{value:this.data.fieldValue});let o=a.value||"";const l=t.getValue(e,{charLimit:this.data.maxLen}).charLimit;l&&o.length>l&&(o=o.slice(0,l));let u=a.formattedValue||this.data.textContent?.join(`
`)||null;u&&this.data.comb&&(u=u.replaceAll(/\s+/g,""));const d={userValue:o,formattedValue:u,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(i=document.createElement("textarea"),i.textContent=u??o,this.data.doNotScroll&&(i.style.overflowY="hidden")):(i=document.createElement("input"),i.type=this.data.password?"password":"text",i.setAttribute("value",u??o),this.data.doNotScroll&&(i.style.overflowX="hidden")),this.data.hasOwnCanvas&&(i.hidden=!0),Ea.add(i),this.contentElement=i,i.setAttribute("data-element-id",e),i.disabled=this.data.readOnly,i.name=this.data.fieldName,i.tabIndex=0;const{datetimeFormat:f,datetimeType:p,timeStep:g}=this.data,b=!!p&&this.enableScripting;f&&(i.title=f),this._setRequired(i,this.data.required),l&&(i.maxLength=l),i.addEventListener("input",w=>{t.setValue(e,{value:w.target.value}),this.setPropertyOnSiblings(i,"value",w.target.value,"value"),d.formattedValue=null}),i.addEventListener("resetform",w=>{const A=this.data.defaultFieldValue??"";i.value=d.userValue=A,d.formattedValue=null});let v=w=>{const{formattedValue:A}=d;A!=null&&(w.target.value=A),w.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){i.addEventListener("focus",A=>{if(d.focused)return;const{target:E}=A;if(b&&(E.type=p,g&&(E.step=g)),d.userValue){const T=d.userValue;if(b)if(p==="time"){const _=new Date(T),C=[_.getHours(),_.getMinutes(),_.getSeconds()];E.value=C.map(j=>j.toString().padStart(2,"0")).join(":")}else E.value=new Date(T-v6).toISOString().split(p==="date"?"T":".",1)[0];else E.value=T}d.lastCommittedValue=E.value,d.commitKey=1,this.data.actions?.Focus||(d.focused=!0)}),i.addEventListener("updatefromsandbox",A=>{this.showElementAndHideCanvas(A.target);const E={value(T){d.userValue=T.detail.value??"",b||t.setValue(e,{value:d.userValue.toString()}),T.target.value=d.userValue},formattedValue(T){const{formattedValue:_}=T.detail;d.formattedValue=_,_!=null&&T.target!==document.activeElement&&(T.target.value=_);const C={formattedValue:_};b&&(C.value=_),t.setValue(e,C)},selRange(T){T.target.setSelectionRange(...T.detail.selRange)},charLimit:T=>{const{charLimit:_}=T.detail,{target:C}=T;if(_===0){C.removeAttribute("maxLength");return}C.setAttribute("maxLength",_);let j=d.userValue;!j||j.length<=_||(j=j.slice(0,_),C.value=d.userValue=j,t.setValue(e,{value:j}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:j,willCommit:!0,commitKey:1,selStart:C.selectionStart,selEnd:C.selectionEnd}}))}};this._dispatchEventFromSandbox(E,A)}),i.addEventListener("keydown",A=>{d.commitKey=1;let E=-1;if(A.key==="Escape"?E=0:A.key==="Enter"&&!this.data.multiLine?E=2:A.key==="Tab"&&(d.commitKey=3),E===-1)return;const{value:T}=A.target;d.lastCommittedValue!==T&&(d.lastCommittedValue=T,d.userValue=T,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:T,willCommit:!0,commitKey:E,selStart:A.target.selectionStart,selEnd:A.target.selectionEnd}}))});const w=v;v=null,i.addEventListener("blur",A=>{if(!d.focused||!A.relatedTarget)return;this.data.actions?.Blur||(d.focused=!1);const{target:E}=A;let{value:T}=E;if(b){if(T&&p==="time"){const _=T.split(":").map(C=>parseInt(C,10));T=new Date(2e3,0,1,_[0],_[1],_[2]||0).valueOf(),E.step=""}else T.includes("T")||(T=`${T}T00:00`),T=new Date(T).valueOf();E.type="text"}d.userValue=T,d.lastCommittedValue!==T&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:T,willCommit:!0,commitKey:d.commitKey,selStart:A.target.selectionStart,selEnd:A.target.selectionEnd}}),w(A)}),this.data.actions?.Keystroke&&i.addEventListener("beforeinput",A=>{d.lastCommittedValue=null;const{data:E,target:T}=A,{value:_,selectionStart:C,selectionEnd:j}=T;let M=C,R=j;switch(A.inputType){case"deleteWordBackward":{const D=_.substring(0,C).match(/\w*[^\w]*$/);D&&(M-=D[0].length);break}case"deleteWordForward":{const D=_.substring(C).match(/^[^\w]*\w*/);D&&(R+=D[0].length);break}case"deleteContentBackward":C===j&&(M-=1);break;case"deleteContentForward":C===j&&(R+=1);break}A.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:_,change:E||"",willCommit:!1,selStart:M,selEnd:R}})}),this._setEventListeners(i,d,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],A=>A.target.value)}if(v&&i.addEventListener("blur",v),this.data.comb){const A=(this.data.rect[2]-this.data.rect[0])/l;i.classList.add("comb"),i.style.letterSpacing=`calc(${A}px * var(--total-scale-factor) - 1ch)`}}else i=document.createElement("div"),i.textContent=this.data.fieldValue,i.style.verticalAlign="middle",i.style.display="table-cell",this.data.hasOwnCanvas&&(i.hidden=!0);return this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class E6 extends ka{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}}class T6 extends ka{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,e=this.data,i=e.id;let a=t.getValue(i,{value:e.exportValue===e.fieldValue}).value;typeof a=="string"&&(a=a!=="Off",t.setValue(i,{value:a})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const o=document.createElement("input");return Ea.add(o),o.setAttribute("data-element-id",i),o.disabled=e.readOnly,this._setRequired(o,this.data.required),o.type="checkbox",o.name=e.fieldName,a&&o.setAttribute("checked",!0),o.setAttribute("exportValue",e.exportValue),o.tabIndex=0,o.addEventListener("change",l=>{const{name:u,checked:d}=l.target;for(const f of this._getElementsByName(u,i)){const p=d&&f.exportValue===e.exportValue;f.domElement&&(f.domElement.checked=p),t.setValue(f.id,{value:p})}t.setValue(i,{value:d})}),o.addEventListener("resetform",l=>{const u=e.defaultFieldValue||"Off";l.target.checked=u===e.exportValue}),this.enableScripting&&this.hasJSActions&&(o.addEventListener("updatefromsandbox",l=>{const u={value(d){d.target.checked=d.detail.value!=="Off",t.setValue(i,{value:d.target.checked})}};this._dispatchEventFromSandbox(u,l)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],l=>l.target.checked)),this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class xE extends ka{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const t=this.annotationStorage,e=this.data,i=e.id;let a=t.getValue(i,{value:e.fieldValue===e.buttonValue}).value;if(typeof a=="string"&&(a=a!==e.buttonValue,t.setValue(i,{value:a})),a)for(const l of this._getElementsByName(e.fieldName,i))t.setValue(l.id,{value:!1});const o=document.createElement("input");if(Ea.add(o),o.setAttribute("data-element-id",i),o.disabled=e.readOnly,this._setRequired(o,this.data.required),o.type="radio",o.name=e.fieldName,a&&o.setAttribute("checked",!0),o.tabIndex=0,o.addEventListener("change",l=>{const{name:u,checked:d}=l.target;for(const f of this._getElementsByName(u,i))t.setValue(f.id,{value:!1});t.setValue(i,{value:d})}),o.addEventListener("resetform",l=>{const u=e.defaultFieldValue;l.target.checked=u!=null&&u===e.buttonValue}),this.enableScripting&&this.hasJSActions){const l=e.buttonValue;o.addEventListener("updatefromsandbox",u=>{const d={value:f=>{const p=l===f.detail.value;for(const g of this._getElementsByName(f.target.name)){const b=p&&g.id===i;g.domElement&&(g.domElement.checked=b),t.setValue(g.id,{value:b})}}};this._dispatchEventFromSandbox(d,u)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],u=>u.target.checked)}return this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class C6 extends i0{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");const e=t.lastChild;return this.enableScripting&&this.hasJSActions&&e&&(this._setDefaultPropertiesFromJS(e),e.addEventListener("updatefromsandbox",i=>{this._dispatchEventFromSandbox({},i)})),t}}class _6 extends ka{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const t=this.annotationStorage,e=this.data.id,i=t.getValue(e,{value:this.data.fieldValue}),a=document.createElement("select");Ea.add(a),a.setAttribute("data-element-id",e),a.disabled=this.data.readOnly,this._setRequired(a,this.data.required),a.name=this.data.fieldName,a.tabIndex=0;let o=this.data.combo&&this.data.options.length>0;this.data.combo||(a.size=this.data.options.length,this.data.multiSelect&&(a.multiple=!0)),a.addEventListener("resetform",p=>{const g=this.data.defaultFieldValue;for(const b of a.options)b.selected=b.value===g});for(const p of this.data.options){const g=document.createElement("option");g.textContent=p.displayValue,g.value=p.exportValue,i.value.includes(p.exportValue)&&(g.setAttribute("selected",!0),o=!1),a.append(g)}let l=null;if(o){const p=document.createElement("option");p.value=" ",p.setAttribute("hidden",!0),p.setAttribute("selected",!0),a.prepend(p),l=()=>{p.remove(),a.removeEventListener("input",l),l=null},a.addEventListener("input",l)}const u=p=>{const g=p?"value":"textContent",{options:b,multiple:v}=a;return v?Array.prototype.filter.call(b,w=>w.selected).map(w=>w[g]):b.selectedIndex===-1?null:b[b.selectedIndex][g]};let d=u(!1);const f=p=>{const g=p.target.options;return Array.prototype.map.call(g,b=>({displayValue:b.textContent,exportValue:b.value}))};return this.enableScripting&&this.hasJSActions?(a.addEventListener("updatefromsandbox",p=>{const g={value(b){l?.();const v=b.detail.value,w=new Set(Array.isArray(v)?v:[v]);for(const A of a.options)A.selected=w.has(A.value);t.setValue(e,{value:u(!0)}),d=u(!1)},multipleSelection(b){a.multiple=!0},remove(b){const v=a.options,w=b.detail.remove;v[w].selected=!1,a.remove(w),v.length>0&&Array.prototype.findIndex.call(v,E=>E.selected)===-1&&(v[0].selected=!0),t.setValue(e,{value:u(!0),items:f(b)}),d=u(!1)},clear(b){for(;a.length!==0;)a.remove(0);t.setValue(e,{value:null,items:[]}),d=u(!1)},insert(b){const{index:v,displayValue:w,exportValue:A}=b.detail.insert,E=a.children[v],T=document.createElement("option");T.textContent=w,T.value=A,E?E.before(T):a.append(T),t.setValue(e,{value:u(!0),items:f(b)}),d=u(!1)},items(b){const{items:v}=b.detail;for(;a.length!==0;)a.remove(0);for(const w of v){const{displayValue:A,exportValue:E}=w,T=document.createElement("option");T.textContent=A,T.value=E,a.append(T)}a.options.length>0&&(a.options[0].selected=!0),t.setValue(e,{value:u(!0),items:f(b)}),d=u(!1)},indices(b){const v=new Set(b.detail.indices);for(const w of b.target.options)w.selected=v.has(w.index);t.setValue(e,{value:u(!0)}),d=u(!1)},editable(b){b.target.disabled=!b.detail.editable}};this._dispatchEventFromSandbox(g,p)}),a.addEventListener("input",p=>{const g=u(!0),b=u(!1);t.setValue(e,{value:g}),p.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:d,change:b,changeEx:g,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(a,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],p=>p.target.value)):a.addEventListener("input",function(p){t.setValue(e,{value:u(!0)})}),this.data.combo&&this._setTextStyle(a),this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class Um extends me{constructor(t){const{data:e,elements:i,parent:a}=t,o=!!a._commentManager;if(super(t,{isRenderable:!o&&me._hasPopupData(e)}),this.elements=i,o&&me._hasPopupData(e)){const l=this.popup=this.#t();for(const u of i)u.popup=l}else this.popup=null}#t(){return new N6({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,commentManager:this.parent._commentManager})}render(){const{container:t}=this;t.classList.add("popupAnnotation"),t.role="comment";const e=this.popup=this.#t(),i=[];for(const a of this.elements)a.popup=e,a.container.ariaHasPopup="dialog",i.push(a.data.id),a.addHighlightArea();return this.container.setAttribute("aria-controls",i.map(a=>`${Nr}${a}`).join(",")),this.container}}class N6{#t=null;#e=this.#q.bind(this);#n=this.#F.bind(this);#i=this.#R.bind(this);#r=this.#A.bind(this);#a=null;#s=null;#o=null;#c=null;#l=null;#h=null;#d=null;#f=!1;#g=null;#m=null;#u=null;#p=null;#x=null;#b=null;#y=null;#T=null;#S=null;#w=null;#_=!1;#v=null;#E=null;constructor({container:t,color:e,elements:i,titleObj:a,modificationDate:o,contentsObj:l,richText:u,parent:d,rect:f,parentRect:p,open:g,commentManager:b=null}){this.#s=t,this.#S=a,this.#o=l,this.#T=u,this.#h=d,this.#a=e,this.#y=f,this.#d=p,this.#l=i,this.#t=b,this.#v=i[0],this.#c=Rm.toDateObject(o),this.trigger=i.flatMap(v=>v.getElementsToTriggerPopup()),b||(this.#j(),this.#s.hidden=!0,g&&this.#A())}#j(){if(this.#m)return;this.#m=new AbortController;const{signal:t}=this.#m;for(const e of this.trigger)e.addEventListener("click",this.#r,{signal:t}),e.addEventListener("pointerenter",this.#i,{signal:t}),e.addEventListener("pointerleave",this.#n,{signal:t}),e.classList.add("popupTriggerArea");for(const e of this.#l)e.container?.addEventListener("keydown",this.#e,{signal:t})}#N(){const t=this.#l.find(e=>e.hasCommentButton);t&&(this.#x=t._normalizePoint(t.commentButtonPosition))}renderCommentButton(){if(this.#p){this.#p.parentNode||this.#v.container.after(this.#p);return}if(this.#x||this.#N(),!this.#x)return;const{signal:t}=this.#m=new AbortController,e=this.#v.hasOwnCommentButton,i=()=>{this.#t.toggleCommentPopup(this,!0,void 0,!e)},a=()=>{this.#t.toggleCommentPopup(this,!1,!0,!e)},o=()=>{this.#t.toggleCommentPopup(this,!1,!1)};if(e){this.#p=this.#v.container;for(const l of this.trigger)l.ariaHasPopup="dialog",l.ariaControls="commentPopup",l.addEventListener("keydown",this.#e,{signal:t}),l.addEventListener("click",i,{signal:t}),l.addEventListener("pointerenter",a,{signal:t}),l.addEventListener("pointerleave",o,{signal:t}),l.classList.add("popupTriggerArea")}else{const l=this.#p=document.createElement("button");l.className="annotationCommentButton";const u=this.#v.container;l.style.zIndex=u.style.zIndex+1,l.tabIndex=0,l.ariaHasPopup="dialog",l.ariaControls="commentPopup",l.setAttribute("data-l10n-id","pdfjs-show-comment-button"),this.#B(),this.#k(),l.addEventListener("keydown",this.#e,{signal:t}),l.addEventListener("click",i,{signal:t}),l.addEventListener("pointerenter",a,{signal:t}),l.addEventListener("pointerleave",o,{signal:t}),u.after(l)}}#k(){if(this.#v.extraPopupElement&&!this.#v.editor)return;this.#p||this.renderCommentButton();const[t,e]=this.#x,{style:i}=this.#p;i.left=`calc(${t}%)`,i.top=`calc(${e}% - var(--comment-button-dim))`}#B(){this.#v.extraPopupElement||(this.#p||this.renderCommentButton(),this.#p.style.backgroundColor=this.commentButtonColor||"")}get commentButtonColor(){const{color:t,opacity:e}=this.#v.commentData;return t?this.#h._commentManager.makeCommentColor(t,e):null}focusCommentButton(){setTimeout(()=>{this.#p?.focus()},0)}getData(){const{richText:t,color:e,opacity:i,creationDate:a,modificationDate:o}=this.#v.commentData;return{contentsObj:{str:this.comment},richText:t,color:e,opacity:i,creationDate:a,modificationDate:o}}get elementBeforePopup(){return this.#p}get comment(){return this.#E||=this.#v.commentText,this.#E}set comment(t){t!==this.comment&&(this.#v.commentText=this.#E=t)}focus(){this.#v.container?.focus()}get parentBoundingClientRect(){return this.#v.layer.getBoundingClientRect()}setCommentButtonStates({selected:t,hasPopup:e}){this.#p&&(this.#p.classList.toggle("selected",t),this.#p.ariaExpanded=e)}setSelectedCommentButton(t){this.#p.classList.toggle("selected",t)}get commentPopupPosition(){if(this.#b)return this.#b;const{x:t,y:e,height:i}=this.#p.getBoundingClientRect(),{x:a,y:o,width:l,height:u}=this.#v.layer.getBoundingClientRect();return[(t-a)/l,(e+i-o)/u]}set commentPopupPosition(t){this.#b=t}hasDefaultPopupPosition(){return this.#b===null}get commentButtonPosition(){return this.#x}get commentButtonWidth(){return this.#p.getBoundingClientRect().width/this.parentBoundingClientRect.width}editComment(t){const[e,i]=this.#b||this.commentButtonPosition.map(f=>f/100),a=this.parentBoundingClientRect,{x:o,y:l,width:u,height:d}=a;this.#t.showDialog(null,this,o+e*u,l+i*d,{...t,parentDimensions:a})}render(){if(this.#g)return;const t=this.#g=document.createElement("div");if(t.className="popup",this.#a){const i=t.style.outlineColor=ut.makeHexColor(...this.#a);t.style.backgroundColor=`color-mix(in srgb, ${i} 30%, white)`}const e=document.createElement("span");if(e.className="header",this.#S?.str){const i=document.createElement("span");i.className="title",e.append(i),{dir:i.dir,str:i.textContent}=this.#S}if(t.append(e),this.#c){const i=document.createElement("time");i.className="popupDate",i.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),i.setAttribute("data-l10n-args",JSON.stringify({dateObj:this.#c.valueOf()})),i.dateTime=this.#c.toISOString(),e.append(i)}WS({html:this.#D||this.#o.str,dir:this.#o?.dir,className:"popupContent"},t),this.#s.append(t)}get#D(){const t=this.#T,e=this.#o;return t?.str&&(!e?.str||e.str===t.str)&&this.#T.html||null}get#O(){return this.#D?.attributes?.style?.fontSize||0}get#z(){return this.#D?.attributes?.style?.color||null}#L(t){const e=[],i={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:e}]}},a={style:{color:this.#z,fontSize:this.#O?`calc(${this.#O}px * var(--total-scale-factor))`:""}};for(const o of t.split(`
`))e.push({name:"span",value:o,attributes:a});return i}#q(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||(t.key==="Enter"||t.key==="Escape"&&this.#f)&&this.#A()}updateEdited({rect:t,popup:e,deleted:i}){if(this.#t){i?(this.remove(),this.#E=null):e&&(e.deleted?this.remove():(this.#B(),this.#E=e.text)),t&&(this.#x=null,this.#N(),this.#k());return}if(i||e?.deleted){this.remove();return}this.#j(),this.#w||={contentsObj:this.#o,richText:this.#T},t&&(this.#u=null),e&&e.text&&(this.#T=this.#L(e.text),this.#c=Rm.toDateObject(e.date),this.#o=null),this.#g?.remove(),this.#g=null}resetEdited(){this.#w&&({contentsObj:this.#o,richText:this.#T}=this.#w,this.#w=null,this.#g?.remove(),this.#g=null,this.#u=null)}remove(){if(this.#m?.abort(),this.#m=null,this.#g?.remove(),this.#g=null,this.#_=!1,this.#f=!1,this.#p?.remove(),this.#p=null,this.trigger)for(const t of this.trigger)t.classList.remove("popupTriggerArea")}#C(){if(this.#u!==null)return;const{page:{view:t},viewport:{rawDims:{pageWidth:e,pageHeight:i,pageX:a,pageY:o}}}=this.#h;let l=!!this.#d,u=l?this.#d:this.#y;for(const w of this.#l)if(!u||ut.intersect(w.data.rect,u)!==null){u=w.data.rect,l=!0;break}const d=ut.normalizeRect([u[0],t[3]-u[1]+t[1],u[2],t[3]-u[3]+t[1]]),p=l?u[2]-u[0]+5:0,g=d[0]+p,b=d[1];this.#u=[100*(g-a)/e,100*(b-o)/i];const{style:v}=this.#s;v.left=`${this.#u[0]}%`,v.top=`${this.#u[1]}%`}#A(){if(this.#t){this.#t.toggleCommentPopup(this,!1);return}this.#f=!this.#f,this.#f?(this.#R(),this.#s.addEventListener("click",this.#r),this.#s.addEventListener("keydown",this.#e)):(this.#F(),this.#s.removeEventListener("click",this.#r),this.#s.removeEventListener("keydown",this.#e))}#R(){this.#g||this.render(),this.isVisible?this.#f&&this.#s.classList.add("focused"):(this.#C(),this.#s.hidden=!1,this.#s.style.zIndex=parseInt(this.#s.style.zIndex)+1e3)}#F(){this.#s.classList.remove("focused"),!(this.#f||!this.isVisible)&&(this.#s.hidden=!0,this.#s.style.zIndex=parseInt(this.#s.style.zIndex)-1e3)}forceHide(){this.#_=this.isVisible,this.#_&&(this.#s.hidden=!0)}maybeShow(){this.#t||(this.#j(),this.#_&&(this.#g||this.#R(),this.#_=!1,this.#s.hidden=!1))}get isVisible(){return this.#t?!1:this.#s.hidden===!1}}class yE extends me{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=Ct.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const t=this.contentElement=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(const e of this.textContent){const i=document.createElement("span");i.textContent=e,t.append(i)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this._editOnDoubleClick(),this.container}}class k6 extends me{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const{data:t,width:e,height:i}=this,a=this.svgFactory.create(e,i,!0),o=this.#t=this.svgFactory.createElement("svg:line");return o.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),o.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),o.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),o.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),o.setAttribute("stroke-width",t.borderStyle.width||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),a.append(o),this.container.append(a),!t.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class j6 extends me{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const{data:t,width:e,height:i}=this,a=this.svgFactory.create(e,i,!0),o=t.borderStyle.width,l=this.#t=this.svgFactory.createElement("svg:rect");return l.setAttribute("x",o/2),l.setAttribute("y",o/2),l.setAttribute("width",e-o),l.setAttribute("height",i-o),l.setAttribute("stroke-width",o||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),a.append(l),this.container.append(a),!t.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class M6 extends me{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const{data:t,width:e,height:i}=this,a=this.svgFactory.create(e,i,!0),o=t.borderStyle.width,l=this.#t=this.svgFactory.createElement("svg:ellipse");return l.setAttribute("cx",e/2),l.setAttribute("cy",i/2),l.setAttribute("rx",e/2-o/2),l.setAttribute("ry",i/2-o/2),l.setAttribute("stroke-width",o||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),a.append(l),this.container.append(a),!t.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class bE extends me{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:e,borderStyle:i,popupRef:a},width:o,height:l}=this;if(!e)return this.container;const u=this.svgFactory.create(o,l,!0);let d=[];for(let p=0,g=e.length;p<g;p+=2){const b=e[p]-t[0],v=t[3]-e[p+1];d.push(`${b},${v}`)}d=d.join(" ");const f=this.#t=this.svgFactory.createElement(this.svgElementName);return f.setAttribute("points",d),f.setAttribute("stroke-width",i.width||1),f.setAttribute("stroke","transparent"),f.setAttribute("fill","transparent"),u.append(f),this.container.append(u),!a&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class D6 extends bE{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class R6 extends me{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}}class n0 extends me{#t=null;#e=[];constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?Ct.HIGHLIGHT:Ct.INK}#n(t,e){switch(t){case 90:return{transform:`rotate(90) translate(${-e[0]},${e[1]}) scale(1,-1)`,width:e[3]-e[1],height:e[2]-e[0]};case 180:return{transform:`rotate(180) translate(${-e[2]},${e[1]}) scale(1,-1)`,width:e[2]-e[0],height:e[3]-e[1]};case 270:return{transform:`rotate(270) translate(${-e[2]},${e[3]}) scale(1,-1)`,width:e[3]-e[1],height:e[2]-e[0]};default:return{transform:`translate(${-e[0]},${e[3]}) scale(1,-1)`,width:e[2]-e[0],height:e[3]-e[1]}}}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,rotation:e,inkLists:i,borderStyle:a,popupRef:o}}=this,{transform:l,width:u,height:d}=this.#n(e,t),f=this.svgFactory.create(u,d,!0),p=this.#t=this.svgFactory.createElement("svg:g");f.append(p),p.setAttribute("stroke-width",a.width||1),p.setAttribute("stroke-linecap","round"),p.setAttribute("stroke-linejoin","round"),p.setAttribute("stroke-miterlimit",10),p.setAttribute("stroke","transparent"),p.setAttribute("fill","transparent"),p.setAttribute("transform",l);for(let g=0,b=i.length;g<b;g++){const v=this.svgFactory.createElement(this.svgElementName);this.#e.push(v),v.setAttribute("points",i[g].join(",")),p.append(v)}return!o&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.append(f),this._editOnDoubleClick(),this.container}updateEdited(t){super.updateEdited(t);const{thickness:e,points:i,rect:a}=t,o=this.#t;if(e>=0&&o.setAttribute("stroke-width",e||1),i)for(let l=0,u=this.#e.length;l<u;l++)this.#e[l].setAttribute("points",i[l].join(","));if(a){const{transform:l,width:u,height:d}=this.#n(this.data.rotation,a);o.parentElement.setAttribute("viewBox",`0 0 ${u} ${d}`),o.setAttribute("transform",l)}}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class vE extends me{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Ct.HIGHLIGHT}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),t){const i=document.createElement("mark");i.classList.add("overlaidText"),i.textContent=t,this.container.append(i)}return this.container}}class O6 extends me{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("underlineAnnotation"),t){const i=document.createElement("u");i.classList.add("overlaidText"),i.textContent=t,this.container.append(i)}return this.container}}class L6 extends me{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("squigglyAnnotation"),t){const i=document.createElement("u");i.classList.add("overlaidText"),i.textContent=t,this.container.append(i)}return this.container}}class P6 extends me{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("strikeoutAnnotation"),t){const i=document.createElement("s");i.classList.add("overlaidText"),i.textContent=t,this.container.append(i)}return this.container}}class wE extends me{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Ct.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this._editOnDoubleClick(),this.container}}class B6 extends me{#t=null;constructor(t){super(t,{isRenderable:!0});const{file:e}=this.data;this.filename=e.filename,this.content=e.content,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,...e})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:e}=this;let i;e.hasAppearance||e.fillAlpha===0?i=document.createElement("div"):(i=document.createElement("img"),i.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(e.name)?"paperclip":"pushpin"}.svg`,e.fillAlpha&&e.fillAlpha<1&&(i.style=`filter: opacity(${Math.round(e.fillAlpha*100)}%);`)),i.addEventListener("dblclick",this.#e.bind(this)),this.#t=i;const{isMac:a}=We.platform;return t.addEventListener("keydown",o=>{o.key==="Enter"&&(a?o.metaKey:o.ctrlKey)&&this.#e()}),!e.popupRef&&this.hasPopupData?(this.hasOwnCommentButton=!0,this._createPopup()):i.classList.add("popupTriggerArea"),t.append(i),t}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}#e(){this.downloadManager?.openOrDownloadData(this.content,this.filename)}}class s0{#t=null;#e=null;#n=null;#i=new Map;#r=null;#a=null;#s=[];#o=!1;constructor({div:t,accessibilityManager:e,annotationCanvasMap:i,annotationEditorUIManager:a,page:o,viewport:l,structTreeLayer:u,commentManager:d,linkService:f,annotationStorage:p}){this.div=t,this.#t=e,this.#e=i,this.#r=u||null,this.#a=f||null,this.#n=p||new Qg,this.page=o,this.viewport=l,this.zIndex=0,this._annotationEditorUIManager=a,this._commentManager=d||null}hasEditableAnnotations(){return this.#i.size>0}async render(t){const{annotations:e}=t,i=this.div;Sa(i,this.viewport);const a=new Map,o=[],l={data:null,layer:i,linkService:this.#a,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:t.renderForms!==!1,svgFactory:new dd,annotationStorage:this.#n,enableComment:t.enableComment===!0,enableScripting:t.enableScripting===!0,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null};for(const u of e){if(u.noHTML)continue;const d=u.annotationType===je.POPUP;if(d){const g=a.get(u.id);if(!g)continue;if(!this._commentManager){o.push(u);continue}l.elements=g}else if(u.rect[2]===u.rect[0]||u.rect[3]===u.rect[1])continue;l.data=u;const f=Hp.create(l);if(!f.isRenderable)continue;if(!d&&(this.#s.push(f),u.popupRef)){const g=a.get(u.popupRef);g?g.push(f):a.set(u.popupRef,[f])}const p=f.render();u.hidden&&(p.style.visibility="hidden"),f._isEditable&&(this.#i.set(f.data.id,f),this._annotationEditorUIManager?.renderAnnotationElement(f))}await this.#c();for(const u of o){const d=l.elements=a.get(u.id);l.data=u;const f=Hp.create(l);if(!f.isRenderable)continue;const p=f.render();f.contentElement.id=`${Nr}${u.id}`,u.hidden&&(p.style.visibility="hidden"),d.at(-1).container.after(p)}this.#l()}async#c(){if(this.#s.length===0)return;this.div.replaceChildren();const t=[];if(!this.#o){this.#o=!0;for(const{contentElement:i,data:{id:a}}of this.#s){const o=i.id=`${Nr}${a}`;t.push(this.#r?.getAriaAttributes(o).then(l=>{if(l)for(const[u,d]of l)i.setAttribute(u,d)}))}}this.#s.sort(({data:{rect:[i,a,o,l]}},{data:{rect:[u,d,f,p]}})=>{if(i===o&&a===l)return 1;if(u===f&&d===p)return-1;const g=l,b=a,v=(a+l)/2,w=p,A=d,E=(d+p)/2;if(v>=w&&E<=b)return-1;if(E>=g&&v<=A)return 1;const T=(i+o)/2,_=(u+f)/2;return T-_});const e=document.createDocumentFragment();for(const i of this.#s)e.append(i.container),this._commentManager?(i.extraPopupElement?.popup||i.popup)?.renderCommentButton():i.extraPopupElement&&e.append(i.extraPopupElement.render());if(this.div.append(e),await Promise.all(t),this.#t)for(const i of this.#s)this.#t.addPointerInTextLayer(i.contentElement,!1)}async addLinkAnnotations(t){const e={data:null,layer:this.div,linkService:this.#a,svgFactory:new dd,parent:this};for(const i of t){i.borderStyle||=s0._defaultBorderStyle,e.data=i;const a=Hp.create(e);a.isRenderable&&(a.render(),a.contentElement.id=`${Nr}${i.id}`,this.#s.push(a))}await this.#c()}update({viewport:t}){const e=this.div;this.viewport=t,Sa(e,{rotation:t.rotation}),this.#l(),e.hidden=!1}#l(){if(!this.#e)return;const t=this.div;for(const[e,i]of this.#e){const a=t.querySelector(`[data-annotation-id="${e}"]`);if(!a)continue;i.className="annotationContent";const{firstChild:o}=a;o?o.nodeName==="CANVAS"?o.replaceWith(i):o.classList.contains("annotationContent")?o.after(i):o.before(i):a.append(i);const l=this.#i.get(e);l&&(l._hasNoCanvas?(this._annotationEditorUIManager?.setMissingCanvas(e,a.id,i),l._hasNoCanvas=!1):l.canvas=i)}this.#e.clear()}getEditableAnnotations(){return Array.from(this.#i.values())}getEditableAnnotation(t){return this.#i.get(t)}addFakeAnnotation(t){const{div:e}=this,{id:i,rotation:a}=t,o=new w6({data:{id:i,rect:t.getPDFRect(),rotation:a},editor:t,layer:e,parent:this,enableComment:!!this._commentManager,linkService:this.#a,annotationStorage:this.#n});return o.render(),o.contentElement.id=`${Nr}${i}`,o.createOrUpdatePopup(),this.#s.push(o),o}removeAnnotation(t){const e=this.#s.findIndex(a=>a.data.id===t);if(e<0)return;const[i]=this.#s.splice(e,1);this.#t?.removePointerInTextLayer(i.contentElement)}updateFakeAnnotations(t){if(t.length!==0){for(const e of t)e.updateFakeAnnotationElement(this);this.#c()}}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}static get _defaultBorderStyle(){return Tt(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:vr.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}}const Ru=/\r\n?|\n/g;class Fe extends yt{#t="";#e=`${this.id}-editor`;#n=null;#i;_colorPicker=null;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const t=Fe.prototype,e=o=>o.isEmpty(),i=Is.TRANSLATE_SMALL,a=Is.TRANSLATE_BIG;return Tt(this,"_keyboardManager",new Wl([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-i,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-a,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[i,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[a,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-i],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-a],checker:e}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,i],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,a],checker:e}]]))}static _type="freetext";static _editorType=Ct.FREETEXT;constructor(t){super({...t,name:"freeTextEditor"}),this.color=t.color||Fe._defaultColor||yt._defaultLineColor,this.#i=t.fontSize||Fe._defaultFontSize,this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert"),this.canAddComment=!1}static initialize(t,e){yt.initialize(t,e);const i=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(i.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,e){switch(t){case Lt.FREETEXT_SIZE:Fe._defaultFontSize=e;break;case Lt.FREETEXT_COLOR:Fe._defaultColor=e;break}}updateParams(t,e){switch(t){case Lt.FREETEXT_SIZE:this.#r(e);break;case Lt.FREETEXT_COLOR:this.#a(e);break}}static get defaultPropertiesToUpdate(){return[[Lt.FREETEXT_SIZE,Fe._defaultFontSize],[Lt.FREETEXT_COLOR,Fe._defaultColor||yt._defaultLineColor]]}get propertiesToUpdate(){return[[Lt.FREETEXT_SIZE,this.#i],[Lt.FREETEXT_COLOR,this.color]]}get toolbarButtons(){return this._colorPicker||=new Dl(this),[["colorPicker",this._colorPicker]]}get colorType(){return Lt.FREETEXT_COLOR}#r(t){const e=a=>{this.editorDiv.style.fontSize=`calc(${a}px * var(--total-scale-factor))`,this.translate(0,-(a-this.#i)*this.parentScale),this.#i=a,this.#o()},i=this.#i;this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Lt.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}onUpdatedColor(){this.editorDiv.style.color=this.color,this._colorPicker?.update(this.color),super.onUpdatedColor()}#a(t){const e=a=>{this.color=a,this.onUpdatedColor()},i=this.color;this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Lt.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(t,e){this._uiManager.translateSelectedEditors(t,e,!0)}getInitialTranslation(){const t=this.parentScale;return[-Fe._internalPadding*t,-(Fe._internalPadding+this.#i)*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.#n=new AbortController;const t=this._uiManager.combinedSignal(this.#n);return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t}),!0}disableEditMode(){return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#e),this._isDraggable=!0,this.#n?.abort(),this.#n=null,this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(t){this.width||(this.enableEditMode(),t&&this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}#s(){const t=[];this.editorDiv.normalize();let e=null;for(const i of this.editorDiv.childNodes)e?.nodeType===Node.TEXT_NODE&&i.nodeName==="BR"||(t.push(Fe.#c(i)),e=i);return t.join(`
`)}#o(){const[t,e]=this.parentDimensions;let i;if(this.isAttachedToDOM)i=this.div.getBoundingClientRect();else{const{currentLayer:a,div:o}=this,l=o.style.display,u=o.classList.contains("hidden");o.classList.remove("hidden"),o.style.display="hidden",a.div.append(this.div),i=o.getBoundingClientRect(),o.remove(),o.style.display=l,o.classList.toggle("hidden",u)}this.rotation%180===this.parentRotation%180?(this.width=i.width/t,this.height=i.height/e):(this.width=i.height/t,this.height=i.width/e),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=this.#t,e=this.#t=this.#s().trimEnd();if(t===e)return;const i=a=>{if(this.#t=a,!a){this.remove();return}this.#l(),this._uiManager.rebuild(this),this.#o()};this.addCommands({cmd:()=>{i(e)},undo:()=>{i(t)},mustExec:!1}),this.#o()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){Fe._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let t,e;(this._isCopy||this.annotationElementId)&&(t=this.x,e=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#e),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:i}=this.editorDiv;if(i.fontSize=`calc(${this.#i}px * var(--total-scale-factor))`,i.color=this.color,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[a,o]=this.parentDimensions;if(this.annotationElementId){const{position:l}=this._initialData;let[u,d]=this.getInitialTranslation();[u,d]=this.pageTranslationToScreen(u,d);const[f,p]=this.pageDimensions,[g,b]=this.pageTranslation;let v,w;switch(this.rotation){case 0:v=t+(l[0]-g)/f,w=e+this.height-(l[1]-b)/p;break;case 90:v=t+(l[0]-g)/f,w=e-(l[1]-b)/p,[u,d]=[d,-u];break;case 180:v=t-this.width+(l[0]-g)/f,w=e-(l[1]-b)/p,[u,d]=[-u,-d];break;case 270:v=t+(l[0]-g-this.height*p)/f,w=e+(l[1]-b-this.width*f)/p,[u,d]=[-d,u];break}this.setAt(v*a,w*o,u,d)}else this._moveAfterPaste(t,e);this.#l(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}static#c(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(Ru,"")}editorDivPaste(t){const e=t.clipboardData||window.clipboardData,{types:i}=e;if(i.length===1&&i[0]==="text/plain")return;t.preventDefault();const a=Fe.#d(e.getData("text")||"").replaceAll(Ru,`
`);if(!a)return;const o=window.getSelection();if(!o.rangeCount)return;this.editorDiv.normalize(),o.deleteFromDocument();const l=o.getRangeAt(0);if(!a.includes(`
`)){l.insertNode(document.createTextNode(a)),this.editorDiv.normalize(),o.collapseToStart();return}const{startContainer:u,startOffset:d}=l,f=[],p=[];if(u.nodeType===Node.TEXT_NODE){const v=u.parentElement;if(p.push(u.nodeValue.slice(d).replaceAll(Ru,"")),v!==this.editorDiv){let w=f;for(const A of this.editorDiv.childNodes){if(A===v){w=p;continue}w.push(Fe.#c(A))}}f.push(u.nodeValue.slice(0,d).replaceAll(Ru,""))}else if(u===this.editorDiv){let v=f,w=0;for(const A of this.editorDiv.childNodes)w++===d&&(v=p),v.push(Fe.#c(A))}this.#t=`${f.join(`
`)}${a}${p.join(`
`)}`,this.#l();const g=new Range;let b=Math.sumPrecise(f.map(v=>v.length));for(const{firstChild:v}of this.editorDiv.childNodes)if(v.nodeType===Node.TEXT_NODE){const w=v.nodeValue.length;if(b<=w){g.setStart(v,b),g.setEnd(v,b);break}b-=w}o.removeAllRanges(),o.addRange(g)}#l(){if(this.editorDiv.replaceChildren(),!!this.#t)for(const t of this.#t.split(`
`)){const e=document.createElement("div");e.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(e)}}#h(){return this.#t.replaceAll(""," ")}static#d(t){return t.replaceAll(" ","")}get contentDiv(){return this.editorDiv}getPDFRect(){const t=Fe._internalPadding*this.parentScale;return this.getRect(t,t)}static async deserialize(t,e,i){let a=null;if(t instanceof yE){const{data:{defaultAppearanceData:{fontSize:l,fontColor:u},rect:d,rotation:f,id:p,popupRef:g,richText:b,contentsObj:v,creationDate:w,modificationDate:A},textContent:E,textPosition:T,parent:{page:{pageNumber:_}}}=t;if(!E||E.length===0)return null;a=t={annotationType:Ct.FREETEXT,color:Array.from(u),fontSize:l,value:E.join(`
`),position:T,pageIndex:_-1,rect:d.slice(0),rotation:f,annotationElementId:p,id:p,deleted:!1,popupRef:g,comment:v?.str||null,richText:b,creationDate:w,modificationDate:A}}const o=await super.deserialize(t,e,i);return o.#i=t.fontSize,o.color=ut.makeHexColor(...t.color),o.#t=Fe.#d(t.value),o._initialData=a,t.comment&&o.setCommentData(t),o}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const e=yt._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.color),i=Object.assign(super.serialize(t),{color:e,fontSize:this.#i,value:this.#h()});return this.addComment(i),t?(i.isCopy=!0,i):this.annotationElementId&&!this.#f(i)?null:(i.id=this.annotationElementId,i)}#f(t){const{value:e,fontSize:i,color:a,pageIndex:o}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||t.value!==e||t.fontSize!==i||t.color.some((l,u)=>l!==a[u])||t.pageIndex!==o}renderAnnotationElement(t){const e=super.renderAnnotationElement(t);if(!e)return null;const{style:i}=e;i.fontSize=`calc(${this.#i}px * var(--total-scale-factor))`,i.color=this.color,e.replaceChildren();for(const a of this.#t.split(`
`)){const o=document.createElement("div");o.append(a?document.createTextNode(a):document.createElement("br")),e.append(o)}return t.updateEdited({rect:this.getPDFRect(),popup:this._uiManager.hasCommentManager()||this.hasEditedComment?this.comment:{text:this.#t}}),e}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}}class lt{static PRECISION=1e-4;toSVGPath(){te("Abstract method `toSVGPath` must be implemented.")}get box(){te("Abstract getter `box` must be implemented.")}serialize(t,e){te("Abstract method `serialize` must be implemented.")}static _rescale(t,e,i,a,o,l){l||=new Float32Array(t.length);for(let u=0,d=t.length;u<d;u+=2)l[u]=e+t[u]*a,l[u+1]=i+t[u+1]*o;return l}static _rescaleAndSwap(t,e,i,a,o,l){l||=new Float32Array(t.length);for(let u=0,d=t.length;u<d;u+=2)l[u]=e+t[u+1]*a,l[u+1]=i+t[u]*o;return l}static _translate(t,e,i,a){a||=new Float32Array(t.length);for(let o=0,l=t.length;o<l;o+=2)a[o]=e+t[o],a[o+1]=i+t[o+1];return a}static svgRound(t){return Math.round(t*1e4)}static _normalizePoint(t,e,i,a,o){switch(o){case 90:return[1-e/i,t/a];case 180:return[1-t/i,1-e/a];case 270:return[e/i,1-t/a];default:return[t/i,e/a]}}static _normalizePagePoint(t,e,i){switch(i){case 90:return[1-e,t];case 180:return[1-t,1-e];case 270:return[e,1-t];default:return[t,e]}}static createBezierPoints(t,e,i,a,o,l){return[(t+5*i)/6,(e+5*a)/6,(5*i+o)/6,(5*a+l)/6,(i+o)/2,(a+l)/2]}}class ma{#t;#e=[];#n;#i;#r=[];#a=new Float32Array(18);#s;#o;#c;#l;#h;#d;#f=[];static#g=8;static#m=2;static#u=ma.#g+ma.#m;constructor({x:t,y:e},i,a,o,l,u=0){this.#t=i,this.#d=o*a,this.#i=l,this.#a.set([NaN,NaN,NaN,NaN,t,e],6),this.#n=u,this.#l=ma.#g*a,this.#c=ma.#u*a,this.#h=a,this.#f.push(t,e)}isEmpty(){return isNaN(this.#a[8])}#p(){const t=this.#a.subarray(4,6),e=this.#a.subarray(16,18),[i,a,o,l]=this.#t;return[(this.#s+(t[0]-e[0])/2-i)/o,(this.#o+(t[1]-e[1])/2-a)/l,(this.#s+(e[0]-t[0])/2-i)/o,(this.#o+(e[1]-t[1])/2-a)/l]}add({x:t,y:e}){this.#s=t,this.#o=e;const[i,a,o,l]=this.#t;let[u,d,f,p]=this.#a.subarray(8,12);const g=t-f,b=e-p,v=Math.hypot(g,b);if(v<this.#c)return!1;const w=v-this.#l,A=w/v,E=A*g,T=A*b;let _=u,C=d;u=f,d=p,f+=E,p+=T,this.#f?.push(t,e);const j=-T/w,M=E/w,R=j*this.#d,D=M*this.#d;return this.#a.set(this.#a.subarray(2,8),0),this.#a.set([f+R,p+D],4),this.#a.set(this.#a.subarray(14,18),12),this.#a.set([f-R,p-D],16),isNaN(this.#a[6])?(this.#r.length===0&&(this.#a.set([u+R,d+D],2),this.#r.push(NaN,NaN,NaN,NaN,(u+R-i)/o,(d+D-a)/l),this.#a.set([u-R,d-D],14),this.#e.push(NaN,NaN,NaN,NaN,(u-R-i)/o,(d-D-a)/l)),this.#a.set([_,C,u,d,f,p],6),!this.isEmpty()):(this.#a.set([_,C,u,d,f,p],6),Math.abs(Math.atan2(C-d,_-u)-Math.atan2(T,E))<Math.PI/2?([u,d,f,p]=this.#a.subarray(2,6),this.#r.push(NaN,NaN,NaN,NaN,((u+f)/2-i)/o,((d+p)/2-a)/l),[u,d,_,C]=this.#a.subarray(14,18),this.#e.push(NaN,NaN,NaN,NaN,((_+u)/2-i)/o,((C+d)/2-a)/l),!0):([_,C,u,d,f,p]=this.#a.subarray(0,6),this.#r.push(((_+5*u)/6-i)/o,((C+5*d)/6-a)/l,((5*u+f)/6-i)/o,((5*d+p)/6-a)/l,((u+f)/2-i)/o,((d+p)/2-a)/l),[f,p,u,d,_,C]=this.#a.subarray(12,18),this.#e.push(((_+5*u)/6-i)/o,((C+5*d)/6-a)/l,((5*u+f)/6-i)/o,((5*d+p)/6-a)/l,((u+f)/2-i)/o,((d+p)/2-a)/l),!0))}toSVGPath(){if(this.isEmpty())return"";const t=this.#r,e=this.#e;if(isNaN(this.#a[6])&&!this.isEmpty())return this.#x();const i=[];i.push(`M${t[4]} ${t[5]}`);for(let a=6;a<t.length;a+=6)isNaN(t[a])?i.push(`L${t[a+4]} ${t[a+5]}`):i.push(`C${t[a]} ${t[a+1]} ${t[a+2]} ${t[a+3]} ${t[a+4]} ${t[a+5]}`);this.#y(i);for(let a=e.length-6;a>=6;a-=6)isNaN(e[a])?i.push(`L${e[a+4]} ${e[a+5]}`):i.push(`C${e[a]} ${e[a+1]} ${e[a+2]} ${e[a+3]} ${e[a+4]} ${e[a+5]}`);return this.#b(i),i.join(" ")}#x(){const[t,e,i,a]=this.#t,[o,l,u,d]=this.#p();return`M${(this.#a[2]-t)/i} ${(this.#a[3]-e)/a} L${(this.#a[4]-t)/i} ${(this.#a[5]-e)/a} L${o} ${l} L${u} ${d} L${(this.#a[16]-t)/i} ${(this.#a[17]-e)/a} L${(this.#a[14]-t)/i} ${(this.#a[15]-e)/a} Z`}#b(t){const e=this.#e;t.push(`L${e[4]} ${e[5]} Z`)}#y(t){const[e,i,a,o]=this.#t,l=this.#a.subarray(4,6),u=this.#a.subarray(16,18),[d,f,p,g]=this.#p();t.push(`L${(l[0]-e)/a} ${(l[1]-i)/o} L${d} ${f} L${p} ${g} L${(u[0]-e)/a} ${(u[1]-i)/o}`)}newFreeDrawOutline(t,e,i,a,o,l){return new AE(t,e,i,a,o,l)}getOutlines(){const t=this.#r,e=this.#e,i=this.#a,[a,o,l,u]=this.#t,d=new Float32Array((this.#f?.length??0)+2);for(let g=0,b=d.length-2;g<b;g+=2)d[g]=(this.#f[g]-a)/l,d[g+1]=(this.#f[g+1]-o)/u;if(d[d.length-2]=(this.#s-a)/l,d[d.length-1]=(this.#o-o)/u,isNaN(i[6])&&!this.isEmpty())return this.#T(d);const f=new Float32Array(this.#r.length+24+this.#e.length);let p=t.length;for(let g=0;g<p;g+=2){if(isNaN(t[g])){f[g]=f[g+1]=NaN;continue}f[g]=t[g],f[g+1]=t[g+1]}p=this.#w(f,p);for(let g=e.length-6;g>=6;g-=6)for(let b=0;b<6;b+=2){if(isNaN(e[g+b])){f[p]=f[p+1]=NaN,p+=2;continue}f[p]=e[g+b],f[p+1]=e[g+b+1],p+=2}return this.#S(f,p),this.newFreeDrawOutline(f,d,this.#t,this.#h,this.#n,this.#i)}#T(t){const e=this.#a,[i,a,o,l]=this.#t,[u,d,f,p]=this.#p(),g=new Float32Array(36);return g.set([NaN,NaN,NaN,NaN,(e[2]-i)/o,(e[3]-a)/l,NaN,NaN,NaN,NaN,(e[4]-i)/o,(e[5]-a)/l,NaN,NaN,NaN,NaN,u,d,NaN,NaN,NaN,NaN,f,p,NaN,NaN,NaN,NaN,(e[16]-i)/o,(e[17]-a)/l,NaN,NaN,NaN,NaN,(e[14]-i)/o,(e[15]-a)/l],0),this.newFreeDrawOutline(g,t,this.#t,this.#h,this.#n,this.#i)}#S(t,e){const i=this.#e;return t.set([NaN,NaN,NaN,NaN,i[4],i[5]],e),e+=6}#w(t,e){const i=this.#a.subarray(4,6),a=this.#a.subarray(16,18),[o,l,u,d]=this.#t,[f,p,g,b]=this.#p();return t.set([NaN,NaN,NaN,NaN,(i[0]-o)/u,(i[1]-l)/d,NaN,NaN,NaN,NaN,f,p,NaN,NaN,NaN,NaN,g,b,NaN,NaN,NaN,NaN,(a[0]-o)/u,(a[1]-l)/d],e),e+=24}}class AE extends lt{#t;#e=new Float32Array(4);#n;#i;#r;#a;#s;constructor(t,e,i,a,o,l){super(),this.#s=t,this.#r=e,this.#t=i,this.#a=a,this.#n=o,this.#i=l,this.firstPoint=[NaN,NaN],this.lastPoint=[NaN,NaN],this.#o(l);const[u,d,f,p]=this.#e;for(let g=0,b=t.length;g<b;g+=2)t[g]=(t[g]-u)/f,t[g+1]=(t[g+1]-d)/p;for(let g=0,b=e.length;g<b;g+=2)e[g]=(e[g]-u)/f,e[g+1]=(e[g+1]-d)/p}toSVGPath(){const t=[`M${this.#s[4]} ${this.#s[5]}`];for(let e=6,i=this.#s.length;e<i;e+=6){if(isNaN(this.#s[e])){t.push(`L${this.#s[e+4]} ${this.#s[e+5]}`);continue}t.push(`C${this.#s[e]} ${this.#s[e+1]} ${this.#s[e+2]} ${this.#s[e+3]} ${this.#s[e+4]} ${this.#s[e+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,e,i,a],o){const l=i-t,u=a-e;let d,f;switch(o){case 0:d=lt._rescale(this.#s,t,a,l,-u),f=lt._rescale(this.#r,t,a,l,-u);break;case 90:d=lt._rescaleAndSwap(this.#s,t,e,l,u),f=lt._rescaleAndSwap(this.#r,t,e,l,u);break;case 180:d=lt._rescale(this.#s,i,e,-l,u),f=lt._rescale(this.#r,i,e,-l,u);break;case 270:d=lt._rescaleAndSwap(this.#s,i,a,-l,-u),f=lt._rescaleAndSwap(this.#r,i,a,-l,-u);break}return{outline:Array.from(d),points:[Array.from(f)]}}#o(t){const e=this.#s;let i=e[4],a=e[5];const o=[i,a,i,a];let l=i,u=a,d=i,f=a;const p=t?Math.max:Math.min,g=new Float32Array(4);for(let v=6,w=e.length;v<w;v+=6){const A=e[v+4],E=e[v+5];isNaN(e[v])?(ut.pointBoundingBox(A,E,o),u>E?(l=A,u=E):u===E&&(l=p(l,A)),f<E?(d=A,f=E):f===E&&(d=p(d,A))):(g[0]=g[1]=1/0,g[2]=g[3]=-1/0,ut.bezierBoundingBox(i,a,...e.slice(v,v+6),g),ut.rectBoundingBox(g[0],g[1],g[2],g[3],o),u>g[1]?(l=g[0],u=g[1]):u===g[1]&&(l=p(l,g[0])),f<g[3]?(d=g[2],f=g[3]):f===g[3]&&(d=p(d,g[2]))),i=A,a=E}const b=this.#e;b[0]=o[0]-this.#n,b[1]=o[1]-this.#n,b[2]=o[2]-o[0]+2*this.#n,b[3]=o[3]-o[1]+2*this.#n,this.firstPoint=[l,u],this.lastPoint=[d,f]}get box(){return this.#e}newOutliner(t,e,i,a,o,l=0){return new ma(t,e,i,a,o,l)}getNewOutline(t,e){const[i,a,o,l]=this.#e,[u,d,f,p]=this.#t,g=o*f,b=l*p,v=i*f+u,w=a*p+d,A=this.newOutliner({x:this.#r[0]*g+v,y:this.#r[1]*b+w},this.#t,this.#a,t,this.#i,e??this.#n);for(let E=2;E<this.#r.length;E+=2)A.add({x:this.#r[E]*g+v,y:this.#r[E+1]*b+w});return A.getOutlines()}}class Hm{#t;#e;#n;#i=[];#r=[];constructor(t,e=0,i=0,a=!0){const o=[1/0,1/0,-1/0,-1/0],l=10**-4;for(const{x:A,y:E,width:T,height:_}of t){const C=Math.floor((A-e)/l)*l,j=Math.ceil((A+T+e)/l)*l,M=Math.floor((E-e)/l)*l,R=Math.ceil((E+_+e)/l)*l,D=[C,M,R,!0],P=[j,M,R,!1];this.#i.push(D,P),ut.rectBoundingBox(C,M,j,R,o)}const u=o[2]-o[0]+2*i,d=o[3]-o[1]+2*i,f=o[0]-i,p=o[1]-i;let g=a?-1/0:1/0,b=1/0;const v=this.#i.at(a?-1:-2),w=[v[0],v[2]];for(const A of this.#i){const[E,T,_,C]=A;!C&&a?T<b?(b=T,g=E):T===b&&(g=Math.max(g,E)):C&&!a&&(T<b?(b=T,g=E):T===b&&(g=Math.min(g,E))),A[0]=(E-f)/u,A[1]=(T-p)/d,A[2]=(_-p)/d}this.#t=new Float32Array([f,p,u,d]),this.#e=[g,b],this.#n=w}getOutlines(){this.#i.sort((e,i)=>e[0]-i[0]||e[1]-i[1]||e[2]-i[2]);const t=[];for(const e of this.#i)e[3]?(t.push(...this.#l(e)),this.#o(e)):(this.#c(e),t.push(...this.#l(e)));return this.#a(t)}#a(t){const e=[],i=new Set;for(const l of t){const[u,d,f]=l;e.push([u,d,l],[u,f,l])}e.sort((l,u)=>l[1]-u[1]||l[0]-u[0]);for(let l=0,u=e.length;l<u;l+=2){const d=e[l][2],f=e[l+1][2];d.push(f),f.push(d),i.add(d),i.add(f)}const a=[];let o;for(;i.size>0;){const l=i.values().next().value;let[u,d,f,p,g]=l;i.delete(l);let b=u,v=d;for(o=[u,f],a.push(o);;){let w;if(i.has(p))w=p;else if(i.has(g))w=g;else break;i.delete(w),[u,d,f,p,g]=w,b!==u&&(o.push(b,v,u,v===d?d:f),b=u),v=v===d?f:d}o.push(b,v)}return new z6(a,this.#t,this.#e,this.#n)}#s(t){const e=this.#r;let i=0,a=e.length-1;for(;i<=a;){const o=i+a>>1,l=e[o][0];if(l===t)return o;l<t?i=o+1:a=o-1}return a+1}#o([,t,e]){const i=this.#s(t);this.#r.splice(i,0,[t,e])}#c([,t,e]){const i=this.#s(t);for(let a=i;a<this.#r.length;a++){const[o,l]=this.#r[a];if(o!==t)break;if(o===t&&l===e){this.#r.splice(a,1);return}}for(let a=i-1;a>=0;a--){const[o,l]=this.#r[a];if(o!==t)break;if(o===t&&l===e){this.#r.splice(a,1);return}}}#l(t){const[e,i,a]=t,o=[[e,i,a]],l=this.#s(a);for(let u=0;u<l;u++){const[d,f]=this.#r[u];for(let p=0,g=o.length;p<g;p++){const[,b,v]=o[p];if(!(f<=b||v<=d)){if(b>=d){if(v>f)o[p][1]=f;else{if(g===1)return[];o.splice(p,1),p--,g--}continue}o[p][2]=d,v>f&&o.push([e,f,v])}}}return o}}class z6 extends lt{#t;#e;constructor(t,e,i,a){super(),this.#e=t,this.#t=e,this.firstPoint=i,this.lastPoint=a}toSVGPath(){const t=[];for(const e of this.#e){let[i,a]=e;t.push(`M${i} ${a}`);for(let o=2;o<e.length;o+=2){const l=e[o],u=e[o+1];l===i?(t.push(`V${u}`),a=u):u===a&&(t.push(`H${l}`),i=l)}t.push("Z")}return t.join(" ")}serialize([t,e,i,a],o){const l=[],u=i-t,d=a-e;for(const f of this.#e){const p=new Array(f.length);for(let g=0;g<f.length;g+=2)p[g]=t+f[g]*u,p[g+1]=a-f[g+1]*d;l.push(p)}return l}get box(){return this.#t}get classNamesForOutlining(){return["highlightOutline"]}}class Vm extends ma{newFreeDrawOutline(t,e,i,a,o,l){return new F6(t,e,i,a,o,l)}}class F6 extends AE{newOutliner(t,e,i,a,o,l=0){return new Vm(t,e,i,a,o,l)}}class Ee extends yt{#t=null;#e=0;#n;#i=null;#r=null;#a=null;#s=null;#o=0;#c=null;#l=null;#h=null;#d=!1;#f=null;#g=null;#m=null;#u="";#p;#x="";static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=12;static _type="highlight";static _editorType=Ct.HIGHLIGHT;static _freeHighlightId=-1;static _freeHighlight=null;static _freeHighlightClipId="";static get _keyboardManager(){const t=Ee.prototype;return Tt(this,"_keyboardManager",new Wl([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}constructor(t){super({...t,name:"highlightEditor"}),this.color=t.color||Ee._defaultColor,this.#p=t.thickness||Ee._defaultThickness,this.opacity=t.opacity||Ee._defaultOpacity,this.#n=t.boxes||null,this.#x=t.methodOfCreation||"",this.#u=t.text||"",this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",t.highlightId>-1?(this.#d=!0,this.#y(t),this.#v()):this.#n&&(this.#t=t.anchorNode,this.#e=t.anchorOffset,this.#s=t.focusNode,this.#o=t.focusOffset,this.#b(),this.#v(),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}get telemetryInitialData(){return{action:"added",type:this.#d?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:this.#p,methodOfCreation:this.#x}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}#b(){const t=new Hm(this.#n,.001);this.#l=t.getOutlines(),[this.x,this.y,this.width,this.height]=this.#l.box;const e=new Hm(this.#n,.0025,.001,this._uiManager.direction==="ltr");this.#a=e.getOutlines();const{firstPoint:i}=this.#l;this.#f=[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height];const{lastPoint:a}=this.#a;this.#g=[(a[0]-this.x)/this.width,(a[1]-this.y)/this.height]}#y({highlightOutlines:t,highlightId:e,clipPathId:i}){this.#l=t;const a=1.5;if(this.#a=t.getNewOutline(this.#p/2+a,.0025),e>=0)this.#h=e,this.#i=i,this.parent.drawLayer.finalizeDraw(e,{bbox:t.box,path:{d:t.toSVGPath()}}),this.#m=this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:this.#a.box,path:{d:this.#a.toSVGPath()}},!0);else if(this.parent){const g=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(this.#h,{bbox:Ee.#E(this.#l.box,(g-this.rotation+360)%360),path:{d:t.toSVGPath()}}),this.parent.drawLayer.updateProperties(this.#m,{bbox:Ee.#E(this.#a.box,g),path:{d:this.#a.toSVGPath()}})}const[o,l,u,d]=t.box;switch(this.rotation){case 0:this.x=o,this.y=l,this.width=u,this.height=d;break;case 90:{const[g,b]=this.parentDimensions;this.x=l,this.y=1-o,this.width=u*b/g,this.height=d*g/b;break}case 180:this.x=1-o,this.y=1-l,this.width=u,this.height=d;break;case 270:{const[g,b]=this.parentDimensions;this.x=1-l,this.y=o,this.width=u*b/g,this.height=d*g/b;break}}const{firstPoint:f}=t;this.#f=[(f[0]-o)/u,(f[1]-l)/d];const{lastPoint:p}=this.#a;this.#g=[(p[0]-o)/u,(p[1]-l)/d]}static initialize(t,e){yt.initialize(t,e),Ee._defaultColor||=e.highlightColors?.values().next().value||"#fff066"}static updateDefaultParams(t,e){switch(t){case Lt.HIGHLIGHT_COLOR:Ee._defaultColor=e;break;case Lt.HIGHLIGHT_THICKNESS:Ee._defaultThickness=e;break}}translateInPage(t,e){}get toolbarPosition(){return this.#g}get commentButtonPosition(){return this.#f}updateParams(t,e){switch(t){case Lt.HIGHLIGHT_COLOR:this.#T(e);break;case Lt.HIGHLIGHT_THICKNESS:this.#S(e);break}}static get defaultPropertiesToUpdate(){return[[Lt.HIGHLIGHT_COLOR,Ee._defaultColor],[Lt.HIGHLIGHT_THICKNESS,Ee._defaultThickness]]}get propertiesToUpdate(){return[[Lt.HIGHLIGHT_COLOR,this.color||Ee._defaultColor],[Lt.HIGHLIGHT_THICKNESS,this.#p||Ee._defaultThickness],[Lt.HIGHLIGHT_FREE,this.#d]]}onUpdatedColor(){this.parent?.drawLayer.updateProperties(this.#h,{root:{fill:this.color,"fill-opacity":this.opacity}}),this.#r?.updateColor(this.color),super.onUpdatedColor()}#T(t){const e=(o,l)=>{this.color=o,this.opacity=l,this.onUpdatedColor()},i=this.color,a=this.opacity;this.addCommands({cmd:e.bind(this,t,Ee._defaultOpacity),undo:e.bind(this,i,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Lt.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(t)},!0)}#S(t){const e=this.#p,i=a=>{this.#p=a,this.#w(a)};this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,e),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Lt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",this.#r=new $i({editor:this})]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(this.#k())}getBaseTranslation(){return[0,0]}getRect(t,e){return super.getRect(t,e,this.#k())}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),t&&this.div.focus()}remove(){this.#_(),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#v(),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){let e=!1;this.parent&&!t?this.#_():t&&(this.#v(t),e=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(t),this.show(this._isVisible),e&&this.select()}#w(t){this.#d&&(this.#y({highlightOutlines:this.#l.getNewOutline(t/2)}),this.fixAndSetPosition(),this.setDims())}#_(){this.#h===null||!this.parent||(this.parent.drawLayer.remove(this.#h),this.#h=null,this.parent.drawLayer.remove(this.#m),this.#m=null)}#v(t=this.parent){this.#h===null&&({id:this.#h,clipPathId:this.#i}=t.drawLayer.draw({bbox:this.#l.box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.opacity},rootClass:{highlight:!0,free:this.#d},path:{d:this.#l.toSVGPath()}},!1,!0),this.#m=t.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:this.#d},bbox:this.#a.box,path:{d:this.#a.toSVGPath()}},this.#d),this.#c&&(this.#c.style.clipPath=this.#i))}static#E([t,e,i,a],o){switch(o){case 90:return[1-e-a,t,a,i];case 180:return[1-t-i,1-e-a,i,a];case 270:return[e,1-t-i,a,i]}return[t,e,i,a]}rotate(t){const{drawLayer:e}=this.parent;let i;this.#d?(t=(t-this.rotation+360)%360,i=Ee.#E(this.#l.box,t)):i=Ee.#E([this.x,this.y,this.width,this.height],t),e.updateProperties(this.#h,{bbox:i,root:{"data-main-rotation":t}}),e.updateProperties(this.#m,{bbox:Ee.#E(this.#a.box,t),root:{"data-main-rotation":t}})}render(){if(this.div)return this.div;const t=super.render();this.#u&&(t.setAttribute("aria-label",this.#u),t.setAttribute("role","mark")),this.#d?t.classList.add("free"):this.div.addEventListener("keydown",this.#j.bind(this),{signal:this._uiManager._signal});const e=this.#c=document.createElement("div");return t.append(e),e.setAttribute("aria-hidden","true"),e.className="internal",e.style.clipPath=this.#i,this.setDims(),ZS(this,this.#c,["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#m,{rootClass:{hovered:!0}})}pointerleave(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#m,{rootClass:{hovered:!1}})}#j(t){Ee._keyboardManager.exec(this,t)}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:this.#N(!0);break;case 1:case 3:this.#N(!1);break}}#N(t){if(!this.#t)return;const e=window.getSelection();t?e.setPosition(this.#t,this.#e):e.setPosition(this.#s,this.#o)}select(){super.select(),this.#m&&this.parent?.drawLayer.updateProperties(this.#m,{rootClass:{hovered:!1,selected:!0}})}unselect(){super.unselect(),this.#m&&(this.parent?.drawLayer.updateProperties(this.#m,{rootClass:{selected:!1}}),this.#d||this.#N(!1))}get _mustFixPosition(){return!this.#d}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.updateProperties(this.#h,{rootClass:{hidden:!t}}),this.parent.drawLayer.updateProperties(this.#m,{rootClass:{hidden:!t}}))}#k(){return this.#d?this.rotation:0}#B(){if(this.#d)return null;const[t,e]=this.pageDimensions,[i,a]=this.pageTranslation,o=this.#n,l=new Float32Array(o.length*8);let u=0;for(const{x:d,y:f,width:p,height:g}of o){const b=d*t+i,v=(1-f)*e+a;l[u]=l[u+4]=b,l[u+1]=l[u+3]=v,l[u+2]=l[u+6]=b+p*t,l[u+5]=l[u+7]=v-g*e,u+=8}return l}#D(t){return this.#l.serialize(t,this.#k())}static startHighlighting(t,e,{target:i,x:a,y:o}){const{x:l,y:u,width:d,height:f}=i.getBoundingClientRect(),p=new AbortController,g=t.combinedSignal(p),b=v=>{p.abort(),this.#z(t,v)};window.addEventListener("blur",b,{signal:g}),window.addEventListener("pointerup",b,{signal:g}),window.addEventListener("pointerdown",ve,{capture:!0,passive:!1,signal:g}),window.addEventListener("contextmenu",Wi,{signal:g}),i.addEventListener("pointermove",this.#O.bind(this,t),{signal:g}),this._freeHighlight=new Vm({x:a,y:o},[l,u,d,f],t.scale,this._defaultThickness/2,e,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static#O(t,e){this._freeHighlight.add(e)&&t.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})}static#z(t,e){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(e,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}static async deserialize(t,e,i){let a=null;if(t instanceof vE){const{data:{quadPoints:w,rect:A,rotation:E,id:T,color:_,opacity:C,popupRef:j,richText:M,contentsObj:R,creationDate:D,modificationDate:P},parent:{page:{pageNumber:X}}}=t;a=t={annotationType:Ct.HIGHLIGHT,color:Array.from(_),opacity:C,quadPoints:w,boxes:null,pageIndex:X-1,rect:A.slice(0),rotation:E,annotationElementId:T,id:T,deleted:!1,popupRef:j,richText:M,comment:R?.str||null,creationDate:D,modificationDate:P}}else if(t instanceof n0){const{data:{inkLists:w,rect:A,rotation:E,id:T,color:_,borderStyle:{rawWidth:C},popupRef:j,richText:M,contentsObj:R,creationDate:D,modificationDate:P},parent:{page:{pageNumber:X}}}=t;a=t={annotationType:Ct.HIGHLIGHT,color:Array.from(_),thickness:C,inkLists:w,boxes:null,pageIndex:X-1,rect:A.slice(0),rotation:E,annotationElementId:T,id:T,deleted:!1,popupRef:j,richText:M,comment:R?.str||null,creationDate:D,modificationDate:P}}const{color:o,quadPoints:l,inkLists:u,opacity:d}=t,f=await super.deserialize(t,e,i);f.color=ut.makeHexColor(...o),f.opacity=d||1,u&&(f.#p=t.thickness),f._initialData=a,t.comment&&f.setCommentData(t);const[p,g]=f.pageDimensions,[b,v]=f.pageTranslation;if(l){const w=f.#n=[];for(let A=0;A<l.length;A+=8)w.push({x:(l[A]-b)/p,y:1-(l[A+1]-v)/g,width:(l[A+2]-l[A])/p,height:(l[A+1]-l[A+5])/g});f.#b(),f.#v(),f.rotate(f.rotation)}else if(u){f.#d=!0;const w=u[0],A={x:w[0]-b,y:g-(w[1]-v)},E=new Vm(A,[0,0,p,g],1,f.#p/2,!0,.001);for(let C=0,j=w.length;C<j;C+=2)A.x=w[C]-b,A.y=g-(w[C+1]-v),E.add(A);const{id:T,clipPathId:_}=e.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:f.color,"fill-opacity":f._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:E.toSVGPath()}},!0,!0);f.#y({highlightOutlines:E.getOutlines(),highlightId:T,clipPathId:_}),f.#v(),f.rotate(f.parentRotation)}return f}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const e=yt._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),i=super.serialize(t);return Object.assign(i,{color:e,opacity:this.opacity,thickness:this.#p,quadPoints:this.#B(),outlines:this.#D(i.rect)}),this.addComment(i),this.annotationElementId&&!this.#L(i)?null:(i.id=this.annotationElementId,i)}#L(t){const{color:e}=this._initialData;return this.hasEditedComment||t.color.some((i,a)=>i!==e[a])}renderAnnotationElement(t){return this.deleted?(t.hide(),null):(t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}static canCreateNewEmptyEditor(){return!1}}class SE{#t=Object.create(null);updateProperty(t,e){this[t]=e,this.updateSVGProperty(t,e)}updateProperties(t){if(t)for(const[e,i]of Object.entries(t))e.startsWith("_")||this.updateProperty(e,i)}updateSVGProperty(t,e){this.#t[t]=e}toSVGProperties(){const t=this.#t;return this.#t=Object.create(null),{root:t}}reset(){this.#t=Object.create(null)}updateAll(t=this){this.updateProperties(t)}clone(){te("Not implemented")}}class It extends yt{#t=null;#e;_colorPicker=null;_drawId=null;static _currentDrawId=-1;static _currentParent=null;static#n=null;static#i=null;static#r=null;static _INNER_MARGIN=3;constructor(t){super(t),this.#e=t.mustBeCommitted||!1,this._addOutlines(t)}onUpdatedColor(){this._colorPicker?.update(this.color),super.onUpdatedColor()}_addOutlines(t){t.drawOutlines&&(this.#a(t),this.#c())}#a({drawOutlines:t,drawId:e,drawingOptions:i}){this.#t=t,this._drawingOptions||=i,this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),e>=0?(this._drawId=e,this.parent.drawLayer.finalizeDraw(e,t.defaultProperties)):this._drawId=this.#s(t,this.parent),this.#d(t.box)}#s(t,e){const{id:i}=e.drawLayer.draw(It._mergeSVGProperties(this._drawingOptions.toSVGProperties(),t.defaultSVGProperties),!1,!1);return i}static _mergeSVGProperties(t,e){const i=new Set(Object.keys(t));for(const[a,o]of Object.entries(e))i.has(a)?Object.assign(t[a],o):t[a]=o;return t}static getDefaultDrawingOptions(t){te("Not implemented")}static get typesMap(){te("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(t,e){const i=this.typesMap.get(t);i&&this._defaultDrawingOptions.updateProperty(i,e),this._currentParent&&(It.#n.updateProperty(i,e),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(t,e){const i=this.constructor.typesMap.get(t);i&&this._updateProperty(t,i,e)}static get defaultPropertiesToUpdate(){const t=[],e=this._defaultDrawingOptions;for(const[i,a]of this.typesMap)t.push([i,e[a]]);return t}get propertiesToUpdate(){const t=[],{_drawingOptions:e}=this;for(const[i,a]of this.constructor.typesMap)t.push([i,e[a]]);return t}_updateProperty(t,e,i){const a=this._drawingOptions,o=a[e],l=u=>{a.updateProperty(e,u);const d=this.#t.updateProperty(e,u);d&&this.#d(d),this.parent?.drawLayer.updateProperties(this._drawId,a.toSVGProperties()),t===this.colorType&&this.onUpdatedColor()};this.addCommands({cmd:l.bind(this,i),undo:l.bind(this,o),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:t,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){this.parent?.drawLayer.updateProperties(this._drawId,It._mergeSVGProperties(this.#t.getPathResizingSVGProperties(this.#h()),{bbox:this.#f()}))}_onResized(){this.parent?.drawLayer.updateProperties(this._drawId,It._mergeSVGProperties(this.#t.getPathResizedSVGProperties(this.#h()),{bbox:this.#f()}))}_onTranslating(t,e){this.parent?.drawLayer.updateProperties(this._drawId,{bbox:this.#f()})}_onTranslated(){this.parent?.drawLayer.updateProperties(this._drawId,It._mergeSVGProperties(this.#t.getPathTranslatedSVGProperties(this.#h(),this.parentDimensions),{bbox:this.#f()}))}_onStartDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,this.#e&&(this.#e=!1,this.commit(),this.parent.setSelected(this),t&&this.isOnScreen&&this.div.focus())}remove(){this.#o(),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#c(),this.#d(this.#t.box),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){let e=!1;this.parent&&!t?(this._uiManager.removeShouldRescale(this),this.#o()):t&&(this._uiManager.addShouldRescale(this),this.#c(t),e=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(t),e&&this.select()}#o(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())}#c(t=this.parent){if(!(this._drawId!==null&&this.parent===t)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,t.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=this.#s(this.#t,t)}}#l([t,e,i,a]){const{parentDimensions:[o,l],rotation:u}=this;switch(u){case 90:return[e,1-t,i*(l/o),a*(o/l)];case 180:return[1-t,1-e,i,a];case 270:return[1-e,t,i*(l/o),a*(o/l)];default:return[t,e,i,a]}}#h(){const{x:t,y:e,width:i,height:a,parentDimensions:[o,l],rotation:u}=this;switch(u){case 90:return[1-e,t,i*(o/l),a*(l/o)];case 180:return[1-t,1-e,i,a];case 270:return[e,1-t,i*(o/l),a*(l/o)];default:return[t,e,i,a]}}#d(t){[this.x,this.y,this.width,this.height]=this.#l(t),this.div&&(this.fixAndSetPosition(),this.setDims()),this._onResized()}#f(){const{x:t,y:e,width:i,height:a,rotation:o,parentRotation:l,parentDimensions:[u,d]}=this;switch((o*4+l)/90){case 1:return[1-e-a,t,a,i];case 2:return[1-t-i,1-e-a,i,a];case 3:return[e,1-t-i,a,i];case 4:return[t,e-i*(u/d),a*(d/u),i*(u/d)];case 5:return[1-e,t,i*(u/d),a*(d/u)];case 6:return[1-t-a*(d/u),1-e,a*(d/u),i*(u/d)];case 7:return[e-i*(u/d),1-t-a*(d/u),i*(u/d),a*(d/u)];case 8:return[t-i,e-a,i,a];case 9:return[1-e,t-i,a,i];case 10:return[1-t,1-e,i,a];case 11:return[e-a,1-t,a,i];case 12:return[t-a*(d/u),e,a*(d/u),i*(u/d)];case 13:return[1-e-i*(u/d),t-a*(d/u),i*(u/d),a*(d/u)];case 14:return[1-t,1-e-i*(u/d),a*(d/u),i*(u/d)];case 15:return[e,1-t,i*(u/d),a*(d/u)];default:return[t,e,i,a]}}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,It._mergeSVGProperties({bbox:this.#f()},this.#t.updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&this.#d(this.#t.updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let t,e;this._isCopy&&(t=this.x,e=this.y);const i=super.render();i.classList.add("draw");const a=document.createElement("div");return i.append(a),a.setAttribute("aria-hidden","true"),a.className="internal",this.setDims(),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(t,e),i}static createDrawerInstance(t,e,i,a,o){te("Not implemented")}static startDrawing(t,e,i,a){const{target:o,offsetX:l,offsetY:u,pointerId:d,pointerType:f}=a;if(Ut.isInitializedAndDifferentPointerType(f))return;const{viewport:{rotation:p}}=t,{width:g,height:b}=o.getBoundingClientRect(),v=It.#i=new AbortController,w=t.combinedSignal(v);if(Ut.setPointer(f,d),window.addEventListener("pointerup",A=>{Ut.isSamePointerIdOrRemove(A.pointerId)&&this._endDraw(A)},{signal:w}),window.addEventListener("pointercancel",A=>{Ut.isSamePointerIdOrRemove(A.pointerId)&&this._currentParent.endDrawingSession()},{signal:w}),window.addEventListener("pointerdown",A=>{Ut.isSamePointerType(A.pointerType)&&(Ut.initializeAndAddPointerId(A.pointerId),It.#n.isCancellable()&&(It.#n.removeLastElement(),It.#n.isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:w}),window.addEventListener("contextmenu",Wi,{signal:w}),o.addEventListener("pointermove",this._drawMove.bind(this),{signal:w}),o.addEventListener("touchmove",A=>{Ut.isSameTimeStamp(A.timeStamp)&&ve(A)},{signal:w}),t.toggleDrawing(),e._editorUndoBar?.hide(),It.#n){t.drawLayer.updateProperties(this._currentDrawId,It.#n.startNew(l,u,g,b,p));return}e.updateUIForDefaultProperties(this),It.#n=this.createDrawerInstance(l,u,g,b,p),It.#r=this.getDefaultDrawingOptions(),this._currentParent=t,{id:this._currentDrawId}=t.drawLayer.draw(this._mergeSVGProperties(It.#r.toSVGProperties(),It.#n.defaultSVGProperties),!0,!1)}static _drawMove(t){if(Ut.isSameTimeStamp(t.timeStamp),!It.#n)return;const{offsetX:e,offsetY:i,pointerId:a}=t;if(Ut.isSamePointerId(a)){if(Ut.isUsingMultiplePointers()){this._endDraw(t);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,It.#n.add(e,i)),Ut.setTimeStamp(t.timeStamp),ve(t)}}static _cleanup(t){t&&(this._currentDrawId=-1,this._currentParent=null,It.#n=null,It.#r=null,Ut.clearPointerType(),Ut.clearTimeStamp()),It.#i&&(It.#i.abort(),It.#i=null,Ut.clearPointerIds())}static _endDraw(t){const e=this._currentParent;if(e){if(e.toggleDrawing(!0),this._cleanup(!1),t?.target===e.div&&e.drawLayer.updateProperties(this._currentDrawId,It.#n.end(t.offsetX,t.offsetY)),this.supportMultipleDrawings){const i=It.#n,a=this._currentDrawId,o=i.getLastElement();e.addCommands({cmd:()=>{e.drawLayer.updateProperties(a,i.setLastElement(o))},undo:()=>{e.drawLayer.updateProperties(a,i.removeLastElement())},mustExec:!1,type:Lt.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(t){const e=this._currentParent;if(!e)return null;if(e.toggleDrawing(!0),e.cleanUndoStack(Lt.DRAW_STEP),!It.#n.isEmpty()){const{pageDimensions:[i,a],scale:o}=e,l=e.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:It.#n.getOutlines(i*o,a*o,o,this._INNER_MARGIN),drawingOptions:It.#r,mustBeCommitted:!t});return this._cleanup(!0),l}return e.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(t){}static deserializeDraw(t,e,i,a,o,l){te("Not implemented")}static async deserialize(t,e,i){const{rawDims:{pageWidth:a,pageHeight:o,pageX:l,pageY:u}}=e.viewport,d=this.deserializeDraw(l,u,a,o,this._INNER_MARGIN,t),f=await super.deserialize(t,e,i);return f.createDrawingOptions(t),f.#a({drawOutlines:d}),f.#c(),f.onScaleChanging(),f.rotate(),f}serializeDraw(t){const[e,i]=this.pageTranslation,[a,o]=this.pageDimensions;return this.#t.serialize([e,i,a,o],t)}renderAnnotationElement(t){return t.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}}class I6{#t=new Float64Array(6);#e;#n;#i;#r;#a;#s="";#o=0;#c=new Zl;#l;#h;constructor(t,e,i,a,o,l){this.#l=i,this.#h=a,this.#i=o,this.#r=l,[t,e]=this.#d(t,e);const u=this.#e=[NaN,NaN,NaN,NaN,t,e];this.#a=[t,e],this.#n=[{line:u,points:this.#a}],this.#t.set(u,0)}updateProperty(t,e){t==="stroke-width"&&(this.#r=e)}#d(t,e){return lt._normalizePoint(t,e,this.#l,this.#h,this.#i)}isEmpty(){return!this.#n||this.#n.length===0}isCancellable(){return this.#a.length<=10}add(t,e){[t,e]=this.#d(t,e);const[i,a,o,l]=this.#t.subarray(2,6),u=t-o,d=e-l;return Math.hypot(this.#l*u,this.#h*d)<=2?null:(this.#a.push(t,e),isNaN(i)?(this.#t.set([o,l,t,e],2),this.#e.push(NaN,NaN,NaN,NaN,t,e),{path:{d:this.toSVGPath()}}):(isNaN(this.#t[0])&&this.#e.splice(6,6),this.#t.set([i,a,o,l,t,e],0),this.#e.push(...lt.createBezierPoints(i,a,o,l,t,e)),{path:{d:this.toSVGPath()}}))}end(t,e){const i=this.add(t,e);return i||(this.#a.length===2?{path:{d:this.toSVGPath()}}:null)}startNew(t,e,i,a,o){this.#l=i,this.#h=a,this.#i=o,[t,e]=this.#d(t,e);const l=this.#e=[NaN,NaN,NaN,NaN,t,e];this.#a=[t,e];const u=this.#n.at(-1);return u&&(u.line=new Float32Array(u.line),u.points=new Float32Array(u.points)),this.#n.push({line:l,points:this.#a}),this.#t.set(l,0),this.#o=0,this.toSVGPath(),null}getLastElement(){return this.#n.at(-1)}setLastElement(t){return this.#n?(this.#n.push(t),this.#e=t.line,this.#a=t.points,this.#o=0,{path:{d:this.toSVGPath()}}):this.#c.setLastElement(t)}removeLastElement(){if(!this.#n)return this.#c.removeLastElement();this.#n.pop(),this.#s="";for(let t=0,e=this.#n.length;t<e;t++){const{line:i,points:a}=this.#n[t];this.#e=i,this.#a=a,this.#o=0,this.toSVGPath()}return{path:{d:this.#s}}}toSVGPath(){const t=lt.svgRound(this.#e[4]),e=lt.svgRound(this.#e[5]);if(this.#a.length===2)return this.#s=`${this.#s} M ${t} ${e} Z`,this.#s;if(this.#a.length<=6){const a=this.#s.lastIndexOf("M");this.#s=`${this.#s.slice(0,a)} M ${t} ${e}`,this.#o=6}if(this.#a.length===4){const a=lt.svgRound(this.#e[10]),o=lt.svgRound(this.#e[11]);return this.#s=`${this.#s} L ${a} ${o}`,this.#o=12,this.#s}const i=[];this.#o===0&&(i.push(`M ${t} ${e}`),this.#o=6);for(let a=this.#o,o=this.#e.length;a<o;a+=6){const[l,u,d,f,p,g]=this.#e.slice(a,a+6).map(lt.svgRound);i.push(`C${l} ${u} ${d} ${f} ${p} ${g}`)}return this.#s+=i.join(" "),this.#o=this.#e.length,this.#s}getOutlines(t,e,i,a){const o=this.#n.at(-1);return o.line=new Float32Array(o.line),o.points=new Float32Array(o.points),this.#c.build(this.#n,t,e,i,this.#i,this.#r,a),this.#t=null,this.#e=null,this.#n=null,this.#s=null,this.#c}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}class Zl extends lt{#t;#e=0;#n;#i;#r;#a;#s;#o;#c;build(t,e,i,a,o,l,u){this.#r=e,this.#a=i,this.#s=a,this.#o=o,this.#c=l,this.#n=u??0,this.#i=t,this.#d()}get thickness(){return this.#c}setLastElement(t){return this.#i.push(t),{path:{d:this.toSVGPath()}}}removeLastElement(){return this.#i.pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const t=[];for(const{line:e}of this.#i){if(t.push(`M${lt.svgRound(e[4])} ${lt.svgRound(e[5])}`),e.length===6){t.push("Z");continue}if(e.length===12&&isNaN(e[6])){t.push(`L${lt.svgRound(e[10])} ${lt.svgRound(e[11])}`);continue}for(let i=6,a=e.length;i<a;i+=6){const[o,l,u,d,f,p]=e.subarray(i,i+6).map(lt.svgRound);t.push(`C${o} ${l} ${u} ${d} ${f} ${p}`)}}return t.join("")}serialize([t,e,i,a],o){const l=[],u=[],[d,f,p,g]=this.#h();let b,v,w,A,E,T,_,C,j;switch(this.#o){case 0:j=lt._rescale,b=t,v=e+a,w=i,A=-a,E=t+d*i,T=e+(1-f-g)*a,_=t+(d+p)*i,C=e+(1-f)*a;break;case 90:j=lt._rescaleAndSwap,b=t,v=e,w=i,A=a,E=t+f*i,T=e+d*a,_=t+(f+g)*i,C=e+(d+p)*a;break;case 180:j=lt._rescale,b=t+i,v=e,w=-i,A=a,E=t+(1-d-p)*i,T=e+f*a,_=t+(1-d)*i,C=e+(f+g)*a;break;case 270:j=lt._rescaleAndSwap,b=t+i,v=e+a,w=-i,A=-a,E=t+(1-f-g)*i,T=e+(1-d-p)*a,_=t+(1-f)*i,C=e+(1-d)*a;break}for(const{line:M,points:R}of this.#i)l.push(j(M,b,v,w,A,o?new Array(M.length):null)),u.push(j(R,b,v,w,A,o?new Array(R.length):null));return{lines:l,points:u,rect:[E,T,_,C]}}static deserialize(t,e,i,a,o,{paths:{lines:l,points:u},rotation:d,thickness:f}){const p=[];let g,b,v,w,A;switch(d){case 0:A=lt._rescale,g=-t/i,b=e/a+1,v=1/i,w=-1/a;break;case 90:A=lt._rescaleAndSwap,g=-e/a,b=-t/i,v=1/a,w=1/i;break;case 180:A=lt._rescale,g=t/i+1,b=-e/a,v=-1/i,w=1/a;break;case 270:A=lt._rescaleAndSwap,g=e/a+1,b=t/i+1,v=-1/a,w=-1/i;break}if(!l){l=[];for(const T of u){const _=T.length;if(_===2){l.push(new Float32Array([NaN,NaN,NaN,NaN,T[0],T[1]]));continue}if(_===4){l.push(new Float32Array([NaN,NaN,NaN,NaN,T[0],T[1],NaN,NaN,NaN,NaN,T[2],T[3]]));continue}const C=new Float32Array(3*(_-2));l.push(C);let[j,M,R,D]=T.subarray(0,4);C.set([NaN,NaN,NaN,NaN,j,M],0);for(let P=4;P<_;P+=2){const X=T[P],V=T[P+1];C.set(lt.createBezierPoints(j,M,R,D,X,V),(P-2)*3),[j,M,R,D]=[R,D,X,V]}}}for(let T=0,_=l.length;T<_;T++)p.push({line:A(l[T].map(C=>C??NaN),g,b,v,w),points:A(u[T].map(C=>C??NaN),g,b,v,w)});const E=new this.prototype.constructor;return E.build(p,i,a,1,d,f,o),E}#l(t=this.#c){const e=this.#n+t/2*this.#s;return this.#o%180===0?[e/this.#r,e/this.#a]:[e/this.#a,e/this.#r]}#h(){const[t,e,i,a]=this.#t,[o,l]=this.#l(0);return[t+o,e+l,i-2*o,a-2*l]}#d(){const t=this.#t=new Float32Array([1/0,1/0,-1/0,-1/0]);for(const{line:a}of this.#i){if(a.length<=12){for(let u=4,d=a.length;u<d;u+=6)ut.pointBoundingBox(a[u],a[u+1],t);continue}let o=a[4],l=a[5];for(let u=6,d=a.length;u<d;u+=6){const[f,p,g,b,v,w]=a.subarray(u,u+6);ut.bezierBoundingBox(o,l,f,p,g,b,v,w,t),o=v,l=w}}const[e,i]=this.#l();t[0]=ni(t[0]-e,0,1),t[1]=ni(t[1]-i,0,1),t[2]=ni(t[2]+e,0,1),t[3]=ni(t[3]+i,0,1),t[2]-=t[0],t[3]-=t[1]}get box(){return this.#t}updateProperty(t,e){return t==="stroke-width"?this.#f(e):null}#f(t){const[e,i]=this.#l();this.#c=t;const[a,o]=this.#l(),[l,u]=[a-e,o-i],d=this.#t;return d[0]-=l,d[1]-=u,d[2]+=2*l,d[3]+=2*u,d}updateParentDimensions([t,e],i){const[a,o]=this.#l();this.#r=t,this.#a=e,this.#s=i;const[l,u]=this.#l(),d=l-a,f=u-o,p=this.#t;return p[0]-=d,p[1]-=f,p[2]+=2*d,p[3]+=2*f,p}updateRotation(t){return this.#e=t,{path:{transform:this.rotationTransform}}}get viewBox(){return this.#t.map(lt.svgRound).join(" ")}get defaultProperties(){const[t,e]=this.#t;return{root:{viewBox:this.viewBox},path:{"transform-origin":`${lt.svgRound(t)} ${lt.svgRound(e)}`}}}get rotationTransform(){const[,,t,e]=this.#t;let i=0,a=0,o=0,l=0,u=0,d=0;switch(this.#e){case 90:a=e/t,o=-t/e,u=t;break;case 180:i=-1,l=-1,u=t,d=e;break;case 270:a=-e/t,o=t/e,d=e;break;default:return""}return`matrix(${i} ${a} ${o} ${l} ${lt.svgRound(u)} ${lt.svgRound(d)})`}getPathResizingSVGProperties([t,e,i,a]){const[o,l]=this.#l(),[u,d,f,p]=this.#t;if(Math.abs(f-o)<=lt.PRECISION||Math.abs(p-l)<=lt.PRECISION){const A=t+i/2-(u+f/2),E=e+a/2-(d+p/2);return{path:{"transform-origin":`${lt.svgRound(t)} ${lt.svgRound(e)}`,transform:`${this.rotationTransform} translate(${A} ${E})`}}}const g=(i-2*o)/(f-2*o),b=(a-2*l)/(p-2*l),v=f/i,w=p/a;return{path:{"transform-origin":`${lt.svgRound(u)} ${lt.svgRound(d)}`,transform:`${this.rotationTransform} scale(${v} ${w}) translate(${lt.svgRound(o)} ${lt.svgRound(l)}) scale(${g} ${b}) translate(${lt.svgRound(-o)} ${lt.svgRound(-l)})`}}}getPathResizedSVGProperties([t,e,i,a]){const[o,l]=this.#l(),u=this.#t,[d,f,p,g]=u;if(u[0]=t,u[1]=e,u[2]=i,u[3]=a,Math.abs(p-o)<=lt.PRECISION||Math.abs(g-l)<=lt.PRECISION){const E=t+i/2-(d+p/2),T=e+a/2-(f+g/2);for(const{line:_,points:C}of this.#i)lt._translate(_,E,T,_),lt._translate(C,E,T,C);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${lt.svgRound(t)} ${lt.svgRound(e)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const b=(i-2*o)/(p-2*o),v=(a-2*l)/(g-2*l),w=-b*(d+o)+t+o,A=-v*(f+l)+e+l;if(b!==1||v!==1||w!==0||A!==0)for(const{line:E,points:T}of this.#i)lt._rescale(E,w,A,b,v,E),lt._rescale(T,w,A,b,v,T);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${lt.svgRound(t)} ${lt.svgRound(e)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([t,e],i){const[a,o]=i,l=this.#t,u=t-l[0],d=e-l[1];if(this.#r===a&&this.#a===o)for(const{line:f,points:p}of this.#i)lt._translate(f,u,d,f),lt._translate(p,u,d,p);else{const f=this.#r/a,p=this.#a/o;this.#r=a,this.#a=o;for(const{line:g,points:b}of this.#i)lt._rescale(g,u,d,f,p,g),lt._rescale(b,u,d,f,p,b);l[2]*=f,l[3]*=p}return l[0]=t,l[1]=e,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${lt.svgRound(t)} ${lt.svgRound(e)}`}}}get defaultSVGProperties(){const t=this.#t;return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${lt.svgRound(t[0])} ${lt.svgRound(t[1])}`,transform:this.rotationTransform||null},bbox:t}}}class Od extends SE{constructor(t){super(),this._viewParameters=t,super.updateProperties({fill:"none",stroke:yt._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(t,e){t==="stroke-width"&&(e??=this["stroke-width"],e*=this._viewParameters.realScale),super.updateSVGProperty(t,e)}clone(){const t=new Od(this._viewParameters);return t.updateAll(this),t}}class a0 extends It{static _type="ink";static _editorType=Ct.INK;static _defaultDrawingOptions=null;constructor(t){super({...t,name:"inkEditor"}),this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(t,e){yt.initialize(t,e),this._defaultDrawingOptions=new Od(e.viewParameters)}static getDefaultDrawingOptions(t){const e=this._defaultDrawingOptions.clone();return e.updateProperties(t),e}static get supportMultipleDrawings(){return!0}static get typesMap(){return Tt(this,"typesMap",new Map([[Lt.INK_THICKNESS,"stroke-width"],[Lt.INK_COLOR,"stroke"],[Lt.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(t,e,i,a,o){return new I6(t,e,i,a,o,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(t,e,i,a,o,l){return Zl.deserialize(t,e,i,a,o,l)}static async deserialize(t,e,i){let a=null;if(t instanceof n0){const{data:{inkLists:l,rect:u,rotation:d,id:f,color:p,opacity:g,borderStyle:{rawWidth:b},popupRef:v,richText:w,contentsObj:A,creationDate:E,modificationDate:T},parent:{page:{pageNumber:_}}}=t;a=t={annotationType:Ct.INK,color:Array.from(p),thickness:b,opacity:g,paths:{points:l},boxes:null,pageIndex:_-1,rect:u.slice(0),rotation:d,annotationElementId:f,id:f,deleted:!1,popupRef:v,richText:w,comment:A?.str||null,creationDate:E,modificationDate:T}}const o=await super.deserialize(t,e,i);return o._initialData=a,t.comment&&o.setCommentData(t),o}get toolbarButtons(){return this._colorPicker||=new Dl(this),[["colorPicker",this._colorPicker]]}get colorType(){return Lt.INK_COLOR}get color(){return this._drawingOptions.stroke}get opacity(){return this._drawingOptions["stroke-opacity"]}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:t,_drawingOptions:e,parent:i}=this;e.updateSVGProperty("stroke-width"),i.drawLayer.updateProperties(t,e.toSVGProperties())}static onScaleChangingWhenDrawing(){const t=this._currentParent;t&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),t.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:t,thickness:e,opacity:i}){this._drawingOptions=a0.getDefaultDrawingOptions({stroke:ut.makeHexColor(...t),"stroke-width":e,"stroke-opacity":i})}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:e,points:i}=this.serializeDraw(t),{_drawingOptions:{stroke:a,"stroke-opacity":o,"stroke-width":l}}=this,u=Object.assign(super.serialize(t),{color:yt._colorManager.convert(a),opacity:o,thickness:l,paths:{lines:e,points:i}});return this.addComment(u),t?(u.isCopy=!0,u):this.annotationElementId&&!this.#t(u)?null:(u.id=this.annotationElementId,u)}#t(t){const{color:e,thickness:i,opacity:a,pageIndex:o}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||t.color.some((l,u)=>l!==e[u])||t.thickness!==i||t.opacity!==a||t.pageIndex!==o}renderAnnotationElement(t){if(this.deleted)return t.hide(),null;const{points:e,rect:i}=this.serializeDraw(!1);return t.updateEdited({rect:i,thickness:this._drawingOptions["stroke-width"],points:e,popup:this.comment}),null}}class qm extends Zl{toSVGPath(){let t=super.toSVGPath();return t.endsWith("Z")||(t+="Z"),t}}const Ou=8,rl=3;class Ar{static#t={maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16};static#e(t,e,i,a){return i-=t,a-=e,i===0?a>0?0:4:i===1?a+6:2-a}static#n=new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]);static#i(t,e,i,a,o,l,u){const d=this.#e(i,a,o,l);for(let f=0;f<8;f++){const p=(-f+d-u+16)%8,g=this.#n[2*p],b=this.#n[2*p+1];if(t[(i+g)*e+(a+b)]!==0)return p}return-1}static#r(t,e,i,a,o,l,u){const d=this.#e(i,a,o,l);for(let f=0;f<8;f++){const p=(f+d+u+16)%8,g=this.#n[2*p],b=this.#n[2*p+1];if(t[(i+g)*e+(a+b)]!==0)return p}return-1}static#a(t,e,i,a){const o=t.length,l=new Int32Array(o);for(let p=0;p<o;p++)l[p]=t[p]<=a?1:0;for(let p=1;p<i-1;p++)l[p*e]=l[p*e+e-1]=0;for(let p=0;p<e;p++)l[p]=l[e*i-1-p]=0;let u=1,d;const f=[];for(let p=1;p<i-1;p++){d=1;for(let g=1;g<e-1;g++){const b=p*e+g,v=l[b];if(v===0)continue;let w=p,A=g;if(v===1&&l[b-1]===0)u+=1,A-=1;else if(v>=1&&l[b+1]===0)u+=1,A+=1,v>1&&(d=v);else{v!==1&&(d=Math.abs(v));continue}const E=[g,p],T=A===g+1,_={isHole:T,points:E,id:u,parent:0};f.push(_);let C;for(const W of f)if(W.id===d){C=W;break}C?C.isHole?_.parent=T?C.parent:d:_.parent=T?d:C.parent:_.parent=T?d:0;const j=this.#i(l,e,p,g,w,A,0);if(j===-1){l[b]=-u,l[b]!==1&&(d=Math.abs(l[b]));continue}let M=this.#n[2*j],R=this.#n[2*j+1];const D=p+M,P=g+R;w=D,A=P;let X=p,V=g;for(;;){const W=this.#r(l,e,X,V,w,A,1);M=this.#n[2*W],R=this.#n[2*W+1];const rt=X+M,ft=V+R;E.push(ft,rt);const et=X*e+V;if(l[et+1]===0?l[et]=-u:l[et]===1&&(l[et]=u),rt===p&&ft===g&&X===D&&V===P){l[b]!==1&&(d=Math.abs(l[b]));break}else w=X,A=V,X=rt,V=ft}}}return f}static#s(t,e,i,a){if(i-e<=4){for(let D=e;D<i-2;D+=2)a.push(t[D],t[D+1]);return}const o=t[e],l=t[e+1],u=t[i-4]-o,d=t[i-3]-l,f=Math.hypot(u,d),p=u/f,g=d/f,b=p*l-g*o,v=d/u,w=1/f,A=Math.atan(v),E=Math.cos(A),T=Math.sin(A),_=w*(Math.abs(E)+Math.abs(T)),C=w*(1-_+_**2),j=Math.max(Math.atan(Math.abs(T+E)*C),Math.atan(Math.abs(T-E)*C));let M=0,R=e;for(let D=e+2;D<i-2;D+=2){const P=Math.abs(b-p*t[D+1]+g*t[D]);P>M&&(R=D,M=P)}M>(f*j)**2?(this.#s(t,e,R+2,a),this.#s(t,R,i,a)):a.push(o,l)}static#o(t){const e=[],i=t.length;return this.#s(t,0,i,e),e.push(t[i-2],t[i-1]),e.length<=4?null:e}static#c(t,e,i,a,o,l){const u=new Float32Array(l**2),d=-2*a**2,f=l>>1;for(let A=0;A<l;A++){const E=(A-f)**2;for(let T=0;T<l;T++)u[A*l+T]=Math.exp((E+(T-f)**2)/d)}const p=new Float32Array(256),g=-2*o**2;for(let A=0;A<256;A++)p[A]=Math.exp(A**2/g);const b=t.length,v=new Uint8Array(b),w=new Uint32Array(256);for(let A=0;A<i;A++)for(let E=0;E<e;E++){const T=A*e+E,_=t[T];let C=0,j=0;for(let R=0;R<l;R++){const D=A+R-f;if(!(D<0||D>=i))for(let P=0;P<l;P++){const X=E+P-f;if(X<0||X>=e)continue;const V=t[D*e+X],W=u[R*l+P]*p[Math.abs(V-_)];C+=V*W,j+=W}}const M=v[T]=Math.round(C/j);w[M]++}return[v,w]}static#l(t){const e=new Uint32Array(256);for(const i of t)e[i]++;return e}static#h(t){const e=t.length,i=new Uint8ClampedArray(e>>2);let a=-1/0,o=1/0;for(let u=0,d=i.length;u<d;u++){const f=i[u]=t[u<<2];a=Math.max(a,f),o=Math.min(o,f)}const l=255/(a-o);for(let u=0,d=i.length;u<d;u++)i[u]=(i[u]-o)*l;return i}static#d(t){let e,i=-1/0,a=-1/0;const o=t.findIndex(d=>d!==0);let l=o,u=o;for(e=o;e<256;e++){const d=t[e];d>i&&(e-l>a&&(a=e-l,u=e-1),i=d,l=e)}for(e=u-1;e>=0&&!(t[e]>t[e+1]);e--);return e}static#f(t){const e=t,{width:i,height:a}=t,{maxDim:o}=this.#t;let l=i,u=a;if(i>o||a>o){let b=i,v=a,w=Math.log2(Math.max(i,a)/o);const A=Math.floor(w);w=w===A?A-1:A;for(let T=0;T<w;T++){l=Math.ceil(b/2),u=Math.ceil(v/2);const _=new OffscreenCanvas(l,u);_.getContext("2d").drawImage(t,0,0,b,v,0,0,l,u),b=l,v=u,t!==e&&t.close(),t=_.transferToImageBitmap()}const E=Math.min(o/l,o/u);l=Math.round(l*E),u=Math.round(u*E)}const f=new OffscreenCanvas(l,u).getContext("2d",{willReadFrequently:!0});f.fillStyle="white",f.fillRect(0,0,l,u),f.filter="grayscale(1)",f.drawImage(t,0,0,t.width,t.height,0,0,l,u);const p=f.getImageData(0,0,l,u).data;return[this.#h(p),l,u]}static extractContoursFromText(t,{fontFamily:e,fontStyle:i,fontWeight:a},o,l,u,d){let f=new OffscreenCanvas(1,1),p=f.getContext("2d",{alpha:!1});const g=200,b=p.font=`${i} ${a} ${g}px ${e}`,{actualBoundingBoxLeft:v,actualBoundingBoxRight:w,actualBoundingBoxAscent:A,actualBoundingBoxDescent:E,fontBoundingBoxAscent:T,fontBoundingBoxDescent:_,width:C}=p.measureText(t),j=1.5,M=Math.ceil(Math.max(Math.abs(v)+Math.abs(w)||0,C)*j),R=Math.ceil(Math.max(Math.abs(A)+Math.abs(E)||g,Math.abs(T)+Math.abs(_)||g)*j);f=new OffscreenCanvas(M,R),p=f.getContext("2d",{alpha:!0,willReadFrequently:!0}),p.font=b,p.filter="grayscale(1)",p.fillStyle="white",p.fillRect(0,0,M,R),p.fillStyle="black",p.fillText(t,M*(j-1)/2,R*(3-j)/2);const D=this.#h(p.getImageData(0,0,M,R).data),P=this.#l(D),X=this.#d(P),V=this.#a(D,M,R,X);return this.processDrawnLines({lines:{curves:V,width:M,height:R},pageWidth:o,pageHeight:l,rotation:u,innerMargin:d,mustSmooth:!0,areContours:!0})}static process(t,e,i,a,o){const[l,u,d]=this.#f(t),[f,p]=this.#c(l,u,d,Math.hypot(u,d)*this.#t.sigmaSFactor,this.#t.sigmaR,this.#t.kernelSize),g=this.#d(p),b=this.#a(f,u,d,g);return this.processDrawnLines({lines:{curves:b,width:u,height:d},pageWidth:e,pageHeight:i,rotation:a,innerMargin:o,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:t,pageWidth:e,pageHeight:i,rotation:a,innerMargin:o,mustSmooth:l,areContours:u}){a%180!==0&&([e,i]=[i,e]);const{curves:d,width:f,height:p}=t,g=t.thickness??0,b=[],v=Math.min(e/f,i/p),w=v/e,A=v/i,E=[];for(const{points:_}of d){const C=l?this.#o(_):_;if(!C)continue;E.push(C);const j=C.length,M=new Float32Array(j),R=new Float32Array(3*(j===2?2:j-2));if(b.push({line:R,points:M}),j===2){M[0]=C[0]*w,M[1]=C[1]*A,R.set([NaN,NaN,NaN,NaN,M[0],M[1]],0);continue}let[D,P,X,V]=C;D*=w,P*=A,X*=w,V*=A,M.set([D,P,X,V],0),R.set([NaN,NaN,NaN,NaN,D,P],0);for(let W=4;W<j;W+=2){const rt=M[W]=C[W]*w,ft=M[W+1]=C[W+1]*A;R.set(lt.createBezierPoints(D,P,X,V,rt,ft),(W-2)*3),[D,P,X,V]=[X,V,rt,ft]}}if(b.length===0)return null;const T=u?new qm:new Zl;return T.build(b,e,i,1,a,u?0:g,o),{outline:T,newCurves:E,areContours:u,thickness:g,width:f,height:p}}static async compressSignature({outlines:t,areContours:e,thickness:i,width:a,height:o}){let l=1/0,u=-1/0,d=0;for(const C of t){d+=C.length;for(let j=2,M=C.length;j<M;j++){const R=C[j]-C[j-2];l=Math.min(l,R),u=Math.max(u,R)}}let f;l>=-128&&u<=127?f=Int8Array:l>=-32768&&u<=32767?f=Int16Array:f=Int32Array;const p=t.length,g=Ou+rl*p,b=new Uint32Array(g);let v=0;b[v++]=g*Uint32Array.BYTES_PER_ELEMENT+(d-2*p)*f.BYTES_PER_ELEMENT,b[v++]=0,b[v++]=a,b[v++]=o,b[v++]=e?0:1,b[v++]=Math.max(0,Math.floor(i??0)),b[v++]=p,b[v++]=f.BYTES_PER_ELEMENT;for(const C of t)b[v++]=C.length-2,b[v++]=C[0],b[v++]=C[1];const w=new CompressionStream("deflate-raw"),A=w.writable.getWriter();await A.ready,A.write(b);const E=f.prototype.constructor;for(const C of t){const j=new E(C.length-2);for(let M=2,R=C.length;M<R;M++)j[M-2]=C[M]-C[M-2];A.write(j)}A.close();const T=await new Response(w.readable).arrayBuffer(),_=new Uint8Array(T);return YS(_)}static async decompressSignature(t){try{const e=nP(t),{readable:i,writable:a}=new DecompressionStream("deflate-raw"),o=a.getWriter();await o.ready,o.write(e).then(async()=>{await o.ready,await o.close()}).catch(()=>{});let l=null,u=0;for await(const C of i)l||=new Uint8Array(new Uint32Array(C.buffer,0,4)[0]),l.set(C,u),u+=C.length;const d=new Uint32Array(l.buffer,0,l.length>>2),f=d[1];if(f!==0)throw new Error(`Invalid version: ${f}`);const p=d[2],g=d[3],b=d[4]===0,v=d[5],w=d[6],A=d[7],E=[],T=(Ou+rl*w)*Uint32Array.BYTES_PER_ELEMENT;let _;switch(A){case Int8Array.BYTES_PER_ELEMENT:_=new Int8Array(l.buffer,T);break;case Int16Array.BYTES_PER_ELEMENT:_=new Int16Array(l.buffer,T);break;case Int32Array.BYTES_PER_ELEMENT:_=new Int32Array(l.buffer,T);break}u=0;for(let C=0;C<w;C++){const j=d[rl*C+Ou],M=new Float32Array(j+2);E.push(M);for(let R=0;R<rl-1;R++)M[R]=d[rl*C+Ou+R+1];for(let R=0;R<j;R++)M[R+2]=M[R]+_[u++]}return{areContours:b,thickness:v,outlines:E,width:p,height:g}}catch(e){return Et(`decompressSignature: ${e}`),null}}}class r0 extends SE{constructor(){super(),super.updateProperties({fill:yt._defaultLineColor,"stroke-width":0})}clone(){const t=new r0;return t.updateAll(this),t}}class o0 extends Od{constructor(t){super(t),super.updateProperties({stroke:yt._defaultLineColor,"stroke-width":1})}clone(){const t=new o0(this._viewParameters);return t.updateAll(this),t}}class yn extends It{#t=!1;#e=null;#n=null;#i=null;static _type="signature";static _editorType=Ct.SIGNATURE;static _defaultDrawingOptions=null;constructor(t){super({...t,mustBeCommitted:!0,name:"signatureEditor"}),this._willKeepAspectRatio=!0,this.#n=t.signatureData||null,this.#e=null,this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(t,e){yt.initialize(t,e),this._defaultDrawingOptions=new r0,this._defaultDrawnSignatureOptions=new o0(e.viewParameters)}static getDefaultDrawingOptions(t){const e=this._defaultDrawingOptions.clone();return e.updateProperties(t),e}static get supportMultipleDrawings(){return!1}static get typesMap(){return Tt(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!this.#e}}static computeTelemetryFinalData(t){const e=t.get("hasDescription");return{hasAltText:e.get(!0)??0,hasNoAltText:e.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let t,e;const{_isCopy:i}=this;if(i&&(this._isCopy=!1,t=this.x,e=this.y),super.render(),this._drawId===null)if(this.#n){const{lines:a,mustSmooth:o,areContours:l,description:u,uuid:d,heightInPage:f}=this.#n,{rawDims:{pageWidth:p,pageHeight:g},rotation:b}=this.parent.viewport,v=Ar.processDrawnLines({lines:a,pageWidth:p,pageHeight:g,rotation:b,innerMargin:yn._INNER_MARGIN,mustSmooth:o,areContours:l});this.addSignature(v,f,u,d)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:this.#e||""}));return i&&(this._isCopy=!0,this._moveAfterPaste(t,e)),this.div}setUuid(t){this.#i=t,this.addEditToolbar()}getUuid(){return this.#i}get description(){return this.#e}set description(t){this.#e=t,this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:t})),super.addEditToolbar().then(e=>{e?.updateEditSignatureButton(t)}))}getSignaturePreview(){const{newCurves:t,areContours:e,thickness:i,width:a,height:o}=this.#n,l=Math.max(a,o),u=Ar.processDrawnLines({lines:{curves:t.map(d=>({points:d})),thickness:i,width:a,height:o},pageWidth:l,pageHeight:l,rotation:0,innerMargin:0,mustSmooth:!1,areContours:e});return{areContours:e,outline:u.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(t,e,i,a){const{x:o,y:l}=this,{outline:u}=this.#n=t;this.#t=u instanceof qm,this.description=i;let d;this.#t?d=yn.getDefaultDrawingOptions():(d=yn._defaultDrawnSignatureOptions.clone(),d.updateProperties({"stroke-width":u.thickness})),this._addOutlines({drawOutlines:u,drawingOptions:d});const[,f]=this.pageDimensions;let p=e/f;p=p>=1?.5:p,this.width*=p/this.height,this.width>=1&&(p*=.9/this.width,this.width=.9),this.height=p,this.setDims(),this.x=o,this.y=l,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(a),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!a,hasDescription:!!i}}),this.div.hidden=!1}getFromImage(t){const{rawDims:{pageWidth:e,pageHeight:i},rotation:a}=this.parent.viewport;return Ar.process(t,e,i,a,yn._INNER_MARGIN)}getFromText(t,e){const{rawDims:{pageWidth:i,pageHeight:a},rotation:o}=this.parent.viewport;return Ar.extractContoursFromText(t,e,i,a,o,yn._INNER_MARGIN)}getDrawnSignature(t){const{rawDims:{pageWidth:e,pageHeight:i},rotation:a}=this.parent.viewport;return Ar.processDrawnLines({lines:t,pageWidth:e,pageHeight:i,rotation:a,innerMargin:yn._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:t,thickness:e}){t?this._drawingOptions=yn.getDefaultDrawingOptions():(this._drawingOptions=yn._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":e}))}serialize(t=!1){if(this.isEmpty())return null;const{lines:e,points:i}=this.serializeDraw(t),{_drawingOptions:{"stroke-width":a}}=this,o=Object.assign(super.serialize(t),{isSignature:!0,areContours:this.#t,color:[0,0,0],thickness:this.#t?0:a});return this.addComment(o),t?(o.paths={lines:e,points:i},o.uuid=this.#i,o.isCopy=!0):o.lines=e,this.#e&&(o.accessibilityData={type:"Figure",alt:this.#e}),o}static deserializeDraw(t,e,i,a,o,l){return l.areContours?qm.deserialize(t,e,i,a,o,l):Zl.deserialize(t,e,i,a,o,l)}static async deserialize(t,e,i){const a=await super.deserialize(t,e,i);return a.#t=t.areContours,a.description=t.accessibilityData?.alt||"",a.#i=t.uuid,a}}class U6 extends yt{#t=null;#e=null;#n=null;#i=null;#r=null;#a="";#s=null;#o=!1;#c=null;#l=!1;#h=!1;static _type="stamp";static _editorType=Ct.STAMP;constructor(t){super({...t,name:"stampEditor"}),this.#i=t.bitmapUrl,this.#r=t.bitmapFile,this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(t,e){yt.initialize(t,e)}static isHandlingMimeForPasting(t){return Om.includes(t)}static paste(t,e){e.pasteEditor({mode:Ct.STAMP},{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){return{type:"stamp",hasAltText:!!this.altTextData?.altText}}static computeTelemetryFinalData(t){const e=t.get("hasAltText");return{hasAltText:e.get(!0)??0,hasNoAltText:e.get(!1)??0}}#d(t,e=!1){if(!t){this.remove();return}this.#t=t.bitmap,e||(this.#e=t.id,this.#l=t.isSvg),t.file&&(this.#a=t.file.name),this.#m()}#f(){if(this.#n=null,this._uiManager.enableWaiting(!1),!!this.#s){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#t){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#t){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}}async mlGuessAltText(t=null,e=!0){if(this.hasAltTextData())return null;const{mlManager:i}=this._uiManager;if(!i)throw new Error("No ML.");if(!await i.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:a,width:o,height:l}=t||this.copyCanvas(null,null,!0).imageData,u=await i.guess({name:"altText",request:{data:a,width:o,height:l,channels:a.length/(o*l)}});if(!u)throw new Error("No response from the AI service.");if(u.error)throw new Error("Error from the AI service.");if(u.cancel)return null;if(!u.output)throw new Error("No valid response from the AI service.");const d=u.output;return await this.setGuessedAltText(d),e&&!this.hasAltTextData()&&(this.altTextData={alt:d,decorative:!1}),d}#g(){if(this.#e){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#e).then(i=>this.#d(i,!0)).finally(()=>this.#f());return}if(this.#i){const i=this.#i;this.#i=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromUrl(i).then(a=>this.#d(a)).finally(()=>this.#f());return}if(this.#r){const i=this.#r;this.#r=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromFile(i).then(a=>this.#d(a)).finally(()=>this.#f());return}const t=document.createElement("input");t.type="file",t.accept=Om.join(",");const e=this._uiManager._signal;this.#n=new Promise(i=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const a=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),this.#d(a)}i()},{signal:e}),t.addEventListener("cancel",()=>{this.remove(),i()},{signal:e})}).finally(()=>this.#f()),t.click()}remove(){this.#e&&(this.#t=null,this._uiManager.imageManager.deleteId(this.#e),this.#s?.remove(),this.#s=null,this.#c&&(clearTimeout(this.#c),this.#c=null)),super.remove()}rebuild(){if(!this.parent){this.#e&&this.#g();return}super.rebuild(),this.div!==null&&(this.#e&&this.#s===null&&this.#g(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(t){this._isDraggable=!0,t&&this.div.focus()}isEmpty(){return!(this.#n||this.#t||this.#i||this.#r||this.#e||this.#o)}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let t,e;return this._isCopy&&(t=this.x,e=this.y),super.render(),this.div.hidden=!0,this.createAltText(),this.#o||(this.#t?this.#m():this.#g()),this._isCopy&&this._moveAfterPaste(t,e),this._uiManager.addShouldRescale(this),this.div}setCanvas(t,e){const{id:i,bitmap:a}=this._uiManager.imageManager.getFromCanvas(t,e);e.remove(),i&&this._uiManager.imageManager.isValidId(i)&&(this.#e=i,a&&(this.#t=a),this.#o=!1,this.#m())}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;this.#c!==null&&clearTimeout(this.#c);const t=200;this.#c=setTimeout(()=>{this.#c=null,this.#p()},t)}#m(){const{div:t}=this;let{width:e,height:i}=this.#t;const[a,o]=this.pageDimensions,l=.75;if(this.width)e=this.width*a,i=this.height*o;else if(e>l*a||i>l*o){const d=Math.min(l*a/e,l*o/i);e*=d,i*=d}this._uiManager.enableWaiting(!1);const u=this.#s=document.createElement("canvas");u.setAttribute("role","img"),this.addContainer(u),this.width=e/a,this.height=i/o,this.setDims(),this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),this.#p(),this.#h||(this.parent.addUndoableEditor(this),this.#h=!0),this._reportTelemetry({action:"inserted_image"}),this.#a&&this.div.setAttribute("aria-description",this.#a),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")}copyCanvas(t,e,i=!1){t||(t=224);const{width:a,height:o}=this.#t,l=new Sn;let u=this.#t,d=a,f=o,p=null;if(e){if(a>e||o>e){const R=Math.min(e/a,e/o);d=Math.floor(a*R),f=Math.floor(o*R)}p=document.createElement("canvas");const b=p.width=Math.ceil(d*l.sx),v=p.height=Math.ceil(f*l.sy);this.#l||(u=this.#u(b,v));const w=p.getContext("2d");w.filter=this._uiManager.hcmFilter;let A="white",E="#cfcfd8";this._uiManager.hcmFilter!=="none"?E="black":cP.isDarkMode&&(A="#8f8f9d",E="#42414d");const T=15,_=T*l.sx,C=T*l.sy,j=new OffscreenCanvas(_*2,C*2),M=j.getContext("2d");M.fillStyle=A,M.fillRect(0,0,_*2,C*2),M.fillStyle=E,M.fillRect(0,0,_,C),M.fillRect(_,C,_,C),w.fillStyle=w.createPattern(j,"repeat"),w.fillRect(0,0,b,v),w.drawImage(u,0,0,u.width,u.height,0,0,b,v)}let g=null;if(i){let b,v;if(l.symmetric&&u.width<t&&u.height<t)b=u.width,v=u.height;else if(u=this.#t,a>t||o>t){const E=Math.min(t/a,t/o);b=Math.floor(a*E),v=Math.floor(o*E),this.#l||(u=this.#u(b,v))}const A=new OffscreenCanvas(b,v).getContext("2d",{willReadFrequently:!0});A.drawImage(u,0,0,u.width,u.height,0,0,b,v),g={width:b,height:v,data:A.getImageData(0,0,b,v).data}}return{canvas:p,width:d,height:f,imageData:g}}#u(t,e){const{width:i,height:a}=this.#t;let o=i,l=a,u=this.#t;for(;o>2*t||l>2*e;){const d=o,f=l;o>2*t&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2)),l>2*e&&(l=l>=16384?Math.floor(l/2)-1:Math.ceil(l/2));const p=new OffscreenCanvas(o,l);p.getContext("2d").drawImage(u,0,0,d,f,0,0,o,l),u=p.transferToImageBitmap()}return u}#p(){const[t,e]=this.parentDimensions,{width:i,height:a}=this,o=new Sn,l=Math.ceil(i*t*o.sx),u=Math.ceil(a*e*o.sy),d=this.#s;if(!d||d.width===l&&d.height===u)return;d.width=l,d.height=u;const f=this.#l?this.#t:this.#u(l,u),p=d.getContext("2d");p.filter=this._uiManager.hcmFilter,p.drawImage(f,0,0,f.width,f.height,0,0,l,u)}#x(t){if(t){if(this.#l){const a=this._uiManager.imageManager.getSvgUrl(this.#e);if(a)return a}const e=document.createElement("canvas");return{width:e.width,height:e.height}=this.#t,e.getContext("2d").drawImage(this.#t,0,0),e.toDataURL()}if(this.#l){const[e,i]=this.pageDimensions,a=Math.round(this.width*e*qr.PDF_TO_CSS_UNITS),o=Math.round(this.height*i*qr.PDF_TO_CSS_UNITS),l=new OffscreenCanvas(a,o);return l.getContext("2d").drawImage(this.#t,0,0,this.#t.width,this.#t.height,0,0,a,o),l.transferToImageBitmap()}return structuredClone(this.#t)}static async deserialize(t,e,i){let a=null,o=!1;if(t instanceof wE){const{data:{rect:A,rotation:E,id:T,structParent:_,popupRef:C,richText:j,contentsObj:M,creationDate:R,modificationDate:D},container:P,parent:{page:{pageNumber:X}},canvas:V}=t;let W,rt;V?(delete t.canvas,{id:W,bitmap:rt}=i.imageManager.getFromCanvas(P.id,V),V.remove()):(o=!0,t._hasNoCanvas=!0);const ft=(await e._structTree.getAriaAttributes(`${Nr}${T}`))?.get("aria-label")||"";a=t={annotationType:Ct.STAMP,bitmapId:W,bitmap:rt,pageIndex:X-1,rect:A.slice(0),rotation:E,annotationElementId:T,id:T,deleted:!1,accessibilityData:{decorative:!1,altText:ft},isSvg:!1,structParent:_,popupRef:C,richText:j,comment:M?.str||null,creationDate:R,modificationDate:D}}const l=await super.deserialize(t,e,i),{rect:u,bitmap:d,bitmapUrl:f,bitmapId:p,isSvg:g,accessibilityData:b}=t;o?(i.addMissingCanvas(t.id,l),l.#o=!0):p&&i.imageManager.isValidId(p)?(l.#e=p,d&&(l.#t=d)):l.#i=f,l.#l=g;const[v,w]=l.pageDimensions;return l.width=(u[2]-u[0])/v,l.height=(u[3]-u[1])/w,b&&(l.altTextData=b),l._initialData=a,t.comment&&l.setCommentData(t),l.#h=!!a,l}serialize(t=!1,e=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i=Object.assign(super.serialize(t),{bitmapId:this.#e,isSvg:this.#l});if(this.addComment(i),t)return i.bitmapUrl=this.#x(!0),i.accessibilityData=this.serializeAltText(!0),i.isCopy=!0,i;const{decorative:a,altText:o}=this.serializeAltText(!1);if(!a&&o&&(i.accessibilityData={type:"Figure",alt:o}),this.annotationElementId){const u=this.#b(i);return u.isSame?null:(u.isSameAltText?delete i.accessibilityData:i.accessibilityData.structParent=this._initialData.structParent??-1,i.id=this.annotationElementId,delete i.bitmapId,i)}if(e===null)return i;e.stamps||=new Map;const l=this.#l?(i.rect[2]-i.rect[0])*(i.rect[3]-i.rect[1]):null;if(!e.stamps.has(this.#e))e.stamps.set(this.#e,{area:l,serialized:i}),i.bitmap=this.#x(!1);else if(this.#l){const u=e.stamps.get(this.#e);l>u.area&&(u.area=l,u.serialized.bitmap.close(),u.serialized.bitmap=this.#x(!1))}return i}#b(t){const{pageIndex:e,accessibilityData:{altText:i}}=this._initialData,a=t.pageIndex===e,o=(t.accessibilityData?.alt||"")===i;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&a&&o,isSameAltText:o}}renderAnnotationElement(t){return this.deleted?(t.hide(),null):(t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}}class Yn{#t;#e=!1;#n=null;#i=null;#r=null;#a=new Map;#s=!1;#o=!1;#c=!1;#l=null;#h=null;#d=null;#f=null;#g=null;#m=-1;#u;static _initialized=!1;static#p=new Map([Fe,a0,U6,Ee,yn].map(t=>[t._editorType,t]));constructor({uiManager:t,pageIndex:e,div:i,structTreeLayer:a,accessibilityManager:o,annotationLayer:l,drawLayer:u,textLayer:d,viewport:f,l10n:p}){const g=[...Yn.#p.values()];if(!Yn._initialized){Yn._initialized=!0;for(const b of g)b.initialize(p,t)}t.registerEditorTypes(g),this.#u=t,this.pageIndex=e,this.div=i,this.#t=o,this.#n=l,this.viewport=f,this.#d=d,this.drawLayer=u,this._structTree=a,this.#u.addLayer(this)}get isEmpty(){return this.#a.size===0}get isInvisible(){return this.isEmpty&&this.#u.getMode()===Ct.NONE}updateToolbar(t){this.#u.updateToolbar(t)}updateMode(t=this.#u.getMode()){switch(this.#w(),t){case Ct.NONE:this.div.classList.toggle("nonEditing",!0),this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Ct.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case Ct.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:e}=this.div;if(e.toggle("nonEditing",!1),t===Ct.POPUP)e.toggle("commentEditing",!0);else{e.toggle("commentEditing",!1);for(const i of Yn.#p.values())e.toggle(`${i._type}Editing`,t===i._editorType)}this.div.hidden=!1}hasTextLayer(t){return t===this.#d?.div}setEditingState(t){this.#u.setEditingState(t)}addCommands(t){this.#u.addCommands(t)}cleanUndoStack(t){this.#u.cleanUndoStack(t)}toggleDrawing(t=!1){this.div.classList.toggle("drawing",!t)}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(t=!1){this.#n?.togglePointerEvents(t)}get#x(){return this.#a.size!==0?this.#a.values():this.#u.getEditors(this.pageIndex)}async enable(){this.#c=!0,this.div.tabIndex=0,this.togglePointerEvents(!0),this.div.classList.toggle("nonEditing",!1),this.#g?.abort(),this.#g=null;const t=new Set;for(const i of this.#x)i.enableEditing(),i.show(!0),i.annotationElementId&&(this.#u.removeChangedExistingAnnotation(i),t.add(i.annotationElementId));const e=this.#n;if(e)for(const i of e.getEditableAnnotations()){if(i.hide(),this.#u.isDeletedAnnotationElement(i.data.id)||t.has(i.data.id))continue;const a=await this.deserialize(i);a&&(this.addOrRebuild(a),a.enableEditing())}this.#c=!1,this.#u._eventBus.dispatch("editorsrendered",{source:this,pageNumber:this.pageIndex+1})}disable(){if(this.#o=!0,this.div.tabIndex=-1,this.togglePointerEvents(!1),this.div.classList.toggle("nonEditing",!0),this.#d&&!this.#g){this.#g=new AbortController;const a=this.#u.combinedSignal(this.#g);this.#d.div.addEventListener("pointerdown",o=>{const{clientX:u,clientY:d,timeStamp:f}=o,p=this.#m;if(f-p>500){this.#m=f;return}this.#m=-1;const{classList:g}=this.div;g.toggle("getElements",!0);const b=document.elementsFromPoint(u,d);if(g.toggle("getElements",!1),!this.div.contains(b[0]))return;let v;const w=new RegExp(`^${Nl}[0-9]+$`);for(const E of b)if(w.test(E.id)){v=E.id;break}if(!v)return;const A=this.#a.get(v);A?.annotationElementId===null&&(o.stopPropagation(),o.preventDefault(),A.dblclick(o))},{signal:a,capture:!0})}const t=this.#n,e=[];if(t){const a=new Map,o=new Map;for(const u of this.#x){if(u.disableEditing(),!u.annotationElementId){e.push(u);continue}if(u.serialize()!==null){a.set(u.annotationElementId,u);continue}else o.set(u.annotationElementId,u);this.getEditableAnnotation(u.annotationElementId)?.show(),u.remove()}const l=t.getEditableAnnotations();for(const u of l){const{id:d}=u.data;if(this.#u.isDeletedAnnotationElement(d)){u.updateEdited({deleted:!0});continue}let f=o.get(d);if(f){f.resetAnnotationElement(u),f.show(!1),u.show();continue}f=a.get(d),f&&(this.#u.addChangedExistingAnnotation(f),f.renderAnnotationElement(u)&&f.show(!1)),u.show()}}this.#w(),this.isEmpty&&(this.div.hidden=!0);const{classList:i}=this.div;for(const a of Yn.#p.values())i.remove(`${a._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),t?.updateFakeAnnotations(e),this.#o=!1}getEditableAnnotation(t){return this.#n?.getEditableAnnotation(t)||null}setActiveEditor(t){this.#u.getActive()!==t&&this.#u.setActiveEditor(t)}enableTextSelection(){if(this.div.tabIndex=-1,this.#d?.div&&!this.#f){this.#f=new AbortController;const t=this.#u.combinedSignal(this.#f);this.#d.div.addEventListener("pointerdown",this.#b.bind(this),{signal:t}),this.#d.div.classList.add("highlighting")}}disableTextSelection(){this.div.tabIndex=0,this.#d?.div&&this.#f&&(this.#f.abort(),this.#f=null,this.#d.div.classList.remove("highlighting"))}#b(t){this.#u.unselectAll();const{target:e}=t;if(e===this.#d.div||(e.getAttribute("role")==="img"||e.classList.contains("endOfContent"))&&this.#d.div.contains(e)){const{isMac:i}=We.platform;if(t.button!==0||t.ctrlKey&&i)return;this.#u.showAllEditors("highlight",!0,!0),this.#d.div.classList.add("free"),this.toggleDrawing(),Ee.startHighlighting(this,this.#u.direction==="ltr",{target:this.#d.div,x:t.x,y:t.y}),this.#d.div.addEventListener("pointerup",()=>{this.#d.div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:this.#u._signal}),t.preventDefault()}}enableClick(){if(this.#i)return;this.#i=new AbortController;const t=this.#u.combinedSignal(this.#i);this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:t});const e=this.pointerup.bind(this);this.div.addEventListener("pointerup",e,{signal:t}),this.div.addEventListener("pointercancel",e,{signal:t})}disableClick(){this.#i?.abort(),this.#i=null}attach(t){this.#a.set(t.id,t);const{annotationElementId:e}=t;e&&this.#u.isDeletedAnnotationElement(e)&&this.#u.removeDeletedAnnotationElement(t)}detach(t){this.#a.delete(t.id),this.#t?.removePointerInTextLayer(t.contentDiv),!this.#o&&t.annotationElementId&&this.#u.addDeletedAnnotationElement(t)}remove(t){this.detach(t),this.#u.removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1}changeParent(t){t.parent!==this&&(t.parent&&t.annotationElementId&&(this.#u.addDeletedAnnotationElement(t),yt.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),t.parent?.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(!(t.parent===this&&t.isAttachedToDOM)){if(this.changeParent(t),this.#u.addEditor(t),this.attach(t),!t.isAttachedToDOM){const e=t.render();this.div.append(e),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(!this.#c),this.#u.addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){if(!t.isAttachedToDOM)return;const{activeElement:e}=document;t.div.contains(e)&&!this.#r&&(t._focusEventsAllowed=!1,this.#r=setTimeout(()=>{this.#r=null,t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this.#u._signal}),e.focus())},0)),t._structTreeParentId=this.#t?.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||=this,t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){const e=()=>t._uiManager.rebuild(t),i=()=>{t.remove()};this.addCommands({cmd:e,undo:i,mustExec:!1})}getEditorByUID(t){for(const e of this.#a.values())if(e.uid===t)return e;return null}getNextId(){return this.#u.getId()}get#y(){return Yn.#p.get(this.#u.getMode())}combinedSignal(t){return this.#u.combinedSignal(t)}#T(t){const e=this.#y;return e?new e.prototype.constructor(t):null}canCreateNewEmptyEditor(){return this.#y?.canCreateNewEmptyEditor()}async pasteEditor(t,e){this.updateToolbar(t),await this.#u.updateMode(t.mode);const{offsetX:i,offsetY:a}=this.#S(),o=this.getNextId(),l=this.#T({parent:this,id:o,x:i,y:a,uiManager:this.#u,isCentered:!0,...e});l&&this.add(l)}async deserialize(t){return await Yn.#p.get(t.annotationType??t.annotationEditorType)?.deserialize(t,this,this.#u)||null}createAndAddNewEditor(t,e,i={}){const a=this.getNextId(),o=this.#T({parent:this,id:a,x:t.offsetX,y:t.offsetY,uiManager:this.#u,isCentered:e,...i});return o&&this.add(o),o}get boundingClientRect(){return this.div.getBoundingClientRect()}#S(){const{x:t,y:e,width:i,height:a}=this.boundingClientRect,o=Math.max(0,t),l=Math.max(0,e),u=Math.min(window.innerWidth,t+i),d=Math.min(window.innerHeight,e+a),f=(o+u)/2-t,p=(l+d)/2-e,[g,b]=this.viewport.rotation%180===0?[f,p]:[p,f];return{offsetX:g,offsetY:b}}addNewEditor(t={}){this.createAndAddNewEditor(this.#S(),!0,t)}setSelected(t){this.#u.setSelected(t)}toggleSelected(t){this.#u.toggleSelected(t)}unselect(t){this.#u.unselect(t)}pointerup(t){const{isMac:e}=We.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div||!this.#s||(this.#s=!1,this.#y?.isDrawer&&this.#y.supportMultipleDrawings))return;if(!this.#e){this.#e=!0;return}const i=this.#u.getMode();if(i===Ct.STAMP||i===Ct.SIGNATURE){this.#u.unselectAll();return}this.createAndAddNewEditor(t,!1)}pointerdown(t){if(this.#u.getMode()===Ct.HIGHLIGHT&&this.enableTextSelection(),this.#s){this.#s=!1;return}const{isMac:e}=We.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div)return;if(this.#s=!0,this.#y?.isDrawer){this.startDrawingSession(t);return}const i=this.#u.getActive();this.#e=!i||i.isEmpty()}startDrawingSession(t){if(this.div.focus({preventScroll:!0}),this.#l){this.#y.startDrawing(this,this.#u,!1,t);return}this.#u.setCurrentDrawingSession(this),this.#l=new AbortController;const e=this.#u.combinedSignal(this.#l);this.div.addEventListener("blur",({relatedTarget:i})=>{i&&!this.div.contains(i)&&(this.#h=null,this.commitOrRemove())},{signal:e}),this.#y.startDrawing(this,this.#u,!1,t)}pause(t){if(t){const{activeElement:e}=document;this.div.contains(e)&&(this.#h=e);return}this.#h&&setTimeout(()=>{this.#h?.focus(),this.#h=null},0)}endDrawingSession(t=!1){return this.#l?(this.#u.setCurrentDrawingSession(null),this.#l.abort(),this.#l=null,this.#h=null,this.#y.endDrawing(t)):null}findNewParent(t,e,i){const a=this.#u.findParent(e,i);return a===null||a===this?!1:(a.changeParent(t),!0)}commitOrRemove(){return this.#l?(this.endDrawingSession(),!0):!1}onScaleChanging(){this.#l&&this.#y.onScaleChangingWhenDrawing(this)}destroy(){this.commitOrRemove(),this.#u.getActive()?.parent===this&&(this.#u.commitOrRemove(),this.#u.setActiveEditor(null)),this.#r&&(clearTimeout(this.#r),this.#r=null);for(const t of this.#a.values())this.#t?.removePointerInTextLayer(t.contentDiv),t.setParent(null),t.isAttachedToDOM=!1,t.div.remove();this.div=null,this.#a.clear(),this.#u.removeLayer(this)}#w(){for(const t of this.#a.values())t.isEmpty()&&t.remove()}render({viewport:t}){this.viewport=t,Sa(this.div,t);for(const e of this.#u.getEditors(this.pageIndex))this.add(e),e.rebuild();this.updateMode()}update({viewport:t}){this.#u.commitOrRemove(),this.#w();const e=this.viewport.rotation,i=t.rotation;if(this.viewport=t,Sa(this.div,{rotation:i}),e!==i)for(const a of this.#a.values())a.rotate(i)}get pageDimensions(){const{pageWidth:t,pageHeight:e}=this.viewport.rawDims;return[t,e]}get scale(){return this.#u.viewParameters.realScale}}class Xe{#t=null;#e=new Map;#n=new Map;static#i=0;constructor({pageIndex:t}){this.pageIndex=t}setParent(t){if(!this.#t){this.#t=t;return}if(this.#t!==t){if(this.#e.size>0)for(const e of this.#e.values())e.remove(),t.append(e);this.#t=t}}static get _svgFactory(){return Tt(this,"_svgFactory",new dd)}static#r(t,[e,i,a,o]){const{style:l}=t;l.top=`${100*i}%`,l.left=`${100*e}%`,l.width=`${100*a}%`,l.height=`${100*o}%`}#a(){const t=Xe._svgFactory.create(1,1,!0);return this.#t.append(t),t.setAttribute("aria-hidden",!0),t}#s(t,e){const i=Xe._svgFactory.createElement("clipPath");t.append(i);const a=`clip_${e}`;i.setAttribute("id",a),i.setAttribute("clipPathUnits","objectBoundingBox");const o=Xe._svgFactory.createElement("use");return i.append(o),o.setAttribute("href",`#${e}`),o.classList.add("clip"),a}#o(t,e){for(const[i,a]of Object.entries(e))a===null?t.removeAttribute(i):t.setAttribute(i,a)}draw(t,e=!1,i=!1){const a=Xe.#i++,o=this.#a(),l=Xe._svgFactory.createElement("defs");o.append(l);const u=Xe._svgFactory.createElement("path");l.append(u);const d=`path_p${this.pageIndex}_${a}`;u.setAttribute("id",d),u.setAttribute("vector-effect","non-scaling-stroke"),e&&this.#n.set(a,u);const f=i?this.#s(l,d):null,p=Xe._svgFactory.createElement("use");return o.append(p),p.setAttribute("href",`#${d}`),this.updateProperties(o,t),this.#e.set(a,o),{id:a,clipPathId:`url(#${f})`}}drawOutline(t,e){const i=Xe.#i++,a=this.#a(),o=Xe._svgFactory.createElement("defs");a.append(o);const l=Xe._svgFactory.createElement("path");o.append(l);const u=`path_p${this.pageIndex}_${i}`;l.setAttribute("id",u),l.setAttribute("vector-effect","non-scaling-stroke");let d;if(e){const g=Xe._svgFactory.createElement("mask");o.append(g),d=`mask_p${this.pageIndex}_${i}`,g.setAttribute("id",d),g.setAttribute("maskUnits","objectBoundingBox");const b=Xe._svgFactory.createElement("rect");g.append(b),b.setAttribute("width","1"),b.setAttribute("height","1"),b.setAttribute("fill","white");const v=Xe._svgFactory.createElement("use");g.append(v),v.setAttribute("href",`#${u}`),v.setAttribute("stroke","none"),v.setAttribute("fill","black"),v.setAttribute("fill-rule","nonzero"),v.classList.add("mask")}const f=Xe._svgFactory.createElement("use");a.append(f),f.setAttribute("href",`#${u}`),d&&f.setAttribute("mask",`url(#${d})`);const p=f.cloneNode();return a.append(p),f.classList.add("mainOutline"),p.classList.add("secondaryOutline"),this.updateProperties(a,t),this.#e.set(i,a),i}finalizeDraw(t,e){this.#n.delete(t),this.updateProperties(t,e)}updateProperties(t,e){if(!e)return;const{root:i,bbox:a,rootClass:o,path:l}=e,u=typeof t=="number"?this.#e.get(t):t;if(u){if(i&&this.#o(u,i),a&&Xe.#r(u,a),o){const{classList:d}=u;for(const[f,p]of Object.entries(o))d.toggle(f,p)}if(l){const f=u.firstElementChild.firstElementChild;this.#o(f,l)}}}updateParent(t,e){if(e===this)return;const i=this.#e.get(t);i&&(e.#t.append(i),this.#e.delete(t),e.#e.set(t,i))}remove(t){this.#n.delete(t),this.#t!==null&&(this.#e.get(t).remove(),this.#e.delete(t))}destroy(){this.#t=null;for(const t of this.#e.values())t.remove();this.#e.clear(),this.#n.clear()}}globalThis._pdfjsTestingUtils={HighlightOutliner:Hm};globalThis.pdfjsLib={AbortException:Fs,AnnotationEditorLayer:Yn,AnnotationEditorParamsType:Lt,AnnotationEditorType:Ct,AnnotationEditorUIManager:Is,AnnotationLayer:s0,AnnotationMode:Ls,AnnotationType:je,applyOpacity:dP,build:x6,ColorPicker:$i,createValidAbsoluteUrl:qS,CSSConstants:uP,DOMSVGFactory:dd,DrawLayer:Xe,FeatureTest:We,fetchData:Xl,findContrastColor:hP,getDocument:Im,getFilenameFromUrl:sP,getPdfFilenameFromUrl:aP,getRGB:Kl,getUuid:XS,getXfaPageViewport:oP,GlobalWorkerOptions:Pr,ImageKind:Gu,InvalidPDFException:Dm,isDataScheme:Md,isPdfFile:Yg,isValidExplicitDest:AP,MathClamp:ni,noContextMenu:Wi,normalizeUnicode:eP,OPS:kl,OutputScale:Sn,PasswordResponses:$L,PDFDataRangeTransport:fE,PDFDateString:Rm,PDFWorker:Ml,PermissionFlag:GL,PixelsPerInch:qr,RenderingCancelledException:Xg,renderRichText:WS,ResponseException:cd,setLayerDimensions:Sa,shadow:Tt,SignatureExtractor:Ar,stopEvent:ve,SupportedImageMimeTypes:Om,TextLayer:ei,TouchManager:Dd,updateUrlHash:GS,Util:ut,VerbosityLevel:Nd,version:gE,XfaLayer:KS};Pr.workerSrc=`https://unpkg.com/pdfjs-dist@${gE}/build/pdf.worker.min.mjs`;const EE=()=>{const s=En(),{uploadFile:t,progress:e,netHealth:i,pauseRef:a}=VL(),[o,l]=k.useState([]),[u,d]=k.useState(0),[f,p]=k.useState(!1),[g,b]=k.useState(null),[v,w]=k.useState(""),[A,E]=k.useState(0),[T,_]=k.useState(0),[C,j]=k.useState({printType:"grayscale",size:"A4",media:"75gsm",binding:"none",sides:"single",copies:1,lamination:"None",cover:"No Cover Page",orientation:"Portrait",instructions:""}),M=Object.keys(gl[C.printType]||{}),R=gl[C.printType]?.[C.size]||{},D=["A0","A1","A2","A3","fls","Sticker 12x18","Sticker 13x19"].includes(C.size),P=R[C.media]?.double>0;k.useEffect(()=>{M.includes(C.size)||j(I=>({...I,size:M[0]})),R[C.media]||j(I=>({...I,media:Object.keys(R)[0]})),P||j(I=>({...I,sides:"single"})),D&&j(I=>({...I,binding:"none",lamination:"None",cover:"No Cover Page"}))},[C.printType,C.size,C.media]);const X=async I=>{if(I.type!=="application/pdf")return null;try{const it=URL.createObjectURL(I),O=await(await Im(it).promise).getPage(1),$=document.createElement("canvas"),J=O.getViewport({scale:.15});return $.height=J.height,$.width=J.width,await O.render({canvasContext:$.getContext("2d"),viewport:J}).promise,$.toDataURL()}catch{return null}},V=async I=>{I.some(O=>O.size>30*1024*1024)&&qt("Heavy files (>30MB) detected. Wi-Fi recommended!",{icon:"",duration:4e3});let it=0;const dt=[];for(const O of I){const $=await X(O);let J=1;if(O.type==="application/pdf")try{J=(await Im(URL.createObjectURL(O)).promise).numPages}catch(nt){console.error("PDF read error",nt)}dt.push({file:O,pages:J,id:`${Date.now()}-${O.name}`,thumb:$}),it+=J}l(O=>[...O,...dt]),d(O=>O+it)},{getRootProps:W,getInputProps:rt,isDragActive:ft,open:et}=VS({onDrop:V}),at=k.useMemo(()=>qL(u,C.copies,C),[u,C]),z=I=>{const it=o.find(dt=>dt.id===I);it&&(d(dt=>dt-it.pages),l(dt=>dt.filter(O=>O.id!==I)))},q=async()=>{if(o.length===0)return qt.error("Please upload files first!");p(!0),b(null);const I=o.reduce((dt,O)=>dt+O.file.size,0);let it=0;try{const dt=[];for(let O=0;O<o.length;O++){_(O+1);const $=o[O],J=await t($.file,{stats:{totalSize:I,uploadedSoFar:it},onEta:nt=>w(nt),onProgress:(nt,pt)=>{const mt=it+pt;E(mt/I*100)},onAlert:nt=>{b(nt),p(!1)}});if(J?.paused)return;J?.success&&(dt.push(J),it+=o[O].file.size)}s("/checkout",{state:{fileKeys:dt.map(O=>O.url.split("/").pop()),...C,totalPages:u,totalPrice:at}})}catch{qt.error("Process failed.")}finally{a.current||p(!1)}};return m.jsxs("div",{className:"min-h-screen bg-[#F8FAFC] pb-40 pt-12 px-4 md:px-8",children:[m.jsxs("div",{className:"max-w-7xl mx-auto grid lg:grid-cols-3 gap-8",children:[m.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[m.jsxs("div",{className:"flex justify-between items-end",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-3xl font-black text-slate-900 tracking-tight",children:"Quick Print"}),m.jsx("p",{className:"text-slate-500 font-medium",children:"Upload once, Print anything."})]}),m.jsxs("div",{className:`px-4 py-2 bg-white rounded-2xl border shadow-sm flex items-center gap-2 ${i.color}`,children:[i.type==="WIFI"?m.jsx(vj,{size:14}):m.jsx(Zk,{size:14}),m.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:i.type})]})]}),m.jsxs(gt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm",children:[m.jsxs("div",{className:"flex justify-between items-center mb-6",children:[m.jsx(Vp,{icon:m.jsx(Yp,{size:20}),title:"1. Upload Documents",color:"bg-blue-600"}),o.length>0&&m.jsxs("button",{onClick:et,className:"flex items-center gap-2 px-4 py-2 bg-blue-50 text-blue-600 rounded-xl text-xs font-black hover:bg-blue-100 border border-blue-100 active:scale-95",children:[m.jsx(m2,{size:16})," Add More"]})]}),m.jsxs("div",{...W(),className:`border-2 border-dashed p-10 rounded-[1.5rem] text-center cursor-pointer transition-all ${ft?"border-blue-500 bg-blue-50":"border-slate-200 bg-slate-50 hover:border-blue-400"}`,children:[m.jsx("input",{...rt()}),m.jsx(Yp,{className:"mx-auto mb-4 text-slate-300",size:32}),m.jsx("p",{className:"text-slate-700 font-bold",children:"Drop files here or Click to upload"}),m.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"PDF, DOC, DOCX up to 500MB"})]}),m.jsx("div",{className:"mt-6 space-y-3",children:o.map(I=>m.jsxs("div",{className:"relative overflow-hidden p-4 bg-white border border-slate-100 rounded-2xl flex justify-between items-center group",children:[m.jsx(gt.div,{animate:{width:`${e[I.file.name]||0}%`},className:"absolute inset-0 bg-blue-50/50 -z-10"}),m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-12 h-16 bg-blue-50 rounded-lg overflow-hidden flex-shrink-0 border border-slate-100",children:I.thumb?m.jsx("img",{src:I.thumb,className:"w-full h-full object-cover",alt:"thumb"}):m.jsx(bl,{className:"m-auto mt-4 text-blue-400",size:20})}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm font-bold text-slate-800 truncate max-w-[150px] md:max-w-xs",children:I.file.name}),m.jsx("p",{className:"text-[10px] text-slate-400 font-black uppercase tracking-tighter",children:e[I.file.name]?`${e[I.file.name]}% Uploaded`:`${I.pages} Pages`})]})]}),!f&&m.jsx("button",{onClick:()=>z(I.id),className:"p-2 text-slate-300 hover:text-red-500 transition-colors",children:m.jsx(ag,{size:18})}),e[I.file.name]===100&&m.jsx(Ta,{className:"text-green-500",size:20})]},I.id))})]}),m.jsxs(gt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-white p-6 md:p-8 rounded-[2rem] shadow-sm border border-slate-100",children:[m.jsx(Vp,{icon:m.jsx(Hk,{size:20}),title:"2. Print Settings",color:"bg-cyan-500"}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mt-6",children:[m.jsxs(yr,{label:"Color Mode",value:C.printType,onChange:I=>j({...C,printType:I}),children:[m.jsx("option",{value:"grayscale",children:"Grayscale (B&W)"}),m.jsx("option",{value:"color",children:"Full Color"})]}),m.jsx(yr,{label:"Paper Size",value:C.size,onChange:I=>j({...C,size:I}),children:M.map(I=>m.jsx("option",{value:I,children:I.toUpperCase()},I))}),m.jsx("div",{className:"md:col-span-2",children:m.jsx(yr,{label:"Paper Quality (GSM)",value:C.media,onChange:I=>j({...C,media:I}),children:Object.entries(R).map(([I,it])=>m.jsx("option",{value:I,children:it.name},I))})}),m.jsxs("div",{className:"flex flex-col",children:[m.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-3",children:"Print Sides"}),m.jsxs("div",{className:"flex bg-slate-100 p-1 rounded-xl gap-1 border",children:[m.jsx("button",{onClick:()=>j({...C,sides:"single"}),className:`flex-1 py-2 rounded-lg text-xs font-bold transition ${C.sides==="single"?"bg-white text-blue-600 shadow-sm":"text-slate-400"}`,children:"Single"}),m.jsx("button",{disabled:!P,onClick:()=>j({...C,sides:"double"}),className:`flex-1 py-2 rounded-lg text-xs font-bold transition ${C.sides==="double"?"bg-white text-blue-600 shadow-sm":"text-slate-400 disabled:opacity-30"}`,children:"Double"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-3",children:"Copies"}),m.jsx("input",{type:"number",min:"1",value:C.copies,onChange:I=>j({...C,copies:parseInt(I.target.value)||1}),className:"w-full bg-slate-100 border-none rounded-xl p-3.5 font-bold text-slate-800 focus:ring-2 focus:ring-blue-500"})]})]})]}),!D&&m.jsxs(gt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-white p-6 md:p-8 rounded-[2rem] shadow-sm border border-slate-100",children:[m.jsx(Vp,{icon:m.jsx(ON,{size:20}),title:"3. Finishing Options",color:"bg-indigo-500"}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mt-6",children:[m.jsx("div",{className:"md:col-span-2",children:m.jsx(yr,{label:"Binding Type",value:C.binding,onChange:I=>j({...C,binding:I}),children:Object.entries(gl.binding).map(([I,it])=>m.jsxs("option",{value:I,children:[it.name," ",it.cost>0?`(+${it.cost})`:""]},I))})}),C.binding!=="none"&&C.binding!=="corner"&&m.jsxs(m.Fragment,{children:[m.jsxs(yr,{label:"Lamination",value:C.lamination,onChange:I=>j({...C,lamination:I}),children:[m.jsx("option",{value:"None",children:"None"}),m.jsx("option",{value:"Gloss",children:"Gloss"}),m.jsx("option",{value:"Matt",children:"Matt"})]}),m.jsxs(yr,{label:"Cover Page",value:C.cover,onChange:I=>j({...C,cover:I}),children:[m.jsx("option",{value:"No Cover Page",children:"None"}),m.jsx("option",{value:"Printed Cover",children:"Printed"}),m.jsx("option",{value:"Plastic Sheet",children:"Plastic"})]})]})]})]}),m.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm",children:[m.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-3 block",children:"Special Instructions"}),m.jsx("textarea",{className:"w-full bg-slate-50 border-none rounded-2xl p-4 text-sm font-medium h-24 focus:ring-2 focus:ring-blue-500",placeholder:"e.g. Page 5 should be color...",value:C.instructions,onChange:I=>j({...C,instructions:I.target.value})})]})]}),m.jsx("div",{className:"hidden lg:block lg:col-span-1",children:m.jsxs("div",{className:"sticky top-24 bg-slate-900 rounded-[2.5rem] p-8 text-white shadow-2xl overflow-hidden",children:[m.jsx("div",{className:"absolute top-[-20px] right-[-20px] opacity-10 rotate-12",children:m.jsx(Yr,{size:180})}),m.jsxs("div",{className:"relative z-10",children:[m.jsx("h4",{className:"text-center font-black tracking-widest text-slate-500 text-[10px] mb-6 uppercase",children:"Order Summary"}),m.jsxs("div",{className:"flex -space-x-10 justify-center py-4 mb-6",children:[o.slice(-3).map((I,it)=>m.jsx(gt.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1,rotate:it*5-5},className:"w-20 h-28 bg-white p-1 rounded-xl shadow-2xl border border-white/20",children:I.thumb?m.jsx("img",{src:I.thumb,className:"w-full h-full object-cover rounded",alt:"thumb"}):m.jsx(bl,{className:"m-auto mt-8 text-slate-300"})},I.id)),o.length>3&&m.jsxs("div",{className:"z-20 bg-blue-600 text-white w-10 h-10 rounded-full flex items-center justify-center text-xs font-bold border-4 border-slate-900 mt-10",children:["+",o.length-3]})]}),m.jsxs("div",{className:"space-y-4 mb-8",children:[m.jsx($w,{label:"Total Pages",value:u}),m.jsx($w,{label:"Amount",value:`${at.toFixed(2)}`})]}),f&&m.jsxs("div",{className:"mb-6 space-y-3",children:[m.jsxs("div",{className:"flex justify-between text-[10px] font-black text-blue-400",children:[m.jsx("span",{children:"OVERALL PROGRESS"}),m.jsxs("span",{children:[Math.round(A),"%"]})]}),m.jsx("div",{className:"h-2 bg-slate-800 rounded-full overflow-hidden",children:m.jsx(gt.div,{animate:{width:`${A}%`},className:"h-full bg-blue-500 shadow-[0_0_15px_rgba(59,130,246,0.5)]"})}),m.jsxs("div",{className:"text-center text-[10px] text-slate-400 font-bold uppercase tracking-tighter",children:["Time Left: ",v]})]}),m.jsx("button",{disabled:o.length===0||f,onClick:q,className:`w-full py-5 rounded-2xl font-black text-lg transition-all active:scale-95 flex items-center justify-center gap-2 ${f?"bg-slate-800 text-blue-400":"bg-blue-600 text-white hover:bg-blue-500 shadow-xl shadow-blue-900/40"}`,children:f?m.jsx(Ca,{className:"animate-spin"}):"Proceed to Checkout"})]})]})})]}),m.jsx(Qn,{children:o.length>0&&m.jsx(gt.div,{initial:{y:100},animate:{y:0},exit:{y:100},className:"lg:hidden fixed bottom-0 left-0 w-full bg-white border-t p-4 shadow-[0_-15px_30px_rgba(0,0,0,0.08)] z-50",children:f?m.jsxs("div",{className:"space-y-3",children:[m.jsxs("div",{className:"flex justify-between px-1",children:[m.jsxs("span",{className:"text-xs font-black",children:["Uploading ",T,"/",o.length]}),m.jsxs("span",{className:"text-sm font-black text-blue-600",children:[Math.round(A),"%"]})]}),m.jsx("div",{className:"h-4 bg-slate-100 rounded-full overflow-hidden relative",children:m.jsx(gt.div,{animate:{width:`${A}%`},className:"h-full bg-blue-600 relative overflow-hidden",children:m.jsx(gt.div,{animate:{x:["-100%","200%"]},transition:{duration:1.5,repeat:1/0,ease:"linear"},className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent"})})}),m.jsxs("div",{className:"text-[10px] text-center text-slate-400 font-bold uppercase",children:["Time Left: ",v]})]}):m.jsxs("div",{className:"flex items-center justify-between gap-4",children:[m.jsxs("div",{className:"pl-2",children:[m.jsx("div",{className:"text-[10px] font-black text-slate-400 uppercase",children:"Total Pay"}),m.jsxs("div",{className:"text-xl font-black text-slate-900",children:["",at.toFixed(2)]})]}),m.jsxs("button",{onClick:q,className:"flex-1 bg-blue-600 text-white py-4 rounded-2xl font-black shadow-lg flex items-center justify-center gap-2",children:["Proceed ",m.jsx(Wn,{size:18})]})]})})}),m.jsx(Qn,{children:g&&m.jsx("div",{className:"fixed inset-0 z-[60] bg-black/60 backdrop-blur-sm flex items-center p-6",children:m.jsxs(gt.div,{initial:{scale:.9},animate:{scale:1},className:"bg-white w-full rounded-3xl p-8 text-center max-w-sm mx-auto",children:[m.jsx(rg,{className:"text-orange-500 mx-auto mb-4",size:48}),m.jsx("h3",{className:"text-xl font-black mb-2",children:"Upload Paused"}),m.jsx("p",{className:"text-slate-500 text-sm mb-6",children:g}),m.jsxs("button",{onClick:()=>{a.current=!1,q()},className:"w-full bg-orange-600 text-white py-4 rounded-2xl font-black flex items-center justify-center gap-2",children:[m.jsx(Ok,{size:18})," Resume Now"]})]})})})]})},Vp=({icon:s,title:t,color:e})=>m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:`${e} p-2.5 rounded-xl text-white shadow-lg`,children:s}),m.jsx("h3",{className:"text-xl font-black text-slate-800 tracking-tight",children:t})]}),yr=({label:s,value:t,onChange:e,children:i})=>m.jsxs("div",{className:"relative",children:[m.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-3 block ml-1",children:s}),m.jsx("select",{value:t,onChange:a=>e(a.target.value),className:"w-full bg-slate-100 border-none rounded-xl p-4 font-bold text-slate-800 appearance-none cursor-pointer focus:ring-2 focus:ring-blue-500 transition-all shadow-sm",children:i})]}),$w=({label:s,value:t})=>m.jsxs("div",{className:"flex justify-between items-center text-sm",children:[m.jsx("span",{className:"font-bold text-slate-500 uppercase tracking-widest text-[9px]",children:s}),m.jsx("span",{className:"font-black text-slate-200 capitalize",children:t})]});function H6(){return m.jsxs("div",{className:"w-full",children:[m.jsx("div",{className:"border-t bg-gray-100",children:m.jsx("div",{className:"max-w-7xl mx-auto px-6 py-16",children:m.jsx(EE,{})})}),m.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-12",children:[m.jsx("h1",{className:"text-4xl font-bold text-center text-gray-800 mb-4",children:"Our Services & Pricing"}),m.jsx("p",{className:"text-center text-gray-600 mb-12",children:"Transparent pricing. No hidden charges."}),m.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:[m.jsx(Np,{title:"Black & White (A4)",price:"2.00",sub:"per page",features:["75 GSM Paper","Laser Quality","Both Sides Available"]}),m.jsx(Np,{title:"Color Print (A4)",price:"10.00",sub:"per page",features:["High Quality Bond","Vivid Colors","Images & Text"],bg:"bg-blue-50 border-blue-200"}),m.jsx(Np,{title:"Spiral Binding",price:"40.00",sub:"per book",features:["Plastic Sheet Cover","Durable Coil","Up to 300 pages"]})]})]})]})}const V6=()=>{const s={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},t={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5}}},e=i=>{i.preventDefault(),alert("Message sent! (Mockup)")};return m.jsxs("div",{className:"min-h-screen bg-slate-950 text-slate-100 py-24 px-6 relative overflow-hidden",children:[m.jsx("div",{className:"absolute top-0 right-0 w-[500px] h-[500px] bg-blue-600/10 rounded-full blur-[120px] -z-10"}),m.jsx("div",{className:"absolute bottom-0 left-0 w-[500px] h-[500px] bg-cyan-600/10 rounded-full blur-[120px] -z-10"}),m.jsxs(gt.section,{initial:"hidden",animate:"visible",variants:s,className:"max-w-7xl mx-auto",children:[m.jsxs(gt.div,{variants:t,className:"text-center mb-20",children:[m.jsxs("h1",{className:"text-5xl md:text-7xl font-black mb-6 tracking-tighter",children:["Get in"," ",m.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-cyan-400",children:"Touch"})]}),m.jsx("p",{className:"text-slate-400 text-lg max-w-2xl mx-auto",children:"Have a question about your order or our services? We're here to help. Send us a message and we'll respond as soon as possible."})]}),m.jsxs("div",{className:"grid lg:grid-cols-5 gap-12",children:[m.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[m.jsx(qp,{icon:m.jsx(ig,{className:"text-blue-400"}),title:"Our Location",content:"Jumbo Xerox, Main Road, Beside University Campus, Your City, 500001"}),m.jsx(qp,{icon:m.jsx(ng,{className:"text-emerald-400"}),title:"Phone Support",content:"+91 98765 43210",subContent:"Mon-Sat, 9am - 8pm"}),m.jsx(qp,{icon:m.jsx(Ll,{className:"text-cyan-400"}),title:"Email Us",content:"support@jumbo-xerox.com",subContent:"We usually reply within 2 hours."}),m.jsxs(gt.div,{variants:t,className:"p-8 rounded-[2rem] bg-white/5 border border-white/10",children:[m.jsx("h3",{className:"text-sm font-black uppercase tracking-widest text-slate-500 mb-6",children:"Follow Us"}),m.jsxs("div",{className:"flex gap-4",children:[m.jsx(Gp,{icon:m.jsx(hk,{size:20})}),m.jsx(Gp,{icon:m.jsx(dj,{size:20})}),m.jsx(Gp,{icon:m.jsx(xk,{size:20})})]})]})]}),m.jsxs(gt.div,{variants:t,className:"lg:col-span-3 bg-white/5 backdrop-blur-xl rounded-[3rem] p-8 md:p-12 border border-white/10 shadow-2xl",children:[m.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[m.jsx("div",{className:"bg-blue-600 p-3 rounded-2xl text-white shadow-lg shadow-blue-500/20",children:m.jsx(Tk,{size:24})}),m.jsx("h2",{className:"text-2xl font-bold",children:"Send a Message"})]}),m.jsxs("form",{onSubmit:e,className:"space-y-6",children:[m.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-500 ml-2",children:"Full Name"}),m.jsx("input",{type:"text",placeholder:"John Doe",className:"w-full bg-slate-900 border border-white/5 rounded-2xl p-4 text-white focus:outline-none focus:ring-2 focus:ring-blue-500/50 transition-all",required:!0})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-500 ml-2",children:"Email Address"}),m.jsx("input",{type:"email",placeholder:"john@example.com",className:"w-full bg-slate-900 border border-white/5 rounded-2xl p-4 text-white focus:outline-none focus:ring-2 focus:ring-blue-500/50 transition-all",required:!0})]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-500 ml-2",children:"How can we help?"}),m.jsx("textarea",{placeholder:"Tell us about your requirements...",rows:"5",className:"w-full bg-slate-900 border border-white/5 rounded-2xl p-4 text-white focus:outline-none focus:ring-2 focus:ring-blue-500/50 transition-all resize-none",required:!0})]}),m.jsxs(gt.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full bg-blue-600 hover:bg-blue-500 text-white font-black py-5 rounded-2xl shadow-xl shadow-blue-900/20 flex items-center justify-center gap-3 transition-all",children:[m.jsx(x2,{size:20}),"Send Message"]})]})]})]})]})]})},qp=({icon:s,title:t,content:e,subContent:i})=>m.jsx(gt.div,{variants:{hidden:{opacity:0,x:-20},visible:{opacity:1,x:0}},whileHover:{x:10},className:"bg-white/5 backdrop-blur-md p-8 rounded-[2.5rem] border border-white/10 transition-all group",children:m.jsxs("div",{className:"flex items-start gap-5",children:[m.jsx("div",{className:"p-4 bg-slate-900 rounded-2xl border border-white/5 group-hover:border-blue-500/50 transition-colors",children:s}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-sm font-black uppercase tracking-widest text-slate-500 mb-1",children:t}),m.jsx("p",{className:"text-lg font-bold text-slate-200 mb-1",children:e}),i&&m.jsx("p",{className:"text-sm text-slate-500 font-medium",children:i})]})]})}),Gp=({icon:s})=>m.jsx(gt.a,{href:"#",whileHover:{y:-5},className:"w-12 h-12 bg-slate-900 rounded-xl flex items-center justify-center text-slate-400 hover:text-white hover:bg-blue-600 transition-all border border-white/5",children:s});function q6(){const s=En(),t=()=>{qt.success("Added to cart"),s("/cart")};return m.jsx("div",{className:"max-w-7xl mx-auto py-10 px-6",children:m.jsx(EE,{allowOrder:!0,onSubmit:t})})}function G6(){const s="/api",[t,e]=k.useState({name:"",phone:"",addresses:[]}),[i,a]=k.useState(!0),[o,l]=k.useState(!1),[u,d]=k.useState({street:"",city:"",state:"",pincode:""});k.useEffect(()=>{(async()=>{try{const b=localStorage.getItem("token"),{data:v}=await ce.get(`${s}/api/users/profile`,{headers:{Authorization:`Bearer ${b}`}});e(v)}catch(b){console.log(b),Xt.error("Failed to load profile")}finally{a(!1)}})()},[s]);const f=async g=>{g.preventDefault();try{const b=localStorage.getItem("token");await ce.put(`${s}/api/users/profile`,{name:t.name,phone:t.phone},{headers:{Authorization:`Bearer ${b}`}}),Xt.success("Profile Updated!")}catch(b){console.log(b),Xt.error("Update failed")}},p=async g=>{g.preventDefault();try{const b=localStorage.getItem("token"),{data:v}=await ce.post(`${s}/api/users/address`,u,{headers:{Authorization:`Bearer ${b}`}});e({...t,addresses:v}),l(!1),d({street:"",city:"",state:"",pincode:""}),Xt.success("Address Added Successfully!")}catch(b){console.log(b),Xt.error("Failed to add address")}};return i?m.jsx("p",{className:"text-center mt-20 text-blue-600 font-bold",children:"Loading Profile Details..."}):m.jsxs("div",{className:"max-w-5xl mx-auto p-6 mt-10 relative",children:[m.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-8 border-b pb-4",children:"Account Settings"}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[m.jsxs("div",{className:"lg:col-span-1 bg-white p-6 rounded-2xl shadow-lg border-t-4 border-blue-600 h-fit",children:[m.jsxs("h2",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[m.jsx(g3,{className:"text-blue-600"})," Personal Info"]}),m.jsxs("form",{onSubmit:f,className:"space-y-5",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase",children:"Full Name"}),m.jsx("input",{type:"text",value:t.name,onChange:g=>e({...t,name:g.target.value}),className:"w-full p-3 bg-gray-50 border rounded-xl focus:ring-2 focus:ring-blue-400 outline-none transition"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase",children:"Email Address"}),m.jsx("input",{type:"text",value:t.email,disabled:!0,className:"w-full p-3 bg-gray-100 border rounded-xl cursor-not-allowed"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase",children:"Phone Number"}),m.jsx("input",{type:"text",value:t.phone,onChange:g=>e({...t,phone:g.target.value}),placeholder:"Enter phone number",className:"w-full p-3 bg-gray-50 border rounded-xl focus:ring-2 focus:ring-blue-400 outline-none transition"})]}),m.jsxs("button",{className:"w-full bg-blue-600 text-white py-3 rounded-xl font-bold flex items-center justify-center gap-2 hover:bg-blue-700 shadow-md transition",children:[m.jsx(p3,{})," Save Profile"]})]})]}),m.jsxs("div",{className:"lg:col-span-2 bg-white p-6 rounded-2xl shadow-lg border-t-4 border-green-500 min-h-[400px]",children:[m.jsxs("div",{className:"flex justify-between items-center mb-6",children:[m.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2",children:[m.jsx(h3,{className:"text-green-500"})," Saved Addresses"]}),m.jsxs("button",{onClick:()=>l(!0),className:"bg-green-100 text-green-700 px-4 py-2 rounded-lg font-bold flex items-center gap-2 hover:bg-green-200 transition",children:[m.jsx(f3,{})," Add New"]})]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.addresses&&t.addresses.length>0?t.addresses.map((g,b)=>m.jsxs("div",{className:"p-4 border-2 border-gray-100 rounded-2xl hover:border-green-200 transition bg-gray-50 relative group",children:[m.jsx("p",{className:"font-bold text-gray-800",children:g.street}),m.jsxs("p",{className:"text-gray-600",children:[g.city,", ",g.state]}),m.jsx("p",{className:"text-sm font-mono text-gray-500 mt-1",children:g.pincode})]},b)):m.jsx("div",{className:"col-span-full text-center py-10 border-2 border-dashed rounded-2xl text-gray-400",children:"No addresses saved yet. Add one to enable delivery!"})})]})]}),o&&m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[100] p-4",children:m.jsxs("div",{className:"bg-white w-full max-w-md p-8 rounded-3xl shadow-2xl relative",children:[m.jsx("button",{onClick:()=>l(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 text-xl",children:m.jsx(m3,{})}),m.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Add New Address"}),m.jsxs("form",{onSubmit:p,className:"space-y-4",children:[m.jsx("input",{type:"text",placeholder:"Street / Area Name",required:!0,className:"w-full p-3 border rounded-xl outline-none focus:ring-2 focus:ring-green-400",value:u.street,onChange:g=>d({...u,street:g.target.value})}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsx("input",{type:"text",placeholder:"City",required:!0,className:"w-full p-3 border rounded-xl outline-none focus:ring-2 focus:ring-green-400",value:u.city,onChange:g=>d({...u,city:g.target.value})}),m.jsx("input",{type:"text",placeholder:"State",required:!0,className:"w-full p-3 border rounded-xl outline-none focus:ring-2 focus:ring-green-400",value:u.state,onChange:g=>d({...u,state:g.target.value})})]}),m.jsx("input",{type:"text",placeholder:"Pincode",required:!0,className:"w-full p-3 border rounded-xl outline-none focus:ring-2 focus:ring-green-400",value:u.pincode,onChange:g=>d({...u,pincode:g.target.value})}),m.jsx("button",{className:"w-full bg-green-600 text-white py-3 rounded-xl font-bold hover:bg-green-700 shadow-lg transition",children:"Save Address"})]})]})})]})}function $6(){const s=En(),t=JSON.parse(localStorage.getItem("user"))||{name:"User",email:"N/A",phone:"N/A"},[e,i]=k.useState("dark"),[a,o]=k.useState([]),[l,u]=k.useState(!0);k.useEffect(()=>{const g=localStorage.getItem("ui-theme");i(g||"dark")},[]),k.useEffect(()=>{(async()=>{try{const{data:b}=await pe.get("/orders/myorders");o(b)}catch(b){console.log(b),qt.error("Failed to load orders")}finally{u(!1)}})()},[]);const d=()=>{const g=e==="light"?"dark":"light";i(g),localStorage.setItem("ui-theme",g)},f=()=>{localStorage.removeItem("user"),qt.success("Logged out successfully"),s("/login")};k.useEffect(()=>{const g=document.querySelectorAll(".magnetic"),b=w=>{const A=w.currentTarget,E=A.getBoundingClientRect(),T=w.clientX-E.left-E.width/2,_=w.clientY-E.top-E.height/2;A.style.transform=`translate(${T*.2}px, ${_*.2}px)`},v=w=>{w.currentTarget.style.transform="translate(0,0)"};return g.forEach(w=>{w.addEventListener("mousemove",b),w.addEventListener("mouseleave",v)}),()=>g.forEach(w=>{w.removeEventListener("mousemove",b),w.removeEventListener("mouseleave",v)})},[l]);const p=e==="dark"?"bg-slate-950 text-slate-100":"bg-slate-50 text-slate-900";return m.jsx("div",{className:`${p} p-20 min-h-screen transition-colors duration-500 font-sans`,children:m.jsxs("div",{className:"max-w-6xl mx-auto p-4 md:p-8 space-y-8",children:[m.jsxs("header",{className:`${e==="dark"?"bg-white/5 border-white/10":"bg-white border-slate-200"} backdrop-blur-2xl p-6 rounded-[2rem] flex flex-col md:flex-row justify-between items-center border shadow-xl gap-4`,children:[m.jsxs("div",{children:[m.jsxs("h1",{className:"text-2xl font-bold tracking-tight",children:["Hello, ",t.name," "]}),m.jsx("p",{className:`text-sm ${e==="dark"?"text-slate-400":"text-slate-500"}`,children:"Manage your prints and track delivery status"})]}),m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("button",{onClick:d,className:"p-3 rounded-xl bg-slate-500/10 hover:bg-slate-500/20 transition-all",children:e==="light"?m.jsx(_k,{size:20}):m.jsx(sj,{size:20})}),m.jsxs("button",{onClick:f,className:"flex items-center gap-2 text-red-400 bg-red-500/10 px-5 py-2.5 rounded-xl font-semibold hover:bg-red-500/20 transition-all active:scale-95",children:[m.jsx(vl,{size:18}),m.jsx("span",{children:"Logout"})]})]})]}),m.jsxs("div",{className:"flex flex-wrap gap-4",children:[m.jsxs("button",{onClick:()=>s("/quick-print"),className:"magnetic flex items-center gap-2 px-6 py-3 rounded-2xl font-bold bg-cyan-500/10 text-cyan-400 hover:bg-cyan-500/20 transition-all",children:[m.jsx(fj,{size:18})," Upload New"]}),m.jsxs("a",{href:"#orders",className:"magnetic flex items-center gap-2 px-6 py-3 rounded-2xl font-bold bg-indigo-500/10 text-indigo-400 hover:bg-indigo-500/20 transition-all",children:[m.jsx(g2,{size:18})," History"]}),m.jsxs("button",{className:"magnetic flex items-center gap-2 px-6 py-3 rounded-2xl font-bold bg-emerald-500/10 text-emerald-400 hover:bg-emerald-500/20 transition-all",children:[m.jsx(mk,{size:18})," Support"]})]}),m.jsxs("div",{className:"relative group overflow-hidden rounded-[2.5rem] p-1 shadow-2xl",children:[m.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-500 to-blue-600 animate-pulse"}),m.jsxs("div",{className:`relative ${e==="dark"?"bg-slate-900/90":"bg-white/90"} backdrop-blur-xl p-8 md:p-12 rounded-[2.4rem] flex flex-col items-start gap-6`,children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx("h2",{className:"text-4xl md:text-5xl font-black tracking-tight",children:"New Print"}),m.jsx("p",{className:`${e==="dark"?"text-slate-400":"text-slate-600"} text-lg max-w-md`,children:"Upload your PDF/Docs and get high-quality laser prints delivered."})]}),m.jsxs("button",{onClick:()=>s("/quick-print"),className:"group relative flex items-center gap-3 bg-cyan-500 hover:bg-cyan-400 text-white px-8 py-4 rounded-2xl font-bold transition-all hover:shadow-[0_0_30px_rgba(6,182,212,0.4)]",children:[m.jsx(bl,{size:22}),"Order Now "]})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[m.jsxs("div",{className:`${e==="dark"?"bg-white/5":"bg-white"} p-8 rounded-[2rem] border border-white/10`,children:[m.jsx("p",{className:"text-sm font-medium text-slate-500 uppercase",children:"Total Orders"}),m.jsx("h3",{className:"text-3xl font-black mt-2",children:a.length}),m.jsx("p",{className:"text-xs text-slate-500 mt-2 font-medium italic",children:"Lifetime printing activity"})]}),m.jsxs("div",{className:`${e==="dark"?"bg-white/5":"bg-white"} p-8 rounded-[2rem] border border-white/10`,children:[m.jsx("p",{className:"text-sm font-medium text-slate-500 uppercase",children:"Profile Info"}),m.jsx("h3",{className:"text-xl font-bold mt-2 truncate",children:t.email}),m.jsx("p",{className:"text-sm text-slate-500",children:t.phone})]})]}),m.jsxs("div",{id:"orders",className:`${e==="dark"?"bg-white/5":"bg-white"} backdrop-blur-xl p-6 md:p-8 rounded-[2rem] border border-white/10 shadow-xl`,children:[m.jsx("h3",{className:"text-xl font-bold mb-8",children:"Recent Activity"}),l?m.jsxs("div",{className:"flex flex-col items-center py-20 gap-4",children:[m.jsx(Ca,{className:"animate-spin text-cyan-500",size:40}),m.jsx("p",{className:"text-slate-500 animate-pulse",children:"Fetching your orders..."})]}):a.length===0?m.jsxs("div",{className:"text-center py-20",children:[m.jsx("p",{className:"text-slate-500 mb-4 text-lg",children:"No orders found yet."}),m.jsx("button",{onClick:()=>s("/quick-print"),className:"text-cyan-500 font-bold hover:underline",children:"Place your first order!"})]}):m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full text-left border-separate border-spacing-y-3",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"text-slate-500 uppercase text-[10px] tracking-widest font-bold",children:[m.jsx("th",{className:"px-4 pb-2",children:"Order ID"}),m.jsx("th",{className:"px-4 pb-2",children:"File Name"}),m.jsx("th",{className:"px-4 pb-2",children:"Amount"}),m.jsx("th",{className:"px-4 pb-2 text-right",children:"Status"})]})}),m.jsx("tbody",{children:a.map(g=>m.jsxs("tr",{className:`${e==="dark"?"bg-white/5 hover:bg-white/10":"bg-slate-100 hover:bg-slate-200"} transition-colors group cursor-pointer`,children:[m.jsxs("td",{className:"p-4 rounded-l-2xl font-mono text-xs opacity-60",children:["#",g._id.slice(-6).toUpperCase()]}),m.jsx("td",{className:"p-4 font-semibold italic",children:m.jsxs("a",{href:g.fileUrl,target:"_blank",rel:"noreferrer",className:"flex items-center gap-2 hover:text-cyan-500 transition-colors",children:[m.jsx(ik,{size:14})," ",g.fileName||"document.pdf"]})}),m.jsxs("td",{className:"p-4 font-bold",children:["",g.totalAmount]}),m.jsx("td",{className:"p-4 rounded-r-2xl text-right",children:m.jsx("span",{className:`px-4 py-1.5 rounded-full text-[10px] font-black uppercase tracking-tighter 
                          ${g.status==="Completed"?"bg-emerald-500/20 text-emerald-400":g.status==="Processing"?"bg-cyan-500/20 text-cyan-400":"bg-yellow-500/20 text-yellow-400"}`,children:g.status})})]},g._id))})]})})]})]})})}const X6=()=>{const{state:s}=rn(),t=En(),{user:e}=k.useContext(ss),[i,a]=k.useState("Online"),[o,l]=k.useState("Pickup"),[u,d]=k.useState([]),[f,p]=k.useState(0),[g,b]=k.useState(!1),[v,w]=k.useState(!0),[A,E]=k.useState(!1),[T,_]=k.useState({street:"",city:"",state:"",pincode:""}),[C,j]=k.useState(!1);k.useEffect(()=>{(async()=>{try{const{data:P}=await pe.get("/users/profile");if(P&&P.addresses){d(P.addresses);const X=P.addresses.findIndex(V=>V.isDefault);p(X>=0?X:0)}}catch(P){console.error("Profile load error",P)}finally{w(!1)}})()},[]);const M=async()=>{if(!g){if(o==="Delivery"&&u.length===0){qt.error("Please add a delivery address!");return}b(!0);try{const D=s.fileKeys.map(W=>({name:W,url:`/uploads/${W}`})),P=u[f],X={files:D,totalAmount:s.totalPrice,deliveryMode:o,shippingAddress:o==="Delivery"?P:null,details:{pages:s.totalPages,copies:s.copies||1,printType:s.printType,size:s.size,media:s.media,binding:s.binding,lamination:s.lamination,cover:s.cover,instructions:s.instructions},paymentMethod:i},{data:V}=await pe.post("/orders",X);if(i==="Cash")qt.success("Order Placed Successfully!"),t("/dashboard");else{const{razorpayOrder:W}=V;if(W.id.startsWith("order_mock_")){qt.success("Test Mode: Payment Auto-Verified!"),await pe.post("/payments/verify",{razorpay_order_id:W.id,razorpay_payment_id:"pay_mock_123456",razorpay_signature:"mock_signature_bypass"}),t("/dashboard");return}const rt={key:"rzp_test_xxxxxxx",amount:W.amount,currency:"INR",name:"Jumbo Xerox",description:"Printing Service",order_id:W.id,handler:async et=>{try{(await pe.post("/payments/verify",et)).data.success&&(qt.success("Payment Received!"),t("/dashboard"))}catch{qt.error("Verification Failed.")}},theme:{color:"#2563eb"}};new window.Razorpay(rt).open()}}catch(D){console.error(D),qt.error(D.response?.data?.message||"Order Failed")}finally{b(!1)}}},R=async D=>{D.preventDefault(),j(!0);try{const{data:P}=await pe.post("/users/address",T);d(P.addresses),qt.success("Address Added!"),E(!1),_({street:"",city:"",state:"",pincode:""}),p(P.addresses.length-1)}catch{qt.error("Failed to add address")}finally{j(!1)}};return s?m.jsxs("div",{className:"max-w-xl mx-auto p-6 bg-white shadow-xl rounded-2xl mt-10 border border-gray-100 mb-20 relative",children:[m.jsxs("h2",{className:"text-2xl font-black mb-6 text-gray-800 flex items-center gap-2",children:[m.jsx(wl,{className:"text-blue-600"})," Confirm & Pay"]}),m.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl mb-6 space-y-3 border border-gray-200",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("span",{className:"text-gray-500 text-sm font-bold uppercase tracking-wider",children:"Files"}),m.jsxs("span",{className:"font-bold",children:[s.fileKeys?.length," Docs"]})]}),m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("span",{className:"text-gray-500 text-sm font-bold uppercase tracking-wider",children:"Type"}),m.jsx("span",{className:"font-bold",children:s.printType})]}),m.jsxs("div",{className:"pt-3 border-t border-gray-200 flex justify-between items-center",children:[m.jsx("span",{className:"text-lg font-bold",children:"Total Pay:"}),m.jsxs("span",{className:"text-2xl font-black text-blue-600",children:["",s.totalPrice]})]})]}),m.jsxs("div",{className:"space-y-4 mb-8",children:[m.jsx("h3",{className:"text-xs font-black text-gray-400 uppercase tracking-[0.2em] ml-1",children:"1. Delivery Mode"}),m.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[m.jsxs("div",{onClick:()=>l("Pickup"),className:`p-4 rounded-xl border-2 cursor-pointer transition-all flex flex-col items-center gap-2 text-center ${o==="Pickup"?"border-blue-600 bg-blue-50/50":"border-gray-100 hover:border-gray-200"}`,children:[m.jsx(v2,{size:24,className:o==="Pickup"?"text-blue-600":"text-gray-400"}),m.jsxs("div",{children:[m.jsx("p",{className:"font-bold text-gray-800 text-sm",children:"Shop Pickup"}),m.jsx("p",{className:"text-[10px] text-gray-500",children:"Collect yourself"})]})]}),m.jsxs("div",{onClick:()=>l("Delivery"),className:`p-4 rounded-xl border-2 cursor-pointer transition-all flex flex-col items-center gap-2 text-center ${o==="Delivery"?"border-purple-600 bg-purple-50/50":"border-gray-100 hover:border-gray-200"}`,children:[m.jsx(Pl,{size:24,className:o==="Delivery"?"text-purple-600":"text-gray-400"}),m.jsxs("div",{children:[m.jsx("p",{className:"font-bold text-gray-800 text-sm",children:"Home Delivery"}),m.jsx("p",{className:"text-[10px] text-gray-500",children:"Via Courier"})]})]})]}),o==="Delivery"&&m.jsxs("div",{className:"space-y-3 mt-4",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("h4",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest",children:"Select Address"}),m.jsxs("button",{onClick:()=>E(!0),className:"flex items-center gap-1 text-[10px] bg-slate-900 text-white px-3 py-1.5 rounded-lg font-bold hover:bg-slate-700 transition",children:[m.jsx(m2,{size:12})," ADD NEW"]})]}),v?m.jsx("div",{className:"p-4 text-center text-xs text-gray-400",children:"Loading addresses..."}):u.length>0?m.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto custom-scrollbar border border-gray-100 rounded-xl p-2",children:u.map((D,P)=>m.jsxs("div",{onClick:()=>p(P),className:`flex items-start gap-3 p-3 rounded-lg border cursor-pointer transition-all ${f===P?"border-purple-500 bg-purple-50":"border-transparent hover:bg-gray-50"}`,children:[m.jsx("div",{className:`mt-1 w-4 h-4 rounded-full border flex items-center justify-center ${f===P?"border-purple-600":"border-gray-300"}`,children:f===P&&m.jsx("div",{className:"w-2 h-2 bg-purple-600 rounded-full"})}),m.jsxs("div",{className:"text-sm",children:[m.jsx("p",{className:"font-bold text-gray-800",children:D.street}),m.jsxs("p",{className:"text-xs text-gray-500",children:[D.city,", ",D.state," - ",D.pincode]})]})]},P))}):m.jsxs("div",{className:"p-4 border-2 border-dashed border-gray-200 rounded-xl text-center text-gray-400 text-xs italic",children:["No addresses found in your profile. ",m.jsx("br",{})," Please add one."]})]})]}),m.jsxs("div",{className:"space-y-4 mb-8",children:[m.jsx("h3",{className:"text-xs font-black text-gray-400 uppercase tracking-[0.2em] ml-1",children:"2. Payment Method"}),m.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[m.jsxs("div",{onClick:()=>a("Online"),className:`p-4 rounded-xl border-2 cursor-pointer transition-all flex items-center justify-between ${i==="Online"?"border-blue-600 bg-blue-50":"border-gray-100 hover:border-gray-200"}`,children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:`p-2 rounded-lg ${i==="Online"?"bg-blue-600 text-white":"bg-gray-100 text-gray-500"}`,children:m.jsx(tg,{size:20})}),m.jsxs("div",{children:[m.jsx("p",{className:"font-bold text-gray-800 text-sm",children:"Online Payment"}),m.jsx("p",{className:"text-[10px] text-gray-500",children:"UPI, Card, Net Banking"})]})]}),m.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center ${i==="Online"?"border-blue-600":"border-gray-300"}`,children:i==="Online"&&m.jsx("div",{className:"w-2.5 h-2.5 bg-blue-600 rounded-full"})})]}),m.jsxs("div",{onClick:()=>a("Cash"),className:`p-4 rounded-xl border-2 cursor-pointer transition-all flex items-center justify-between ${i==="Cash"?"border-blue-600 bg-blue-50":"border-gray-100 hover:border-gray-200"}`,children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:`p-2 rounded-lg ${i==="Cash"?"bg-blue-600 text-white":"bg-gray-100 text-gray-500"}`,children:m.jsx(jN,{size:20})}),m.jsxs("div",{children:[m.jsx("p",{className:"font-bold text-gray-800 text-sm",children:"Pay at Shop"}),m.jsx("p",{className:"text-[10px] text-gray-500",children:"Cash on Pickup"})]})]}),m.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center ${i==="Cash"?"border-blue-600":"border-gray-300"}`,children:i==="Cash"&&m.jsx("div",{className:"w-2.5 h-2.5 bg-blue-600 rounded-full"})})]})]})]}),m.jsx("button",{onClick:M,disabled:g,className:`w-full py-4 rounded-xl font-black text-sm uppercase tracking-widest text-white transition shadow-lg ${g?"bg-gray-300 cursor-not-allowed":"bg-slate-900 hover:bg-slate-800 active:scale-95 shadow-slate-900/20"}`,children:g?"Processing...":`Pay ${s.totalPrice} & Place Order`}),m.jsx("p",{className:"text-[10px] text-gray-400 text-center mt-6",children:"Secure checkout powered by Razorpay."}),m.jsx(Qn,{children:A&&m.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",children:m.jsxs(gt.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white w-full max-w-sm rounded-3xl shadow-2xl overflow-hidden",children:[m.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center bg-gray-50",children:[m.jsx("h3",{className:"text-lg font-black text-gray-800",children:"Add New Address"}),m.jsx("button",{onClick:()=>E(!1),className:"p-2 hover:bg-gray-200 rounded-full text-gray-500",children:m.jsx(Fr,{size:20})})]}),m.jsxs("form",{onSubmit:R,className:"p-6 space-y-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-[10px] font-bold uppercase tracking-widest text-gray-400 ml-1",children:"Street / Area"}),m.jsx("input",{required:!0,type:"text",value:T.street,onChange:D=>_({...T,street:D.target.value}),className:"w-full bg-gray-50 border border-gray-200 rounded-xl p-3 text-gray-800 focus:ring-2 focus:ring-blue-500/50 outline-none font-bold",placeholder:"Eg: 4th Line, Brundavan Gardens"})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-[10px] font-bold uppercase tracking-widest text-gray-400 ml-1",children:"City"}),m.jsx("input",{required:!0,type:"text",value:T.city,onChange:D=>_({...T,city:D.target.value}),className:"w-full bg-gray-50 border border-gray-200 rounded-xl p-3 text-gray-800 focus:ring-2 focus:ring-blue-500/50 outline-none font-bold",placeholder:"Guntur"})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-[10px] font-bold uppercase tracking-widest text-gray-400 ml-1",children:"State"}),m.jsx("input",{required:!0,type:"text",value:T.state,onChange:D=>_({...T,state:D.target.value}),className:"w-full bg-gray-50 border border-gray-200 rounded-xl p-3 text-gray-800 focus:ring-2 focus:ring-blue-500/50 outline-none font-bold",placeholder:"AP"})]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-[10px] font-bold uppercase tracking-widest text-gray-400 ml-1",children:"Pincode"}),m.jsx("input",{required:!0,type:"text",value:T.pincode,onChange:D=>_({...T,pincode:D.target.value}),className:"w-full bg-gray-50 border border-gray-200 rounded-xl p-3 text-gray-800 focus:ring-2 focus:ring-blue-500/50 outline-none font-bold",placeholder:"522007"})]}),m.jsx("button",{type:"submit",disabled:C,className:"w-full bg-slate-900 hover:bg-slate-800 text-white font-bold py-3 rounded-xl flex items-center justify-center gap-2 transition-all mt-4",children:C?m.jsx(Ca,{className:"animate-spin",size:18}):"Save & Select"})]})]})})})]}):m.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center p-4",children:[m.jsx("p",{className:"text-gray-500 mb-4",children:"No order details found."}),m.jsx("button",{onClick:()=>t("/quick-print"),className:"text-blue-600 font-bold underline",children:"Go Back"})]})};function Y6(){const s=En(),[t,e]=k.useState({totalUsers:0,todayReg:0,todayOrders:{total:0,completed:0,pending:0},todayRev:0,disk:{free:"0 GB",used:"0 GB",total:"0 GB",percentFree:"0%",uploadsSize:"0 MB",isLowSpace:!1},recentActivity:[]}),[i,a]=k.useState(!0);k.useEffect(()=>{(async()=>{try{const{data:d}=await pe.get("/admin/stats");e(d)}catch(d){console.error(d)}finally{a(!1)}})()},[]);const o=u=>u?"text-red-400 border-red-500/30 bg-red-500/10":"text-emerald-400 border-emerald-500/30 bg-emerald-500/10",l=u=>new Date(u).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return i?m.jsxs("div",{className:"p-10 flex justify-center text-slate-500 font-bold uppercase tracking-widest",children:[m.jsx(Sv,{className:"animate-spin mr-2"})," Loading..."]}):m.jsxs("div",{className:"p-4 md:p-8 space-y-12",children:[m.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-6",children:[m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[m.jsx(Ku,{className:"text-blue-400",size:18}),m.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.3em] text-slate-500",children:"Live Control Center"})]}),m.jsx("h1",{className:"text-4xl font-black tracking-tight",children:"Dashboard"})]}),t.disk&&m.jsxs(gt.div,{whileHover:{scale:1.02},onClick:()=>s("/admin/settings"),className:`cursor-pointer p-5 rounded-[2rem] border transition-all flex items-center gap-5 ${o(t.disk.isLowSpace)} shadow-2xl`,children:[m.jsx("div",{className:"p-3 bg-white/5 rounded-2xl",children:t.disk.isLowSpace?m.jsx(rg,{size:24,className:"animate-pulse"}):m.jsx(ok,{size:24})}),m.jsxs("div",{className:"flex flex-col gap-1 w-full min-w-[200px]",children:[m.jsxs("div",{className:"flex justify-between items-center text-[10px] font-black uppercase opacity-70",children:[m.jsx("p",{children:"Uploads Folder"})," ",m.jsx("p",{children:"System Free"})]}),m.jsxs("div",{className:"flex justify-between items-baseline",children:[m.jsx("p",{className:"text-xl font-black",children:t.disk.uploadsSize}),m.jsx("p",{className:"text-sm font-bold opacity-80",children:t.disk.free})]}),m.jsx("div",{className:"w-full h-1.5 bg-slate-800 rounded-full mt-2 overflow-hidden flex",children:m.jsx("div",{className:`h-full rounded-full ${t.disk.isLowSpace?"bg-red-500":"bg-emerald-500"}`,style:{width:`${100-parseFloat(t.disk.percentFree)}%`}})})]})]})]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[{title:"Total Customers",value:t.totalUsers,subtext:`+${t.todayReg} New Today`,icon:m.jsx(og,{size:20}),color:"blue"},{title:"Today's Orders",value:t.todayOrders?.total||0,subtext:m.jsxs("div",{className:"flex gap-2 text-[10px] mt-1",children:[m.jsxs("span",{className:"flex items-center text-emerald-400 gap-1",children:[m.jsx(Ta,{size:10})," ",t.todayOrders?.completed," Done"]}),m.jsxs("span",{className:"flex items-center text-yellow-400 gap-1",children:[m.jsx(h2,{size:10})," ",t.todayOrders?.pending," Pending"]})]}),icon:m.jsx(Kk,{size:20}),color:"indigo"},{title:"Daily Revenue",value:`${t.todayRev}`,subtext:"Updated in real-time",icon:m.jsx(f2,{size:20}),color:"orange"}].map((u,d)=>m.jsxs("div",{className:"bg-white/5 p-8 rounded-[2.5rem] border border-white/10 hover:bg-white/[0.07] transition-all group relative overflow-hidden",children:[m.jsxs("div",{className:"flex justify-between items-start mb-6",children:[m.jsx("div",{className:"p-4 bg-slate-900 rounded-2xl border border-white/5 text-white group-hover:scale-110 transition-transform",children:u.icon}),m.jsx(oj,{size:16,className:`text-${u.color}-500 opacity-50`})]}),m.jsx("p",{className:"text-xs font-black text-slate-500 uppercase tracking-widest mb-1",children:u.title}),m.jsx("h3",{className:"text-4xl font-black tracking-tighter mb-2",children:u.value}),m.jsx("div",{className:"text-slate-400",children:u.subtext})]},d))}),m.jsxs("div",{className:"bg-white/5 backdrop-blur-xl rounded-[2.5rem] border border-white/10 p-8 shadow-2xl",children:[m.jsxs("h3",{className:"text-xl font-black mb-6 flex items-center gap-2",children:[m.jsx(Sv,{size:20,className:"text-blue-400"})," Recent Activity Feed"]}),m.jsxs("div",{className:"space-y-4 max-h-[400px] overflow-y-auto pr-2 custom-scrollbar",children:[t.recentActivity&&t.recentActivity.map((u,d)=>m.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-2xl bg-white/[0.02] border border-white/5 hover:bg-white/[0.05] transition-colors",children:[m.jsx("div",{className:`p-3 rounded-xl ${u.type==="order"?"bg-blue-500/10 text-blue-400":"bg-purple-500/10 text-purple-400"}`,children:u.type==="order"?m.jsx(sg,{size:18}):m.jsx(Kp,{size:18})}),m.jsxs("div",{className:"flex-1",children:[m.jsx("p",{className:"font-bold text-sm text-slate-200",children:u.type==="order"?`${u.user?.name||"Unknown"} placed an order`:`${u.name} joined Jumbo Xerox`}),m.jsx("p",{className:"text-xs text-slate-500 font-medium",children:u.type==="order"?`${u.totalAmount}  ${u.paymentMethod}  ${u.files.length} Files`:`Email: ${u.email}`})]}),m.jsxs("div",{className:"text-right",children:[m.jsx("p",{className:"text-[10px] font-bold text-slate-600 uppercase tracking-widest",children:l(u.activityTime)}),u.type==="order"&&m.jsx("button",{onClick:()=>s("/admin/orders"),className:"text-[10px] text-blue-400 hover:underline mt-1",children:"View"})]})]},d)),(!t.recentActivity||t.recentActivity.length===0)&&m.jsx("p",{className:"text-center text-slate-500 italic",children:"No recent activity."})]})]})]})}function K6(){const[s,t]=k.useState([]),[e,i]=k.useState(!0),[a,o]=k.useState(""),[l,u]=k.useState(1),[d,f]=k.useState(1),[p]=k.useState(10),[g,b]=k.useState(null),[v,w]=k.useState(null),[A,E]=k.useState(0),[T,_]=k.useState(""),C=k.useRef(null),j="/api";k.useEffect(()=>{M(l)},[l]),k.useEffect(()=>(A>0?C.current=setTimeout(()=>E(A-1),1e3):A===0&&v&&P(v,T),()=>clearTimeout(C.current)),[A,v]);const M=async V=>{try{i(!0);const{data:W}=await pe.get(`/admin/orders?page=${V}&limit=${p}`);t(W.orders),f(W.totalPages)}catch{qt.error("Orders load failed")}finally{i(!1)}},R=(V,W)=>{s.find(ft=>ft._id===V).status!==W&&(W==="Completed"||W==="Cancelled"?(w(V),_(W),E(7)):P(V,W))},D=()=>{clearTimeout(C.current),w(null),E(0),_(""),qt.success("Action Undone",{icon:""})},P=async(V,W)=>{try{await pe.put(`/admin/order/${V}`,{status:W}),qt.success(`Order marked as ${W}`),w(null),E(0),M(l)}catch(rt){qt.error(rt.response?.data?.message||"Update failed"),w(null)}},X=s.filter(V=>V.user?.name?.toLowerCase().includes(a.toLowerCase())||V._id.includes(a));return m.jsxs(gt.div,{initial:{opacity:0},animate:{opacity:1},className:"p-4 md:p-8 space-y-6 min-h-screen",children:[m.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[m.jsxs("div",{children:[m.jsxs("h2",{className:"text-3xl font-black text-white tracking-tighter italic",children:["JUMBO ",m.jsx("span",{className:"text-blue-500",children:"ORDERS"})]}),m.jsx("p",{className:"text-slate-500 text-xs font-bold uppercase tracking-[0.2em]",children:"Live Printing Dashboard"})]}),m.jsxs("div",{className:"relative group",children:[m.jsx(Mr,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-500 group-focus-within:text-blue-400 transition-colors",size:18}),m.jsx("input",{type:"text",placeholder:"Search Customer / Order ID...",className:"bg-white/5 border border-white/10 rounded-2xl py-4 pl-12 pr-6 text-sm text-white focus:outline-none focus:ring-2 focus:ring-blue-500/50 w-full md:w-96 backdrop-blur-md transition-all",value:a,onChange:V=>o(V.target.value)})]})]}),m.jsx("div",{className:"bg-white/[0.03] backdrop-blur-2xl border border-white/10 rounded-[2rem] overflow-hidden shadow-2xl",children:m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full text-left border-collapse",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"bg-white/[0.02] border-b border-white/5",children:[m.jsx("th",{className:"p-6 text-[10px] font-black uppercase text-slate-500 tracking-widest",children:"Customer & Info"}),m.jsx("th",{className:"p-6 text-[10px] font-black uppercase text-slate-500 tracking-widest",children:"Mode"}),m.jsx("th",{className:"p-6 text-[10px] font-black uppercase text-slate-500 tracking-widest text-center",children:"Amount"}),m.jsx("th",{className:"p-6 text-[10px] font-black uppercase text-slate-500 tracking-widest",children:"Status Management"}),m.jsx("th",{className:"p-6 text-[10px] font-black uppercase text-slate-500 text-center",children:"Actions"})]})}),m.jsx("tbody",{className:"divide-y divide-white/5",children:e?m.jsx("tr",{children:m.jsx("td",{colSpan:"5",className:"p-20 text-center text-slate-500 animate-pulse font-bold",children:"Fetching Live Data..."})}):X.map(V=>{const W=V.status==="Completed"||V.status==="Cancelled",rt=v===V._id;return m.jsxs("tr",{className:"group hover:bg-white/[0.02] transition-all",children:[m.jsx("td",{className:"p-6",children:m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:"w-12 h-12 rounded-2xl bg-gradient-to-br from-blue-500/20 to-purple-500/20 flex items-center justify-center text-blue-400 border border-white/10 shadow-inner",children:m.jsx(zr,{size:22})}),m.jsxs("div",{children:[m.jsx("div",{className:"font-black text-white text-base leading-none mb-1",children:V.user?.name||"Unknown"}),m.jsxs("div",{className:"text-[10px] text-slate-500 font-mono tracking-tighter",children:["#",V._id.slice(-8).toUpperCase()]})]})]})}),m.jsx("td",{className:"p-6",children:V.deliveryMode==="Delivery"?m.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-purple-400 bg-purple-400/10 w-fit px-3 py-1.5 rounded-full border border-purple-400/20",children:[m.jsx(Pl,{size:14})," Delivery"]}):m.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-orange-400 bg-orange-400/10 w-fit px-3 py-1.5 rounded-full border border-orange-400/20",children:[m.jsx(v2,{size:14})," Pickup"]})}),m.jsxs("td",{className:"p-6 text-center",children:[m.jsxs("div",{className:"text-xl font-black text-white tracking-tighter",children:["",V.totalAmount]}),m.jsx("div",{className:`text-[9px] font-black px-2 py-0.5 rounded uppercase ${V.paymentStatus==="Paid"?"bg-emerald-500/10 text-emerald-500":"bg-red-500/10 text-red-500"}`,children:V.paymentStatus})]}),m.jsx("td",{className:"p-6 min-w-[240px]",children:rt?m.jsxs(gt.div,{initial:{scale:.9},animate:{scale:1},className:"flex items-center gap-3 bg-blue-600/10 border border-blue-500/30 p-2 rounded-2xl",children:[m.jsxs("div",{className:"relative flex items-center justify-center w-10 h-10 shrink-0",children:[m.jsxs("svg",{className:"w-full h-full -rotate-90",children:[m.jsx("circle",{cx:"20",cy:"20",r:"17",stroke:"currentColor",strokeWidth:"3",fill:"transparent",className:"text-white/5"}),m.jsx("circle",{cx:"20",cy:"20",r:"17",stroke:"currentColor",strokeWidth:"3",fill:"transparent",strokeDasharray:"107",strokeDashoffset:107-107*A/7,className:"text-blue-400 transition-all duration-1000"})]}),m.jsx("span",{className:"absolute text-[11px] font-black text-white",children:A})]}),m.jsxs("button",{onClick:D,className:"flex-1 bg-red-600 hover:bg-red-500 text-white text-[10px] font-black py-2.5 rounded-xl flex items-center justify-center gap-2 shadow-lg transition-all active:scale-95",children:[m.jsx(g2,{size:14})," UNDO ACTION"]})]}):W?m.jsxs("div",{className:`flex items-center justify-between px-4 py-3 rounded-2xl border ${V.status==="Completed"?"bg-emerald-500/5 text-emerald-500 border-emerald-500/20":"bg-red-500/5 text-red-500 border-red-500/20"}`,children:[m.jsxs("div",{className:"flex items-center gap-2 text-[11px] font-black uppercase",children:[V.status==="Completed"?m.jsx(Ta,{size:16}):m.jsx(UN,{size:16}),V.status]}),m.jsx(eg,{size:14,className:"opacity-30"})]}):m.jsxs("div",{className:"relative group/sel",children:[m.jsxs("select",{value:V.status,onChange:ft=>R(V._id,ft.target.value),className:"w-full bg-slate-900/50 border border-white/10 rounded-2xl px-4 py-3 text-xs font-bold text-white appearance-none cursor-pointer focus:ring-2 focus:ring-blue-500/50 hover:bg-slate-800 transition-all",children:[m.jsx("option",{value:"Pending",children:" Pending"}),m.jsx("option",{value:"Processing",children:" Processing"}),m.jsx("option",{value:"Completed",children:" Completed"}),m.jsx("option",{value:"Cancelled",children:" Cancelled"})]}),m.jsx(h2,{size:16,className:"absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none text-slate-500 group-hover/sel:text-blue-400 transition-colors"})]})}),m.jsx("td",{className:"p-6 text-center",children:m.jsx("button",{onClick:()=>b(V),className:"p-3 bg-white/5 hover:bg-blue-600 text-slate-400 hover:text-white rounded-2xl border border-white/10 transition-all active:scale-90",children:m.jsx(tk,{size:20})})})]},V._id)})})]})})}),m.jsxs("div",{className:"flex items-center justify-center gap-4 py-6",children:[m.jsx("button",{disabled:l===1,onClick:()=>u(V=>V-1),className:"p-3 bg-white/5 rounded-xl border border-white/10 disabled:opacity-30 text-white",children:m.jsx(zN,{size:20})}),m.jsxs("span",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:["Page ",l," of ",d]}),m.jsx("button",{disabled:l===d,onClick:()=>u(V=>V+1),className:"p-3 bg-white/5 rounded-xl border border-white/10 disabled:opacity-30 text-white",children:m.jsx(Wn,{size:20})})]}),m.jsx(Qn,{children:g&&m.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/80 backdrop-blur-md",children:m.jsxs(gt.div,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},exit:{y:50,opacity:0},className:"bg-slate-900 border border-white/10 w-full max-w-2xl rounded-[2.5rem] shadow-2xl overflow-hidden max-h-[90vh]",children:[m.jsxs("div",{className:"p-8 border-b border-white/5 flex justify-between items-start bg-white/[0.02]",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"text-2xl font-black text-white leading-none mb-2",children:"Order Summary"}),m.jsxs("p",{className:"text-slate-500 text-[10px] font-mono uppercase tracking-tighter",children:["Transaction Hash: ",g._id]})]}),m.jsx("button",{onClick:()=>b(null),className:"p-2.5 bg-white/5 rounded-full hover:bg-red-500 transition-all",children:m.jsx(Fr,{size:20,className:"text-white"})})]}),m.jsx("div",{className:"p-8 overflow-y-auto",children:m.jsx("div",{className:"space-y-6",children:m.jsxs("div",{children:[m.jsx("h4",{className:"text-[10px] font-black uppercase text-slate-500 mb-4 tracking-[0.2em]",children:"Customer Files"}),m.jsx("div",{className:"grid gap-3",children:g.files.map((V,W)=>{const rt=g.status==="Completed"||g.status==="Cancelled";return m.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/[0.03] border border-white/5 rounded-2xl hover:border-blue-500/30 transition-all",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"p-2 bg-blue-500/10 rounded-lg",children:m.jsx(bl,{size:18,className:"text-blue-400"})}),m.jsx("span",{className:"text-sm font-bold text-slate-200 truncate max-w-[240px]",children:V.name})]}),rt?m.jsx("div",{className:"text-[10px] font-black text-red-400/50 bg-red-400/5 px-3 py-1.5 rounded-lg border border-red-400/10",children:"FILE ARCHIVED"}):m.jsxs("a",{href:`${j.replace("/api","")}/uploads/${V.url.split("/").pop()}`,download:V.name,target:"_blank",rel:"noreferrer",className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white text-[10px] font-black rounded-xl transition-all shadow-lg",children:[m.jsx(ZN,{size:14})," DOWNLOAD"]})]},W)})})]})})})]})})})]})}function W6(){const[s,t]=k.useState([]),[e,i]=k.useState("");k.useEffect(()=>{a()},[]);const a=async()=>{try{const{data:u}=await pe.get("/admin/users");t(u)}catch{qt.error("Users load failed")}},o=async(u,d)=>{if(d==="admin")return qt.error("Admin account cannot be deleted!");if(window.confirm("Are you sure you want to delete this user?"))try{await pe.delete(`/admin/user/${u}`),qt.success("User deleted successfully"),a()}catch(f){qt.error(f.response?.data?.message||"Delete failed")}},l=s.filter(u=>u.name?.toLowerCase().includes(e.toLowerCase())||u.email?.toLowerCase().includes(e.toLowerCase()));return m.jsxs(gt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"space-y-6",children:[m.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6",children:[m.jsxs("div",{children:[m.jsxs("h2",{className:"text-2xl font-black tracking-tight flex items-center gap-3",children:[m.jsx(og,{className:"text-cyan-400"})," User Management"]}),m.jsx("p",{className:"text-slate-500 text-sm",children:"Directory of all registered customers and staff."})]}),m.jsxs("div",{className:"relative group",children:[m.jsx(Mr,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-500 group-focus-within:text-blue-400 transition-colors",size:18}),m.jsx("input",{type:"text",placeholder:"Search users...",className:"bg-white/5 border border-white/10 rounded-2xl py-3 pl-12 pr-6 text-sm text-white focus:outline-none focus:ring-2 focus:ring-blue-500/40 w-full md:w-80 transition-all placeholder:text-slate-600 shadow-xl",value:e,onChange:u=>i(u.target.value)})]})]}),m.jsx("div",{className:"bg-white/5 backdrop-blur-xl rounded-[2.5rem] border border-white/10 overflow-hidden shadow-2xl",children:m.jsxs("div",{className:"overflow-x-auto",children:[m.jsxs("table",{className:"w-full text-left",children:[m.jsx("thead",{className:"bg-white/[0.02] border-b border-white/5",children:m.jsxs("tr",{children:[m.jsxs("th",{className:"p-6 text-[10px] font-black uppercase text-slate-500 tracking-widest",children:[" ","Identity"," "]}),m.jsxs("th",{className:"p-6 text-[10px] font-black uppercase text-slate-500 tracking-widest",children:[" ","Email Access"," "]}),m.jsxs("th",{className:"p-6 text-[10px] font-black uppercase text-slate-500 tracking-widest",children:[" ","Authority"," "]}),m.jsxs("th",{className:"p-6 text-[10px] font-black uppercase text-slate-500 tracking-widest",children:[" ","Membership"," "]}),m.jsxs("th",{className:"p-6 text-[10px] font-black uppercase text-slate-500 tracking-widest text-right",children:[" ","Actions"," "]})]})}),m.jsx("tbody",{className:"divide-y divide-white/5",children:l.map(u=>m.jsxs("tr",{className:"hover:bg-white/[0.02] transition-colors group",children:[m.jsx("td",{className:"p-6 font-medium",children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-10 h-10 rounded-2xl bg-gradient-to-br from-blue-600 to-indigo-600 p-[1px] shadow-lg shadow-blue-500/10",children:m.jsx("div",{className:"w-full h-full bg-slate-900 rounded-[15px] flex items-center justify-center font-black text-white text-xs",children:u.name.charAt(0)})}),m.jsx("span",{className:"text-slate-100 font-bold",children:u.name})]})}),m.jsx("td",{className:"p-6",children:m.jsxs("div",{className:"flex items-center gap-2 text-slate-400 text-sm",children:[m.jsx(Ll,{size:14,className:"text-slate-600"})," ",u.email]})}),m.jsx("td",{className:"p-6",children:m.jsxs("div",{className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-widest ${u.role==="admin"?"bg-purple-500/10 text-purple-400 border border-purple-500/20 shadow-[0_0_15px_rgba(168,85,247,0.1)]":"bg-blue-500/10 text-blue-400 border border-blue-500/20"}`,children:[m.jsx(Xk,{size:10})," ",u.role]})}),m.jsx("td",{className:"p-6",children:m.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-slate-500",children:[m.jsx(u2,{size:14,className:"text-slate-700"})," ",new Date(u.createdAt).toLocaleDateString()]})}),m.jsx("td",{className:"p-6 text-right",children:u.role!=="admin"&&m.jsx("button",{onClick:()=>o(u._id,u.role),className:"p-2 bg-red-500/10 text-red-500 rounded-xl hover:bg-red-500 hover:text-white transition-all border border-red-500/20",children:m.jsx(ag,{size:16})})})]},u._id))})]}),l.length===0&&m.jsxs("div",{className:"p-20 text-center",children:[m.jsx(mj,{className:"mx-auto mb-4 text-slate-700",size:40}),m.jsxs("p",{className:"text-slate-500 font-bold italic",children:[" ","No user records found."," "]})]})]})})]})}function Q6(){const s=async()=>{if(window.confirm("Are you sure? Payment avvani 48hrs patha files anni delete avthayi."))try{await pe.delete("/admin/cleanup-unpaid"),qt.success("Cleanup successful!")}catch{qt.error("Cleanup failed")}};return m.jsxs(gt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"max-w-4xl space-y-8",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-3xl font-black text-white tracking-tight",children:"System Settings"}),m.jsx("p",{className:"text-slate-500",children:"Configure global rules and manage server resources."})]}),m.jsxs("div",{className:"grid gap-6",children:[m.jsxs("div",{className:"bg-white/5 backdrop-blur-xl p-8 rounded-[2.5rem] border border-white/10 shadow-2xl relative overflow-hidden group",children:[m.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-5 group-hover:opacity-10 transition-opacity",children:m.jsx(ag,{size:120})}),m.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[m.jsx("div",{className:"bg-red-500/20 p-3 rounded-2xl text-red-500 border border-red-500/20",children:m.jsx(qk,{size:24})}),m.jsx("h3",{className:"text-xl font-bold text-white",children:"Storage & Maintenance"})]}),m.jsx("p",{className:"text-slate-400 text-sm mb-8 leading-relaxed max-w-xl",children:"Clean up temporary PDF files that haven't been paid for within 48 hours. This action will free up server space and cannot be undone."}),m.jsx("button",{onClick:s,className:"bg-red-600 hover:bg-red-500 text-white px-8 py-3.5 rounded-2xl font-black text-xs uppercase tracking-widest transition-all active:scale-95 shadow-lg shadow-red-900/20",children:"Purge Unpaid Files (48h)"})]}),m.jsxs("div",{className:"bg-white/5 backdrop-blur-xl p-8 rounded-[2.5rem] border border-white/10 shadow-2xl opacity-60 relative",children:[m.jsx("div",{className:"absolute top-4 right-8 bg-blue-500/10 text-blue-400 text-[10px] font-black uppercase tracking-widest px-3 py-1 rounded-full border border-blue-500/20",children:"Coming Soon"}),m.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[m.jsx("div",{className:"bg-blue-600/20 p-3 rounded-2xl text-blue-400 border border-blue-500/20",children:m.jsx(WN,{size:24})}),m.jsx("h3",{className:"text-xl font-bold text-white",children:"Dynamic Pricing Rules"})]}),m.jsx("p",{className:"text-slate-500 text-sm mb-8",children:"Manage per-page costs, color rates, and binding charges directly from here."}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{className:"bg-slate-900/50 border border-white/5 p-4 rounded-2xl flex justify-between items-center",children:[m.jsx("span",{className:"text-slate-500 font-bold text-xs uppercase",children:"B&W Rate"}),m.jsx("span",{className:"text-slate-400 font-mono",children:"2.00"})]}),m.jsxs("div",{className:"bg-slate-900/50 border border-white/5 p-4 rounded-2xl flex justify-between items-center",children:[m.jsx("span",{className:"text-slate-500 font-bold text-xs uppercase",children:"Color Rate"}),m.jsx("span",{className:"text-slate-400 font-mono",children:"10.00"})]})]})]})]})]})}function Z6(){const[s,t]=k.useState([]),[e,i]=k.useState(!0),[a,o]=k.useState("");k.useEffect(()=>{(async()=>{try{i(!0);const{data:d}=await pe.get("/admin/orders?limit=100");t(d.orders||[])}catch{qt.error("Payments load failed")}finally{i(!1)}})()},[]);const l=s.filter(u=>u.user?.name?.toLowerCase().includes(a.toLowerCase())||u.paymentId&&u.paymentId.toLowerCase().includes(a.toLowerCase())||u.razorpayOrderId&&u.razorpayOrderId.toLowerCase().includes(a.toLowerCase()));return e?m.jsxs("div",{className:"flex flex-col items-center justify-center h-[60vh] space-y-4",children:[m.jsx("div",{className:"w-10 h-10 border-4 border-blue-500/20 border-t-blue-500 rounded-full animate-spin"}),m.jsxs("p",{className:"text-slate-500 font-black uppercase tracking-[0.2em]",children:[" ","Loading Ledger..."," "]})]}):m.jsxs(gt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"space-y-8",children:[m.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6",children:[m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[m.jsx(wl,{className:"text-cyan-400",size:18}),m.jsxs("span",{className:"text-[10px] font-black uppercase tracking-[0.3em] text-slate-500",children:[" ","Financial Records"," "]})]}),m.jsxs("h2",{className:"text-3xl font-black text-white tracking-tight",children:[" ","Revenue Ledger"," "]})]}),m.jsxs("div",{className:"relative group",children:[m.jsx(Mr,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-500 group-focus-within:text-blue-400 transition-colors",size:18}),m.jsx("input",{type:"text",placeholder:"Search Trans. ID...",className:"bg-white/5 border border-white/10 rounded-2xl py-3.5 pl-12 pr-6 text-sm text-white focus:outline-none focus:ring-2 focus:ring-blue-500/40 w-full md:w-80 transition-all placeholder:text-slate-600",value:a,onChange:u=>o(u.target.value)})]})]}),m.jsx("div",{className:"bg-white/5 backdrop-blur-xl border border-white/10 rounded-[2.5rem] overflow-hidden shadow-2xl",children:m.jsxs("div",{className:"overflow-x-auto",children:[m.jsxs("table",{className:"w-full text-left border-collapse",children:[m.jsx("thead",{className:"bg-white/[0.02] border-b border-white/5",children:m.jsxs("tr",{children:[m.jsx("th",{className:"p-6 text-[10px] font-black uppercase text-slate-500 tracking-[0.2em]",children:"Transaction ID"}),m.jsx("th",{className:"p-6 text-[10px] font-black uppercase text-slate-500 tracking-[0.2em]",children:"Customer"}),m.jsx("th",{className:"p-6 text-[10px] font-black uppercase text-slate-500 tracking-[0.2em]",children:"Amount"}),m.jsx("th",{className:"p-6 text-[10px] font-black uppercase text-slate-500 tracking-[0.2em]",children:"Channel"}),m.jsx("th",{className:"p-6 text-[10px] font-black uppercase text-slate-500 tracking-[0.2em]",children:"Status"}),m.jsx("th",{className:"p-6 text-[10px] font-black uppercase text-slate-500 tracking-[0.2em]",children:"Timestamp"})]})}),m.jsx("tbody",{className:"divide-y divide-white/5",children:l.map(u=>m.jsxs("tr",{className:"group hover:bg-white/[0.02] transition-colors",children:[m.jsx("td",{className:"p-6",children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"p-2.5 bg-slate-900 rounded-xl border border-white/5 text-slate-400 group-hover:text-blue-400 transition-colors",children:m.jsx(Dk,{size:18})}),m.jsxs("span",{className:"font-mono text-xs font-bold text-blue-400/80 tracking-tight",children:[u.paymentId||u.razorpayOrderId||"CASH_ORDER",m.jsxs("div",{className:"text-[9px] text-slate-600 mt-0.5",children:["ORD: #",u._id.slice(-6)]})]})]})}),m.jsx("td",{className:"p-6",children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-500/10 flex items-center justify-center text-blue-500 text-[10px] font-black border border-blue-500/20",children:u.user?.name?.charAt(0)||"U"}),m.jsxs("span",{className:"font-bold text-slate-200",children:[" ",u.user?.name||"Unknown"," "]})]})}),m.jsx("td",{className:"p-6",children:m.jsxs("div",{className:"text-lg font-black text-white tracking-tighter",children:[" ","",u.totalAmount," "]})}),m.jsx("td",{className:"p-6",children:m.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-slate-400",children:[m.jsx(tg,{size:14,className:"text-slate-600"})," ",u.paymentMethod]})}),m.jsx("td",{className:"p-6",children:m.jsxs("div",{className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-wider ${u.paymentStatus==="Paid"?"bg-emerald-500/10 text-emerald-500 border border-emerald-500/20":"bg-red-500/10 text-red-500 border border-red-500/20"}`,children:[u.paymentStatus==="Paid"?m.jsx(Ta,{size:12}):m.jsx(GN,{size:12}),u.paymentStatus]})}),m.jsx("td",{className:"p-6",children:m.jsxs("div",{className:"space-y-1",children:[m.jsxs("div",{className:"flex items-center gap-1.5 text-xs font-bold text-slate-300",children:[m.jsx(u2,{size:12,className:"text-slate-600"})," ",new Date(u.createdAt).toLocaleDateString()]}),m.jsx("div",{className:"text-[10px] font-medium text-slate-500",children:new Date(u.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})})]},u._id))})]}),l.length===0&&m.jsx("div",{className:"p-20 text-center",children:m.jsxs("p",{className:"text-slate-500 font-bold italic",children:[" ","No transaction records."," "]})})]})})]})}function J6(){const[s,t]=k.useState([]),[e,i]=k.useState(!0);k.useEffect(()=>{a()},[]);const a=async()=>{try{i(!0);const{data:l}=await pe.get("/admin/orders?limit=100"),d=(l.orders||[]).filter(f=>f.deliveryMode==="Delivery");t(d)}catch{qt.error("Orders load failed")}finally{i(!1)}},o=async l=>{const u=qt.loading("Connecting to Shiprocket...");try{const{data:d}=await pe.post(`/admin/order/${l}/ship`);qt.success("Shipment Created! ID: "+d.data.shipment_id,{id:u}),a()}catch(d){qt.error(d.response?.data?.message||"Shipping failed",{id:u})}};return e?m.jsxs("div",{className:"flex flex-col items-center justify-center h-[50vh] text-slate-500 font-bold uppercase tracking-[0.3em]",children:[m.jsx(Ca,{className:"animate-spin mb-4 text-blue-500",size:32})," ","Syncing Logistics..."]}):m.jsxs(gt.div,{initial:{opacity:0},animate:{opacity:1},className:"space-y-6",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsxs("h2",{className:"text-2xl font-black text-white flex items-center gap-3",children:[m.jsx(Pl,{className:"text-blue-500"})," Shipping Management"]}),m.jsxs("div",{className:"bg-blue-600/10 text-blue-500 px-4 py-2 rounded-2xl text-xs font-black uppercase tracking-widest",children:[s.length," Ready for Dispatch"]})]}),m.jsx("div",{className:"bg-white/5 backdrop-blur-xl rounded-[2.5rem] border border-white/10 overflow-hidden shadow-2xl",children:m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full text-left",children:[m.jsx("thead",{className:"bg-white/[0.02] border-b border-white/5",children:m.jsxs("tr",{children:[m.jsx("th",{className:"p-6 text-[10px] font-black uppercase text-slate-500",children:"Customer"}),m.jsx("th",{className:"p-6 text-[10px] font-black uppercase text-slate-500",children:"Destination"}),m.jsx("th",{className:"p-6 text-[10px] font-black uppercase text-slate-500",children:"Status"}),m.jsx("th",{className:"p-6 text-[10px] font-black uppercase text-slate-500",children:"Tracking Info"}),m.jsx("th",{className:"p-6 text-center text-[10px] font-black uppercase text-slate-500",children:"Actions"})]})}),m.jsx("tbody",{className:"divide-y divide-white/5",children:s.length===0?m.jsx("tr",{children:m.jsx("td",{colSpan:"5",className:"p-20 text-center text-slate-500 italic",children:"No delivery orders found."})}):s.map(l=>m.jsxs("tr",{className:"hover:bg-white/[0.02]",children:[m.jsx("td",{className:"p-6",children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-9 h-9 rounded-xl bg-slate-900 border border-white/5 flex items-center justify-center text-blue-400",children:m.jsx(zr,{size:18})}),m.jsx("p",{className:"text-white font-bold leading-none",children:l.user?.name||"Unknown"})]})}),m.jsxs("td",{className:"p-6 text-xs text-white/80 font-mono",children:[m.jsx(ig,{size:12,className:"inline mr-1"}),l.shippingAddress?.city||"Missing Address"]}),m.jsx("td",{className:"p-6",children:m.jsx("span",{className:`px-3 py-1 rounded-full text-[10px] font-black uppercase border ${l.status==="Completed"?"bg-emerald-500/10 text-emerald-500 border-emerald-500/20":"bg-yellow-500/10 text-yellow-500 border-yellow-500/20"}`,children:l.status})}),m.jsx("td",{className:"p-6 text-[10px] text-slate-500",children:l.shipmentId?`SID: ${l.shipmentId}`:"Waiting for Label..."}),m.jsx("td",{className:"p-6 text-center",children:l.shipmentId?m.jsxs("div",{className:"text-emerald-500 font-black text-[10px] flex items-center justify-center gap-1",children:[m.jsx(d2,{size:14})," Shipped"]}):l.status==="Completed"?m.jsxs("button",{onClick:()=>o(l._id),className:"bg-blue-600 hover:bg-blue-500 text-white px-5 py-2.5 rounded-xl text-[10px] font-black uppercase mx-auto flex items-center gap-2",children:[m.jsx(x2,{size:14})," Ship Now"]}):m.jsx("span",{className:"text-slate-500 text-[10px] font-bold italic",children:"Wait for Print"})})]},l._id))})]})})})]})}function tB(){return m.jsxs(H_,{children:[m.jsxs(ye,{element:m.jsx(y3,{}),children:[m.jsx(ye,{path:"/",element:m.jsx(HO,{})}),m.jsx(ye,{path:"/about",element:m.jsx(VO,{})}),m.jsx(ye,{path:"/services",element:m.jsx(H6,{})}),m.jsx(ye,{path:"/contact",element:m.jsx(V6,{})}),m.jsx(ye,{path:"/login",element:m.jsx(IO,{})}),m.jsx(ye,{path:"/register",element:m.jsx(UO,{})}),m.jsxs(ye,{element:m.jsx(b3,{}),children:[m.jsx(ye,{path:"/dashboard",element:m.jsx($6,{})}),m.jsx(ye,{path:"/quick-print",element:m.jsx(q6,{})}),m.jsx(ye,{path:"/profile",element:m.jsx(G6,{})}),m.jsx(ye,{path:"/checkout",element:m.jsx(X6,{})})]})]}),m.jsx(ye,{element:m.jsx(v3,{}),children:m.jsxs(ye,{path:"/admin",element:m.jsx(FO,{}),children:[m.jsx(ye,{index:!0,element:m.jsx(Y6,{})}),m.jsx(ye,{path:"orders",element:m.jsx(K6,{})}),m.jsx(ye,{path:"users",element:m.jsx(W6,{})}),m.jsx(ye,{path:"payments",element:m.jsx(Z6,{})}),m.jsx(ye,{path:"settings",element:m.jsx(Q6,{})}),m.jsx(ye,{path:"shipping",element:m.jsx(J6,{})})]})}),m.jsx(ye,{path:"*",element:m.jsx("div",{className:"text-center mt-20 text-2xl",children:"404 - Page Not Found"})})]})}class dl extends Error{}dl.prototype.name="InvalidTokenError";function eB(s){return decodeURIComponent(atob(s).replace(/(.)/g,(t,e)=>{let i=e.charCodeAt(0).toString(16).toUpperCase();return i.length<2&&(i="0"+i),"%"+i}))}function iB(s){let t=s.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return eB(t)}catch{return atob(t)}}function Xw(s,t){if(typeof s!="string")throw new dl("Invalid token specified: must be a string");t||(t={});const e=t.header===!0?0:1,i=s.split(".")[e];if(typeof i!="string")throw new dl(`Invalid token specified: missing part #${e+1}`);let a;try{a=iB(i)}catch(o){throw new dl(`Invalid token specified: invalid base64 for part #${e+1} (${o.message})`)}try{return JSON.parse(a)}catch(o){throw new dl(`Invalid token specified: invalid json for part #${e+1} (${o.message})`)}}const nB=({children:s})=>{const[t,e]=k.useState(null),[i,a]=k.useState(!0),o=En(),l=k.useCallback(()=>{localStorage.removeItem("token"),e(null),o("/login")},[o]),u=d=>{localStorage.setItem("token",d);try{const f=Xw(d);e(f),f.role==="admin"?o("/admin"):o("/dashboard")}catch(f){console.error("Invalid token:",f)}};return k.useEffect(()=>{(()=>{const f=localStorage.getItem("token");if(f)try{const p=Xw(f),g=Date.now()/1e3;p.exp&&p.exp<g?l():e(p)}catch(p){console.error("Auth check error:",p),l()}a(!1)})()},[l]),m.jsx(ss.Provider,{value:{user:t,login:u,logout:l,loading:i},children:!i&&s})};"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(s=>console.log(" Service Worker Registered:",s.scope)).catch(s=>console.log(" Service Worker Failed:",s))});YC.createRoot(document.getElementById("root")).render(m.jsx(Zn.StrictMode,{children:m.jsx(dN,{children:m.jsxs(nB,{children:[m.jsx(BO,{position:"top-center"}),m.jsx(tB,{})]})})}));
